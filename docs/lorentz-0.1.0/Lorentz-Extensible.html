<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.Extensible</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.Extensible.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lorentz-0.1.0: EDSL for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.Extensible</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains implementation of <code><a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a></code> values.</p><p><code>Extensible</code> values are an alternative representation of sum-types
for Michelson. Instead of representing them as nested options, we
treat them as (Natural, ByteString) pair, where the first element
of the pair represents the constructor index, while the second is
a packed argument.</p><p>With such a representation sum types can be easily upgraded: it is
possible to add new elements to the sum type, and the representation
would not change.</p><p>However, such representation essentially limits the applicability of
the values. This module does not provide Michelson-level function to
unwrap the value because it would require traversing all the possible
options in the contract code. While this is possible, it is very
inefficient. Up to this moment, we have not come up with a decent
reason to allow such behavior, so Extensible types are write-only
in Michelson code. They can be unwrapped off-chain with <code>fromExtVal</code>.</p><p>In order to preserve previous values during migrations, users should
ONLY APPEND items to the underlying sum type. Changing, reordering and
deleting items is not allowed and would lead to compatibility breakage.
Currently, this restriction in not enforced. Only no-argument and
one-argument constructors are supported.</p><p>GOOD:
  -- `Extensible GoodSumTypeV1` is backwards compatible
  -- with `Extensible GoodSumTypeV2`
  data GoodSumTypeV1 = A Natural | B
  data GoodSumTypeV2 = A Natural | B | C MText</p><p>BAD:
  -- `Extensible BadSumTypeV1` is NOT backwards compatible
  -- with `Extensible BadSumTypeV2`
  data BadSumTypeV1 = A | B
  data BadSumTypeV2 = A Natural | B | C MText</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Extensible">Extensible</a> x = <a href="#v:Extensible">Extensible</a> (<a href="Lorentz-Value.html#t:Natural" title="Lorentz.Value">Natural</a>, <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ExtConversionError">ExtConversionError</a><ul class="subs"><li>= <a href="#v:ConstructorIndexNotFound">ConstructorIndexNotFound</a> <a href="Lorentz-Value.html#t:Natural" title="Lorentz.Value">Natural</a></li><li>| <a href="#v:ArgumentUnpackFailed">ArgumentUnpackFailed</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:ExtVal">ExtVal</a> x = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> x, GExtVal x (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> x))</li><li class="src short"><span class="keyword">class</span> <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x =&gt; <a href="#t:ExtensibleHasDoc">ExtensibleHasDoc</a> x <span class="keyword">where</span><ul class="subs"><li><a href="#v:extensibleDocName">extensibleDocName</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> x -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li><a href="#v:extensibleDocDependencies">extensibleDocDependencies</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> x -&gt; [<a href="Lorentz-Doc.html#t:SomeTypeWithDoc" title="Lorentz.Doc">SomeTypeWithDoc</a>]</li><li><a href="#v:extensibleDocMdDescription">extensibleDocMdDescription</a> :: <a href="Lorentz-Doc.html#t:Markdown" title="Lorentz.Doc">Markdown</a></li></ul></li><li class="src short"><a href="#v:toExtVal">toExtVal</a> :: <a href="Lorentz-Extensible.html#t:ExtVal" title="Lorentz.Extensible">ExtVal</a> a =&gt; a -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> a</li><li class="src short"><a href="#v:fromExtVal">fromExtVal</a> :: <a href="Lorentz-Extensible.html#t:ExtVal" title="Lorentz.Extensible">ExtVal</a> a =&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> a -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> a</li><li class="src short"><a href="#v:wrapExt">wrapExt</a> :: <span class="keyword">forall</span> t (n :: <a href="../base-4.12.0.0/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a>) name field s. <a href="Lorentz-Extensible.html#t:WrapExtC" title="Lorentz.Extensible">WrapExtC</a> t n name field s =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> (&quot;c&quot; <a href="../base-4.12.0.0/GHC-TypeLits.html#t:AppendSymbol" title="GHC.TypeLits">`AppendSymbol`</a> name) -&gt; <a href="../morley-1.0.0/Michelson-Typed-Haskell-Instr-Sum.html#t:AppendCtorField" title="Michelson.Typed.Haskell.Instr.Sum">AppendCtorField</a> field s <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> t ': s)</li><li class="src short"><span class="keyword">type</span> <a href="#t:WrapExtC">WrapExtC</a> t n name field s = (Ctor n name field ~ LookupCtor name (EnumerateCtors (GetCtors t)), WrapExt field, <a href="../base-4.12.0.0/GHC-TypeNats.html#t:KnownNat" title="GHC.TypeNats">KnownNat</a> n)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Extensible" class="def">Extensible</a> x <a href="src/Lorentz.Extensible.html#Extensible" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Extensible" class="def">Extensible</a> (<a href="Lorentz-Value.html#t:Natural" title="Lorentz.Value">Natural</a>, <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Extensible" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Eq:1"></span> <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-78" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-78" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Generic:3"></span> <a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-78" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Generic:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) x0 <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) x0 -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Wrapped:4"></span> <a href="Lorentz-Coercions.html#t:Wrapped" title="Lorentz.Coercions">Wrapped</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-81" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Wrapped:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Coercions.html#t:Unwrapped" title="Lorentz.Coercions">Unwrapped</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Unwrapped" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_Wrapped-39-">_Wrapped'</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Iso-39-" title="Control.Lens.Type">Iso'</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) (<a href="Lorentz-Coercions.html#t:Unwrapped" title="Lorentz.Coercions">Unwrapped</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)) <a href="#v:_Wrapped-39-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:TypeHasDoc:5"></span> (<a href="Lorentz-Extensible.html#t:ExtensibleHasDoc" title="Lorentz.Extensible">ExtensibleHasDoc</a> x, <a href="../morley-1.0.0/Util-Type.html#t:ReifyList" title="Util.Type">ReifyList</a> DocumentCtor (EnumerateCtors (GetCtors x))) =&gt; <a href="Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-245" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:TypeHasDoc:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:typeDocName">typeDocName</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> <a href="#v:typeDocName" class="selflink">#</a></p><p class="src"><a href="#v:typeDocMdDescription">typeDocMdDescription</a> :: <a href="Lorentz-Doc.html#t:Markdown" title="Lorentz.Doc">Markdown</a> <a href="#v:typeDocMdDescription" class="selflink">#</a></p><p class="src"><a href="#v:typeDocMdReference">typeDocMdReference</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) -&gt; <a href="../morley-1.0.0/Michelson-Typed-Haskell-Doc.html#t:WithinParens" title="Michelson.Typed.Haskell.Doc">WithinParens</a> -&gt; <a href="Lorentz-Doc.html#t:Markdown" title="Lorentz.Doc">Markdown</a> <a href="#v:typeDocMdReference" class="selflink">#</a></p><p class="src"><a href="#v:typeDocDependencies">typeDocDependencies</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) -&gt; [<a href="Lorentz-Doc.html#t:SomeTypeWithDoc" title="Lorentz.Doc">SomeTypeWithDoc</a>] <a href="#v:typeDocDependencies" class="selflink">#</a></p><p class="src"><a href="#v:typeDocHaskellRep">typeDocHaskellRep</a> :: <a href="../morley-1.0.0/Michelson-Typed-Haskell-Doc.html#t:TypeDocHaskellRep" title="Michelson.Typed.Haskell.Doc">TypeDocHaskellRep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) <a href="#v:typeDocHaskellRep" class="selflink">#</a></p><p class="src"><a href="#v:typeDocMichelsonRep">typeDocMichelsonRep</a> :: <a href="../morley-1.0.0/Michelson-Typed-Haskell-Doc.html#t:TypeDocMichelsonRep" title="Michelson.Typed.Haskell.Doc">TypeDocMichelsonRep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) <a href="#v:typeDocMichelsonRep" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:IsoValue:6"></span> <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-79" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:IsoValue:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) :: <a href="../morley-1.0.0/Michelson-Typed-T.html#t:T" title="Michelson.Typed.T">T</a> <a href="#t:ToT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toVal">toVal</a> :: <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)) <a href="#v:toVal" class="selflink">#</a></p><p class="src"><a href="#v:fromVal">fromVal</a> :: <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)) -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x <a href="#v:fromVal" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:HasTypeAnn:7"></span> <a href="Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-79" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:HasTypeAnn:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTypeAnn">getTypeAnn</a> :: <a href="../morley-1.0.0/Michelson-Typed-Annotation.html#t:Notes" title="Michelson.Typed.Annotation">Notes</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)) <a href="src/Lorentz.TypeAnns.html#getTypeAnn" class="link">Source</a> <a href="#v:getTypeAnn" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Rep:8"></span> <span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-78" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Rep:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="src"><span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) = <a href="../base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="../base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Extensible&quot; &quot;Lorentz.Extensible&quot; &quot;lorentz-0.1.0-34InOYPWuH88380O5o3fdq&quot; <a href="Lorentz-Value.html#v:True" title="Lorentz.Value">True</a>) (<a href="../base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="../base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Extensible&quot; <a href="../base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="Lorentz-Value.html#v:False" title="Lorentz.Value">False</a>) (<a href="../base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="../base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="Lorentz-Prelude.html#v:Nothing" title="Lorentz.Prelude">Nothing</a> :: <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) <a href="../base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="../base-4.12.0.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> <a href="../base-4.12.0.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Lorentz-Value.html#t:Natural" title="Lorentz.Value">Natural</a>, <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>))))</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:Unwrapped:9"></span> <span class="keyword">type</span> <a href="Lorentz-Coercions.html#t:Unwrapped" title="Lorentz.Coercions">Unwrapped</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-81" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:Unwrapped:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Coercions.html#t:Unwrapped" title="Lorentz.Coercions">Unwrapped</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) = GUnwrapped (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x))</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Extensible:ToT:10"></span> <span class="keyword">type</span> <a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x)</span> <a href="src/Lorentz.Extensible.html#line-79" class="link">Source</a> <a href="#t:Extensible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Extensible:ToT:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x) = <a href="../morley-1.0.0/Michelson-Typed-Haskell-Value.html#t:GValueType" title="Michelson.Typed.Haskell.Value">GValueType</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> x))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExtConversionError" class="def">ExtConversionError</a> <a href="src/Lorentz.Extensible.html#ExtConversionError" class="link">Source</a> <a href="#t:ExtConversionError" class="selflink">#</a></p><div class="doc"><p>Errors related to fromExtVal conversion</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConstructorIndexNotFound" class="def">ConstructorIndexNotFound</a> <a href="Lorentz-Value.html#t:Natural" title="Lorentz.Value">Natural</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ArgumentUnpackFailed" class="def">ArgumentUnpackFailed</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:ExtConversionError" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ExtConversionError:Eq:1"></span> <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a></span> <a href="src/Lorentz.Extensible.html#line-128" class="link">Source</a> <a href="#t:ExtConversionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ExtConversionError:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ExtConversionError:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a></span> <a href="src/Lorentz.Extensible.html#line-128" class="link">Source</a> <a href="#t:ExtConversionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ExtConversionError:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ExtConversionError:Buildable:3"></span> <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a></span> <a href="src/Lorentz.Extensible.html#line-130" class="link">Source</a> <a href="#t:ExtConversionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ExtConversionError:Buildable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Extensible.html">Lorentz.Extensible</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> -&gt; <a href="../fmt-0.6.1.2/Fmt.html#t:Builder" title="Fmt">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ExtVal" class="def">ExtVal</a> x = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> x, GExtVal x (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> x)) <a href="src/Lorentz.Extensible.html#ExtVal" class="link">Source</a> <a href="#t:ExtVal" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> x =&gt; <a id="t:ExtensibleHasDoc" class="def">ExtensibleHasDoc</a> x <span class="keyword">where</span> <a href="src/Lorentz.Extensible.html#ExtensibleHasDoc" class="link">Source</a> <a href="#t:ExtensibleHasDoc" class="selflink">#</a></p><div class="doc"><p>Information to be provided for documenting some <code><code><a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a></code> x</code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Lorentz-Extensible.html#v:extensibleDocName" title="Lorentz.Extensible">extensibleDocName</a>, <a href="Lorentz-Extensible.html#v:extensibleDocMdDescription" title="Lorentz.Extensible">extensibleDocMdDescription</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:extensibleDocName" class="def">extensibleDocName</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> x -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> <a href="src/Lorentz.Extensible.html#extensibleDocName" class="link">Source</a> <a href="#v:extensibleDocName" class="selflink">#</a></p><div class="doc"><p>Implementation for <code><a href="Lorentz-Doc.html#v:typeDocName" title="Lorentz.Doc">typeDocName</a></code> of the corresponding <code>Extensible</code>.</p></div><p class="src"><a id="v:extensibleDocDependencies" class="def">extensibleDocDependencies</a> :: <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> x -&gt; [<a href="Lorentz-Doc.html#t:SomeTypeWithDoc" title="Lorentz.Doc">SomeTypeWithDoc</a>] <a href="src/Lorentz.Extensible.html#extensibleDocDependencies" class="link">Source</a> <a href="#v:extensibleDocDependencies" class="selflink">#</a></p><div class="doc"><p>Implementation for <code><a href="Lorentz-Doc.html#v:typeDocDependencies" title="Lorentz.Doc">typeDocDependencies</a></code> of the corresponding <code>Extensible</code>.</p></div><p class="src"><a id="v:extensibleDocDependencies" class="def">extensibleDocDependencies</a> :: (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> x, <a href="../morley-1.0.0/Michelson-Typed-Haskell-Doc.html#t:GTypeHasDoc" title="Michelson.Typed.Haskell.Doc">GTypeHasDoc</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> x)) =&gt; <a href="Lorentz-Prelude.html#t:Proxy" title="Lorentz.Prelude">Proxy</a> x -&gt; [<a href="Lorentz-Doc.html#t:SomeTypeWithDoc" title="Lorentz.Doc">SomeTypeWithDoc</a>] <a href="src/Lorentz.Extensible.html#extensibleDocDependencies" class="link">Source</a> <a href="#v:extensibleDocDependencies" class="selflink">#</a></p><div class="doc"><p>Implementation for <code><a href="Lorentz-Doc.html#v:typeDocDependencies" title="Lorentz.Doc">typeDocDependencies</a></code> of the corresponding <code>Extensible</code>.</p></div><p class="src"><a id="v:extensibleDocMdDescription" class="def">extensibleDocMdDescription</a> :: <a href="Lorentz-Doc.html#t:Markdown" title="Lorentz.Doc">Markdown</a> <a href="src/Lorentz.Extensible.html#extensibleDocMdDescription" class="link">Source</a> <a href="#v:extensibleDocMdDescription" class="selflink">#</a></p><div class="doc"><p>Overall description of this type.</p></div></div></div><div class="top"><p class="src"><a id="v:toExtVal" class="def">toExtVal</a> :: <a href="Lorentz-Extensible.html#t:ExtVal" title="Lorentz.Extensible">ExtVal</a> a =&gt; a -&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> a <a href="src/Lorentz.Extensible.html#toExtVal" class="link">Source</a> <a href="#v:toExtVal" class="selflink">#</a></p><div class="doc"><p>Converts a value from a Haskell representation to its
   extensible Michelson representation (i.e. (Natural, Bytestring) pair).</p></div></div><div class="top"><p class="src"><a id="v:fromExtVal" class="def">fromExtVal</a> :: <a href="Lorentz-Extensible.html#t:ExtVal" title="Lorentz.Extensible">ExtVal</a> a =&gt; <a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> a -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Extensible.html#t:ExtConversionError" title="Lorentz.Extensible">ExtConversionError</a> a <a href="src/Lorentz.Extensible.html#fromExtVal" class="link">Source</a> <a href="#v:fromExtVal" class="selflink">#</a></p><div class="doc"><p>Converts a value from an extensible Michelson representation to its
   Haskell sum-type representation. Fails if the Michelson representation
   points to a nun-existent constructor, or if we failed to unpack
   the argument.</p></div></div><div class="top"><p class="src"><a id="v:wrapExt" class="def">wrapExt</a> :: <span class="keyword">forall</span> t (n :: <a href="../base-4.12.0.0/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a>) name field s. <a href="Lorentz-Extensible.html#t:WrapExtC" title="Lorentz.Extensible">WrapExtC</a> t n name field s =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> (&quot;c&quot; <a href="../base-4.12.0.0/GHC-TypeLits.html#t:AppendSymbol" title="GHC.TypeLits">`AppendSymbol`</a> name) -&gt; <a href="../morley-1.0.0/Michelson-Typed-Haskell-Instr-Sum.html#t:AppendCtorField" title="Michelson.Typed.Haskell.Instr.Sum">AppendCtorField</a> field s <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Extensible.html#t:Extensible" title="Lorentz.Extensible">Extensible</a> t ': s) <a href="src/Lorentz.Extensible.html#wrapExt" class="link">Source</a> <a href="#v:wrapExt" class="selflink">#</a></p><div class="doc"><p>Wraps an argument on top of the stack into an Extensible representation</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WrapExtC" class="def">WrapExtC</a> t n name field s = (Ctor n name field ~ LookupCtor name (EnumerateCtors (GetCtors t)), WrapExt field, <a href="../base-4.12.0.0/GHC-TypeNats.html#t:KnownNat" title="GHC.TypeNats">KnownNat</a> n) <a href="src/Lorentz.Extensible.html#WrapExtC" class="link">Source</a> <a href="#t:WrapExtC" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>