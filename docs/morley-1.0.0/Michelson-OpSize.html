<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Michelson.OpSize</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Michelson.OpSize.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-1.0.0: Developer tools for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Michelson.OpSize</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Measuring operation size.</p><p>When originating a contract or making a transfer, tezos node forms operation
 which is submitted over network. Size of this operation depends on content
 of originated contract or transfer parameter resp., and tezos has a hard
 limit on operation size thus it has to be accounted.</p><p>Functions declared in this module allow assessing size of origination or
 transfer operation with up to constant precision because it yet accounts only
 for Michelson primitives participating in the operation.
 Other stuff which affects op size include parameters which user passes to
 origination or transfer themselves, for instance, amount of mutez carried
 to the contract. ATM we don't have necessary primitives in Haskell to be
 able to handle those parameters here, probably waiting for [TM-89].
 Currently, we can assess overall transfer size only approximatelly, like
 in <code><a href="Michelson-OpSize.html#v:smallTransferOpSize" title="Michelson.OpSize">smallTransferOpSize</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:OpSize">OpSize</a> = <a href="#v:OpSize">OpSize</a> {<ul class="subs"><li><a href="#v:unOpSize">unOpSize</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul>}</li><li class="src short"><a href="#v:opSizeHardLimit">opSizeHardLimit</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></li><li class="src short"><a href="#v:smallTransferOpSize">smallTransferOpSize</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></li><li class="src short"><a href="#v:instrOpSize">instrOpSize</a> :: <a href="Michelson-Untyped-Instr.html#t:InstrAbstract" title="Michelson.Untyped.Instr">InstrAbstract</a> <a href="Michelson-Untyped-Instr.html#t:ExpandedOp" title="Michelson.Untyped.Instr">ExpandedOp</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></li><li class="src short"><a href="#v:expandedInstrsOpSize">expandedInstrsOpSize</a> :: [<a href="Michelson-Untyped-Instr.html#t:ExpandedOp" title="Michelson.Untyped.Instr">ExpandedOp</a>] -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></li><li class="src short"><a href="#v:valueOpSize">valueOpSize</a> :: <a href="Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:OpSize" class="def">OpSize</a> <a href="src/Michelson.OpSize.html#OpSize" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></p><div class="doc"><p>Operation size in bytes.</p><p>We use newtype wrapper because there are different units of measure
 (another one is gas, and we don't want to confuse them).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:OpSize" class="def">OpSize</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unOpSize" class="def">unOpSize</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:OpSize" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpSize:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></span> <a href="src/Michelson.OpSize.html#line-36" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OpSize:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-OpSize.html">Michelson.OpSize</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpSize:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></span> <a href="src/Michelson.OpSize.html#line-36" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OpSize:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-OpSize.html">Michelson.OpSize</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpSize:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></span> <a href="src/Michelson.OpSize.html#line-36" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OpSize:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-OpSize.html">Michelson.OpSize</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpSize:Semigroup:4"></span> <a href="../base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></span> <a href="src/Michelson.OpSize.html#line-38" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OpSize:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-OpSize.html">Michelson.OpSize</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OpSize:Monoid:5"></span> <a href="../base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a></span> <a href="src/Michelson.OpSize.html#line-40" class="link">Source</a> <a href="#t:OpSize" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OpSize:Monoid:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-OpSize.html">Michelson.OpSize</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a>] -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:opSizeHardLimit" class="def">opSizeHardLimit</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="src/Michelson.OpSize.html#opSizeHardLimit" class="link">Source</a> <a href="#v:opSizeHardLimit" class="selflink">#</a></p><div class="doc"><p>Maximal operation size allowed by Tezos production nodes.</p></div></div><div class="top"><p class="src"><a id="v:smallTransferOpSize" class="def">smallTransferOpSize</a> :: <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="src/Michelson.OpSize.html#smallTransferOpSize" class="link">Source</a> <a href="#v:smallTransferOpSize" class="selflink">#</a></p><div class="doc"><p>Base cost of any transfer of 0 mutez with no extra parameters.
 (Add 'valueOpSize <a href="param">param</a>' to it to get assessment of actual transfer op size)</p></div></div><div class="top"><p class="src"><a id="v:instrOpSize" class="def">instrOpSize</a> :: <a href="Michelson-Untyped-Instr.html#t:InstrAbstract" title="Michelson.Untyped.Instr">InstrAbstract</a> <a href="Michelson-Untyped-Instr.html#t:ExpandedOp" title="Michelson.Untyped.Instr">ExpandedOp</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="src/Michelson.OpSize.html#instrOpSize" class="link">Source</a> <a href="#v:instrOpSize" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expandedInstrsOpSize" class="def">expandedInstrsOpSize</a> :: [<a href="Michelson-Untyped-Instr.html#t:ExpandedOp" title="Michelson.Untyped.Instr">ExpandedOp</a>] -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="src/Michelson.OpSize.html#expandedInstrsOpSize" class="link">Source</a> <a href="#v:expandedInstrsOpSize" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:valueOpSize" class="def">valueOpSize</a> :: <a href="Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a> -&gt; <a href="Michelson-OpSize.html#t:OpSize" title="Michelson.OpSize">OpSize</a> <a href="src/Michelson.OpSize.html#valueOpSize" class="link">Source</a> <a href="#v:valueOpSize" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>