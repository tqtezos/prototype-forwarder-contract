<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Util.CLI</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Util.CLI.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-1.0.0: Developer tools for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Util.CLI</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">General helpers</a></li><li><a href="#g:2">Named and type class based parsing</a><ul><li><a href="#g:3">Helpers for defining <code>HasCLReader</code></a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Utilities for command line options parsing
 (we use <code>optparse-applicative</code>).</p><p>Some names exported from this module are quite general when if you
 do not assume <code>optparse-applicative</code> usage, so consider using
 explicit imports for it.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:maybeAddDefault">maybeAddDefault</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:HasValue" title="Options.Applicative.Builder.Internal">HasValue</a> f =&gt; (a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> f a</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasCLReader">HasCLReader</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a</li><li><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></li><li class="src short"><a href="#v:mkCLOptionParser">mkCLOptionParser</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;name&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a</li><li class="src short"><a href="#v:mkCLOptionParserExt">mkCLOptionParserExt</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;name&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:OptionFields" title="Options.Applicative.Builder.Internal">OptionFields</a> a] -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a</li><li class="src short"><a href="#v:mkCLArgumentParser">mkCLArgumentParser</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a</li><li class="src short"><a href="#v:mkCLArgumentParserExt">mkCLArgumentParserExt</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:ArgumentFields" title="Options.Applicative.Builder.Internal">ArgumentFields</a> a] -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a</li><li class="src short"><a href="#v:namedParser">namedParser</a> :: <span class="keyword">forall</span> (a :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (name :: <a href="Util-TypeLits.html#t:Symbol" title="Util.TypeLits">Symbol</a>). (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a, <a href="Util-TypeLits.html#t:KnownSymbol" title="Util.TypeLits">KnownSymbol</a> name) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> (name <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> a)</li><li class="src short"><a href="#v:eitherReader">eitherReader</a> :: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> a) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a</li><li class="src short"><a href="#v:readerError">readerError</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>General helpers</h1></a><div class="top"><p class="src"><a id="v:maybeAddDefault" class="def">maybeAddDefault</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:HasValue" title="Options.Applicative.Builder.Internal">HasValue</a> f =&gt; (a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> f a <a href="src/Util.CLI.html#maybeAddDefault" class="link">Source</a> <a href="#v:maybeAddDefault" class="selflink">#</a></p><div class="doc"><p>Maybe add the default value and make sure it will be shown in
 help message.</p></div></div><a href="#g:2" id="g:2"><h1>Named and type class based parsing</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasCLReader" class="def">HasCLReader</a> a <span class="keyword">where</span> <a href="src/Util.CLI.html#HasCLReader" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></p><div class="doc"><p>Supporting typeclass for <code><a href="Util-CLI.html#v:namedParser" title="Util.CLI">namedParser</a></code>.
 It specifies how a value should be parsed from command line.
 Even though the main purpose of this class is to implement
 helpers below, feel free to use it for other goals.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getReader" class="def">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a id="v:getMetavar" class="def">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p><div class="doc"><p>This string will be passed to the <code><a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder.html#v:metavar" title="Options.Applicative.Builder">metavar</a></code> function, hence we
 use <code><a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></code> type rather <code><a href="../morley-prelude-0.3.0/Prelude.html#t:Text" title="Prelude">Text</a></code> (even though we use <code><a href="../morley-prelude-0.3.0/Prelude.html#t:Text" title="Prelude">Text</a></code> almost
 everywhere).</p></div></div><div class="subs instances"><details id="i:HasCLReader" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:1"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></span> <a href="src/Util.CLI.html#line-79" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-CLI.html">Util.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:2"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a></span> <a href="src/Util.CLI.html#line-75" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-CLI.html">Util.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:3"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="../base-4.12.0.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a></span> <a href="src/Util.CLI.html#line-65" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-CLI.html">Util.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="../base-4.12.0.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:4"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></span> <a href="src/Util.CLI.html#line-69" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-CLI.html">Util.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:5"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="../morley-prelude-0.3.0/Prelude.html#t:Text" title="Prelude">Text</a></span> <a href="src/Util.CLI.html#line-83" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-CLI.html">Util.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="../morley-prelude-0.3.0/Prelude.html#t:Text" title="Prelude">Text</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:6"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Michelson-Untyped-EntryPoints.html#t:EpName" title="Michelson.Untyped.EntryPoints">EpName</a></span> <a href="src/Michelson.Untyped.EntryPoints.html#line-84" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-Untyped-EntryPoints.html">Michelson.Untyped.EntryPoints</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Michelson-Untyped-EntryPoints.html#t:EpName" title="Michelson.Untyped.EntryPoints">EpName</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:7"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Michelson-Text.html#t:MText" title="Michelson.Text">MText</a></span> <a href="src/Michelson.Text.html#line-135" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Michelson-Text.html">Michelson.Text</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Michelson-Text.html#t:MText" title="Michelson.Text">MText</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:8"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Tezos-Crypto.html#t:KeyHash" title="Tezos.Crypto">KeyHash</a></span> <a href="src/Tezos.Crypto.html#line-411" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tezos-Crypto.html">Tezos.Crypto</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Tezos-Crypto.html#t:KeyHash" title="Tezos.Crypto">KeyHash</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:9"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Tezos-Core.html#t:Mutez" title="Tezos.Core">Mutez</a></span> <a href="src/Tezos.Core.html#line-80" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tezos-Core.html">Tezos.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Tezos-Core.html#t:Mutez" title="Tezos.Core">Mutez</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:10"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Tezos-Address.html#t:Address" title="Tezos.Address">Address</a></span> <a href="src/Tezos.Address.html#line-179" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tezos-Address.html">Tezos.Address</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Tezos-Address.html#t:Address" title="Tezos.Address">Address</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCLReader:HasCLReader:11"></span> <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> <a href="Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a></span> <a href="src/Morley.CLI.html#line-75" class="link">Source</a> <a href="#t:HasCLReader" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCLReader:HasCLReader:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-CLI.html">Morley.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getReader">getReader</a> :: <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> <a href="Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a> <a href="src/Util.CLI.html#getReader" class="link">Source</a> <a href="#v:getReader" class="selflink">#</a></p><p class="src"><a href="#v:getMetavar">getMetavar</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Util.CLI.html#getMetavar" class="link">Source</a> <a href="#v:getMetavar" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkCLOptionParser" class="def">mkCLOptionParser</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;name&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a <a href="src/Util.CLI.html#mkCLOptionParser" class="link">Source</a> <a href="#v:mkCLOptionParser" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a></code> for a value using <code><a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a></code> instance
 (hence <code>CL</code> in the name). It uses reader and metavar from that
 class, the rest should be supplied as arguments.</p><p>We expect some common modifiers to be always provided, a list of
 extra modifies can be provided as well.</p></div></div><div class="top"><p class="src"><a id="v:mkCLOptionParserExt" class="def">mkCLOptionParserExt</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;name&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:OptionFields" title="Options.Applicative.Builder.Internal">OptionFields</a> a] -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a <a href="src/Util.CLI.html#mkCLOptionParserExt" class="link">Source</a> <a href="#v:mkCLOptionParserExt" class="selflink">#</a></p><div class="doc"><p>A more general version of <code><a href="Util-CLI.html#v:mkCLOptionParser" title="Util.CLI">mkCLOptionParser</a></code> which takes a list
 of extra (not as widely used) modifiers.</p></div></div><div class="top"><p class="src"><a id="v:mkCLArgumentParser" class="def">mkCLArgumentParser</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a <a href="src/Util.CLI.html#mkCLArgumentParser" class="link">Source</a> <a href="#v:mkCLArgumentParser" class="selflink">#</a></p><div class="doc"><p>Akin to <code><a href="Util-CLI.html#v:mkCLOptionParser" title="Util.CLI">mkCLOptionParser</a></code>, but for arguments rather than options.</p></div></div><div class="top"><p class="src"><a id="v:mkCLArgumentParserExt" class="def">mkCLArgumentParserExt</a> :: <span class="keyword">forall</span> a. (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; (&quot;help&quot; <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:Mod" title="Options.Applicative.Builder.Internal">Mod</a> <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Builder-Internal.html#t:ArgumentFields" title="Options.Applicative.Builder.Internal">ArgumentFields</a> a] -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> a <a href="src/Util.CLI.html#mkCLArgumentParserExt" class="link">Source</a> <a href="#v:mkCLArgumentParserExt" class="selflink">#</a></p><div class="doc"><p>Akin to <code><a href="Util-CLI.html#v:mkCLOptionParserExt" title="Util.CLI">mkCLOptionParserExt</a></code>, but for arguments rather than options.</p></div></div><div class="top"><p class="src"><a id="v:namedParser" class="def">namedParser</a> :: <span class="keyword">forall</span> (a :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (name :: <a href="Util-TypeLits.html#t:Symbol" title="Util.TypeLits">Symbol</a>). (<a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> a, <a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a> a, <a href="Util-TypeLits.html#t:KnownSymbol" title="Util.TypeLits">KnownSymbol</a> name) =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> (name <a href="Util-Named.html#t::-33-" title="Util.Named">:!</a> a) <a href="src/Util.CLI.html#namedParser" class="link">Source</a> <a href="#v:namedParser" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a></code> for a value using its type-level name.</p></div></div><a href="#g:3" id="g:3"><h2>Helpers for defining <code><a href="Util-CLI.html#t:HasCLReader" title="Util.CLI">HasCLReader</a></code></h2></a><div class="top"><p class="src"><a id="v:eitherReader" class="def">eitherReader</a> :: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> a) -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a <a href="#v:eitherReader" class="selflink">#</a></p><div class="doc"><p>Convert a function producing an <code><a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code> into a reader.</p><p>As an example, one can create a ReadM from an attoparsec Parser
 easily with</p><pre>import qualified Data.Attoparsec.Text as A
import qualified Data.Text as T
attoparsecReader :: A.Parser a -&gt; ReadM a
attoparsecReader p = eitherReader (A.parseOnly p . T.pack)</pre></div></div><div class="top"><p class="src"><a id="v:readerError" class="def">readerError</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:ReadM" title="Options.Applicative.Types">ReadM</a> a <a href="#v:readerError" class="selflink">#</a></p><div class="doc"><p>Abort option reader by exiting with an error message.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>