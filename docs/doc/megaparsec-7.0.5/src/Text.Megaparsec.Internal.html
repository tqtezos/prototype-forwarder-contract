<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><a name="line-2"></a><span class="hs-comment">-- Module      :  Text.Megaparsec.Internal</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- Copyright   :  &#169; 2015&#8211;2019 Megaparsec contributors</span><span>
</span><a name="line-4"></a><span class="hs-comment">--                &#169; 2007 Paolo Martini</span><span>
</span><a name="line-5"></a><span class="hs-comment">--                &#169; 1999&#8211;2001 Daan Leijen</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- License     :  FreeBSD</span><span>
</span><a name="line-7"></a><span class="hs-comment">--</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- Maintainer  :  Mark Karpov &lt;markkarpov92@gmail.com&gt;</span><span>
</span><a name="line-9"></a><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><a name="line-10"></a><span class="hs-comment">-- Portability :  portable</span><span>
</span><a name="line-11"></a><span class="hs-comment">--</span><span>
</span><a name="line-12"></a><span class="hs-comment">-- Internal definitions. Versioning rules do not apply here. Please do not</span><span>
</span><a name="line-13"></a><span class="hs-comment">-- rely on these unless you really know what you're doing.</span><span>
</span><a name="line-14"></a><span class="hs-comment">--</span><span>
</span><a name="line-15"></a><span class="hs-comment">-- @since 6.5.0</span><span>
</span><a name="line-16"></a><span>
</span><a name="line-17"></a><span class="hs-pragma">{-# LANGUAGE CPP                        #-}</span><span>
</span><a name="line-18"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts           #-}</span><span>
</span><a name="line-19"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances          #-}</span><span>
</span><a name="line-20"></a><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><a name="line-21"></a><span class="hs-pragma">{-# LANGUAGE LambdaCase                 #-}</span><span>
</span><a name="line-22"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses      #-}</span><span>
</span><a name="line-23"></a><span class="hs-pragma">{-# LANGUAGE RankNTypes                 #-}</span><span>
</span><a name="line-24"></a><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables        #-}</span><span>
</span><a name="line-25"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies               #-}</span><span>
</span><a name="line-26"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances       #-}</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span class="hs-cpp">#if !MIN_VERSION_base(4,11,0)
</span><span class="hs-pragma">{-# OPTIONS -Wno-noncanonical-monoid-instances #-}</span><span>
</span><a name="line-30"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-32"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Megaparsec.Internal</span><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Data types</span><span>
</span><a name="line-34"></a><span>    </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-type">Reply</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-36"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#Consumption"><span class="hs-identifier hs-type">Consumption</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-37"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#Result"><span class="hs-identifier hs-type">Result</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-38"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-39"></a><span>    </span><span class="hs-comment">-- * Helper functions</span><span>
</span><a name="line-40"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier hs-var">withHints</span></a><span>
</span><a name="line-42"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier hs-var">accHints</span></a><span>
</span><a name="line-43"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#refreshLastHint"><span class="hs-identifier hs-var">refreshLastHint</span></a><span>
</span><a name="line-44"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span>
</span><a name="line-45"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#withParsecT"><span class="hs-identifier hs-var">withParsecT</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-46"></a><span class="hs-keyword">where</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span>
</span><a name="line-49"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad</span><span>
</span><a name="line-50"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Cont.Class</span><span>
</span><a name="line-51"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Error.Class</span><span>
</span><a name="line-52"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Fix</span><span>
</span><a name="line-53"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.IO.Class</span><span>
</span><a name="line-54"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Reader.Class</span><span>
</span><a name="line-55"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.State.Class</span><span>
</span><a name="line-56"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Trans</span><span>
</span><a name="line-57"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.List.NonEmpty</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-58"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Proxy</span><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Semigroup</span><span>
</span><a name="line-60"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Set</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Set</span><span class="hs-special">)</span><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.String</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">IsString</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-62"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Class.html"><span class="hs-identifier">Text.Megaparsec.Class</span></a><span>
</span><a name="line-63"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Error.html"><span class="hs-identifier">Text.Megaparsec.Error</span></a><span>
</span><a name="line-64"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.State.html"><span class="hs-identifier">Text.Megaparsec.State</span></a><span>
</span><a name="line-65"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Stream.html"><span class="hs-identifier">Text.Megaparsec.Stream</span></a><span>
</span><a name="line-66"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Control.Monad.Fail</span><span>  </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Fail</span><span>
</span><a name="line-67"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.List.NonEmpty</span><span>  </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">NE</span><span>
</span><a name="line-68"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Set</span><span>            </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">E</span><span>
</span><a name="line-69"></a><span>
</span><a name="line-70"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-71"></a><span class="hs-comment">-- Data types</span><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span class="hs-comment">-- | 'Hints' represent a collection of 'ErrorItem's to be included into</span><span>
</span><a name="line-74"></a><span class="hs-comment">-- 'ParseError' (when it's a 'TrivialError') as &#8220;expected&#8221; message items</span><span>
</span><a name="line-75"></a><span class="hs-comment">-- when a parser fails without consuming input right after successful parser</span><span>
</span><a name="line-76"></a><span class="hs-comment">-- that produced the hints.</span><span>
</span><a name="line-77"></a><span class="hs-comment">--</span><span>
</span><a name="line-78"></a><span class="hs-comment">-- For example, without hints you could get:</span><span>
</span><a name="line-79"></a><span class="hs-comment">--</span><span>
</span><a name="line-80"></a><span class="hs-comment">-- &gt;&gt;&gt; parseTest (many (char 'r') &lt;* eof) &quot;ra&quot;</span><span>
</span><a name="line-81"></a><span class="hs-comment">-- 1:2:</span><span>
</span><a name="line-82"></a><span class="hs-comment">-- unexpected 'a'</span><span>
</span><a name="line-83"></a><span class="hs-comment">-- expecting end of input</span><span>
</span><a name="line-84"></a><span class="hs-comment">--</span><span>
</span><a name="line-85"></a><span class="hs-comment">-- We're getting better error messages with the help of hints:</span><span>
</span><a name="line-86"></a><span class="hs-comment">--</span><span>
</span><a name="line-87"></a><span class="hs-comment">-- &gt;&gt;&gt; parseTest (many (char 'r') &lt;* eof) &quot;ra&quot;</span><span>
</span><a name="line-88"></a><span class="hs-comment">-- 1:2:</span><span>
</span><a name="line-89"></a><span class="hs-comment">-- unexpected 'a'</span><span>
</span><a name="line-90"></a><span class="hs-comment">-- expecting 'r' or end of input</span><span>
</span><a name="line-91"></a><span>
</span><a name="line-92"></a><span class="hs-keyword">newtype</span><span> </span><a name="Hints"><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier">Hints</span></a></a><span> </span><a name="local-6989586621679090041"><a href="#local-6989586621679090041"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Hints"><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier">Hints</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Set</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><a href="#local-6989586621679090041"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-93"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Semigroup</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monoid</span><span class="hs-special">)</span><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span class="hs-comment">-- | All information available after parsing. This includes consumption of</span><span>
</span><a name="line-96"></a><span class="hs-comment">-- input, success (with returned value) or failure (with parse error), and</span><span>
</span><a name="line-97"></a><span class="hs-comment">-- parser state at the end of parsing.</span><span>
</span><a name="line-98"></a><span class="hs-comment">--</span><span>
</span><a name="line-99"></a><span class="hs-comment">-- See also: 'Consumption', 'Result'.</span><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span class="hs-keyword">data</span><span> </span><a name="Reply"><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier">Reply</span></a></a><span> </span><a name="local-6989586621679090038"><a href="#local-6989586621679090038"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090039"><a href="#local-6989586621679090039"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090040"><a href="#local-6989586621679090040"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Reply"><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier">Reply</span></a></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090039"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><a href="Text.Megaparsec.Internal.html#Consumption"><span class="hs-identifier hs-type">Consumption</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Result"><span class="hs-identifier hs-type">Result</span></a><span> </span><a href="#local-6989586621679090039"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090038"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090040"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span class="hs-comment">-- | Whether the input has been consumed or not.</span><span>
</span><a name="line-104"></a><span class="hs-comment">--</span><span>
</span><a name="line-105"></a><span class="hs-comment">-- See also: 'Result', 'Reply'.</span><span>
</span><a name="line-106"></a><span>
</span><a name="line-107"></a><span class="hs-keyword">data</span><span> </span><a name="Consumption"><a href="Text.Megaparsec.Internal.html#Consumption"><span class="hs-identifier">Consumption</span></a></a><span>
</span><a name="line-108"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Consumed"><a href="Text.Megaparsec.Internal.html#Consumed"><span class="hs-identifier">Consumed</span></a></a><span> </span><span class="hs-comment">-- ^ Some part of input stream was consumed</span><span>
</span><a name="line-109"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Virgin"><a href="Text.Megaparsec.Internal.html#Virgin"><span class="hs-identifier">Virgin</span></a></a><span>   </span><span class="hs-comment">-- ^ No input was consumed</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-comment">-- | Whether the parser has failed or not. On success we include the</span><span>
</span><a name="line-112"></a><span class="hs-comment">-- resulting value, on failure we include a 'ParseError'.</span><span>
</span><a name="line-113"></a><span class="hs-comment">--</span><span>
</span><a name="line-114"></a><span class="hs-comment">-- See also: 'Consumption', 'Reply'.</span><span>
</span><a name="line-115"></a><span>
</span><a name="line-116"></a><span class="hs-keyword">data</span><span> </span><a name="Result"><a href="Text.Megaparsec.Internal.html#Result"><span class="hs-identifier">Result</span></a></a><span> </span><a name="local-6989586621679090035"><a href="#local-6989586621679090035"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090036"><a href="#local-6989586621679090036"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090037"><a href="#local-6989586621679090037"><span class="hs-identifier">a</span></a></a><span>
</span><a name="line-117"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="OK"><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier">OK</span></a></a><span> </span><a href="#local-6989586621679090037"><span class="hs-identifier hs-type">a</span></a><span>                   </span><span class="hs-comment">-- ^ Parser succeeded</span><span>
</span><a name="line-118"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Error"><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier">Error</span></a></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090035"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090036"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Parser failed</span><span>
</span><a name="line-119"></a><span>
</span><a name="line-120"></a><span class="hs-comment">-- | @'ParsecT' e s m a@ is a parser with custom data component of error</span><span>
</span><a name="line-121"></a><span class="hs-comment">-- @e@, stream type @s@, underlying monad @m@ and return type @a@.</span><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-keyword">newtype</span><span> </span><a name="ParsecT"><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier">ParsecT</span></a></a><span> </span><a name="local-6989586621679090030"><a href="#local-6989586621679090030"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090031"><a href="#local-6989586621679090031"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090032"><a href="#local-6989586621679090032"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679090033"><a href="#local-6989586621679090033"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="ParsecT"><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier">ParsecT</span></a></a><span>
</span><a name="line-124"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="unParser"><a href="Text.Megaparsec.Internal.html#unParser"><span class="hs-identifier">unParser</span></a></a><span>
</span><a name="line-125"></a><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090034"><a href="#local-6989586621679090034"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-126"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090033"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090032"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090034"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- consumed-OK</span><span>
</span><a name="line-127"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090030"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090032"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090034"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- consumed-error</span><span>
</span><a name="line-128"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090033"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090032"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090034"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- empty-OK</span><span>
</span><a name="line-129"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090030"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090031"><span class="hs-identifier hs-type">s</span></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090032"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090034"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- empty-error</span><span>
</span><a name="line-130"></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090032"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090034"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-131"></a><span>
</span><a name="line-132"></a><span class="hs-comment">-- | @since 5.3.0</span><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090124"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Semigroup</span><span> </span><a href="#local-6989586621679090125"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Semigroup</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090126"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090124"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090127"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090125"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-135"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541482"><span class="hs-operator">&lt;&gt;</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">liftA2</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span class="hs-special">)</span><span>
</span><a name="line-136"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-137"></a><span>  </span><a name="local-8214565720323790435"><span class="hs-identifier">sconcat</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">sconcat</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">sequence</span><span>
</span><a name="line-138"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">sconcat</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-139"></a><span>
</span><a name="line-140"></a><span class="hs-comment">-- | @since 5.3.0</span><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090120"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Monoid</span><span> </span><a href="#local-6989586621679090121"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Monoid</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090122"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090120"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090123"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090121"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-143"></a><span>  </span><a name="local-3458764513820541483"><span class="hs-identifier">mempty</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-144"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mempty</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-145"></a><span class="hs-cpp">#if MIN_VERSION_base(4,11,0)
</span><span>  </span><a name="local-3458764513820541484"><span class="hs-identifier">mappend</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span class="hs-special">)</span><span>
</span><a name="line-147"></a><span class="hs-cpp">#else
</span><span>  </span><span class="hs-identifier">mappend</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">liftA2</span><span> </span><span class="hs-identifier">mappend</span><span>
</span><a name="line-149"></a><span class="hs-cpp">#endif
</span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mappend</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-151"></a><span>  </span><a name="local-3458764513820541485"><span class="hs-identifier">mconcat</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fmap</span><span> </span><span class="hs-identifier hs-var">mconcat</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">sequence</span><span>
</span><a name="line-152"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mconcat</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-153"></a><span>
</span><a name="line-154"></a><span class="hs-comment">-- | @since 6.3.0</span><span>
</span><a name="line-155"></a><span>
</span><a name="line-156"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">a</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090116"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">IsString</span><span> </span><a href="#local-6989586621679090115"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="#local-6989586621679090115"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090116"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090117"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-157"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">IsString</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090117"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090116"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090118"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090115"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-158"></a><span>  </span><a name="local-3458764513820541114"><span class="hs-identifier">fromString</span></a><span> </span><a name="local-6989586621679090119"><a href="#local-6989586621679090119"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#tokens"><span class="hs-identifier hs-var">tokens</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromString</span><span> </span><a href="#local-6989586621679090119"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-159"></a><span>
</span><a name="line-160"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090112"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090113"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090114"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-161"></a><span>  </span><a name="local-3458764513820541101"><span class="hs-identifier">fmap</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pMap"><span class="hs-identifier hs-var">pMap</span></a><span>
</span><a name="line-162"></a><span>
</span><a name="line-163"></a><span class="hs-identifier">pMap</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090238"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090239"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090240"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090241"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090238"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090240"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090241"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090239"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-164"></a><a name="pMap"><a href="Text.Megaparsec.Internal.html#pMap"><span class="hs-identifier">pMap</span></a></a><span> </span><a name="local-6989586621679090243"><a href="#local-6989586621679090243"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679090244"><a href="#local-6989586621679090244"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090245"><a href="#local-6989586621679090245"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090246"><a href="#local-6989586621679090246"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090247"><a href="#local-6989586621679090247"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090248"><a href="#local-6989586621679090248"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090249"><a href="#local-6989586621679090249"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-165"></a><span>  </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090244"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090245"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090246"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090243"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090247"><span class="hs-identifier hs-var">cerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090248"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090243"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090249"><span class="hs-identifier hs-var">eerr</span></a><span>
</span><a name="line-166"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pMap</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-167"></a><span>
</span><a name="line-168"></a><span class="hs-comment">-- | 'pure' returns a parser that __succeeds__ without consuming input.</span><span>
</span><a name="line-169"></a><span>
</span><a name="line-170"></a><span class="hs-keyword">instance</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090104"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Applicative</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090105"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090104"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090106"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-171"></a><span>  </span><a name="local-3458764513820541680"><span class="hs-identifier">pure</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pPure"><span class="hs-identifier hs-var">pPure</span></a><span>
</span><a name="line-172"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541679"><span class="hs-operator">&lt;*&gt;</span></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pAp"><span class="hs-identifier hs-var">pAp</span></a><span>
</span><a name="line-173"></a><span>  </span><a name="local-6989586621679090107"><a href="#local-6989586621679090107"><span class="hs-identifier">p1</span></a></a><span> </span><a name="local-3458764513820541681"><span class="hs-operator">*&gt;</span></a><span> </span><a name="local-6989586621679090108"><a href="#local-6989586621679090108"><span class="hs-identifier">p2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090107"><span class="hs-identifier hs-var">p1</span></a><span> </span><span class="hs-special">`</span><a href="Text.Megaparsec.Internal.html#pBind"><span class="hs-identifier hs-var">pBind</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier hs-var">const</span><span> </span><a href="#local-6989586621679090108"><span class="hs-identifier hs-var">p2</span></a><span>
</span><a name="line-174"></a><span>  </span><a name="local-6989586621679090109"><a href="#local-6989586621679090109"><span class="hs-identifier">p1</span></a></a><span> </span><a name="local-8214565720323790437"><span class="hs-operator">&lt;*</span></a><span> </span><a name="local-6989586621679090110"><a href="#local-6989586621679090110"><span class="hs-identifier">p2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679090111"><a href="#local-6989586621679090111"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679090109"><span class="hs-identifier hs-var">p1</span></a><span> </span><span class="hs-special">;</span><span> </span><span class="hs-identifier hs-var">void</span><span> </span><a href="#local-6989586621679090110"><span class="hs-identifier hs-var">p2</span></a><span> </span><span class="hs-special">;</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><a href="#local-6989586621679090111"><span class="hs-identifier hs-var">x1</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-175"></a><span>
</span><a name="line-176"></a><span class="hs-identifier">pPure</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679090234"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090235"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090236"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090237"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090234"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-177"></a><a name="pPure"><a href="Text.Megaparsec.Internal.html#pPure"><span class="hs-identifier">pPure</span></a></a><span> </span><a name="local-6989586621679090250"><a href="#local-6989586621679090250"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090251"><a href="#local-6989586621679090251"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090252"><a href="#local-6989586621679090252"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090252"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090250"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090251"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-178"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pPure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-179"></a><span>
</span><a name="line-180"></a><span class="hs-identifier">pAp</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090229"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-181"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090230"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090229"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090231"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090232"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090233"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-182"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090230"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090229"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090231"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090232"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-183"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090230"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090229"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090231"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090233"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-184"></a><a name="pAp"><a href="Text.Megaparsec.Internal.html#pAp"><span class="hs-identifier">pAp</span></a></a><span> </span><a name="local-6989586621679090253"><a href="#local-6989586621679090253"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679090254"><a href="#local-6989586621679090254"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090255"><a href="#local-6989586621679090255"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090256"><a href="#local-6989586621679090256"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090257"><a href="#local-6989586621679090257"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090258"><a href="#local-6989586621679090258"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090259"><a href="#local-6989586621679090259"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-185"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090260"><a href="#local-6989586621679090260"><span class="hs-identifier">mcok</span></a></a><span> </span><a name="local-6989586621679090262"><a href="#local-6989586621679090262"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090263"><a href="#local-6989586621679090263"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090264"><a href="#local-6989586621679090264"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090254"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679090263"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090256"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090262"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090257"><span class="hs-identifier hs-var">cerr</span></a><span>
</span><a name="line-186"></a><span>        </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier hs-var">accHints</span></a><span> </span><a href="#local-6989586621679090264"><span class="hs-identifier hs-var">hs</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090256"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090262"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier hs-var">withHints</span></a><span> </span><a href="#local-6989586621679090264"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090257"><span class="hs-identifier hs-var">cerr</span></a><span class="hs-special">)</span><span>
</span><a name="line-187"></a><span>      </span><a name="local-6989586621679090261"><a href="#local-6989586621679090261"><span class="hs-identifier">meok</span></a></a><span> </span><a name="local-6989586621679090265"><a href="#local-6989586621679090265"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090266"><a href="#local-6989586621679090266"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090267"><a href="#local-6989586621679090267"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090254"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679090266"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090256"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090265"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090257"><span class="hs-identifier hs-var">cerr</span></a><span>
</span><a name="line-188"></a><span>        </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier hs-var">accHints</span></a><span> </span><a href="#local-6989586621679090267"><span class="hs-identifier hs-var">hs</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090258"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679090265"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier hs-var">withHints</span></a><span> </span><a href="#local-6989586621679090267"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090259"><span class="hs-identifier hs-var">eerr</span></a><span class="hs-special">)</span><span>
</span><a name="line-189"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090253"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679090255"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090260"><span class="hs-identifier hs-var">mcok</span></a><span> </span><a href="#local-6989586621679090257"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090261"><span class="hs-identifier hs-var">meok</span></a><span> </span><a href="#local-6989586621679090259"><span class="hs-identifier hs-var">eerr</span></a><span>
</span><a name="line-190"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pAp</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-191"></a><span>
</span><a name="line-192"></a><span class="hs-comment">-- | 'empty' is a parser that __fails__ without consuming input.</span><span>
</span><a name="line-193"></a><span>
</span><a name="line-194"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090101"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090102"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Alternative</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090101"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090102"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090103"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-195"></a><span>  </span><a name="local-8214565720323790442"><span class="hs-identifier">empty</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mzero</span><span>
</span><a name="line-196"></a><span>  </span><span class="hs-special">(</span><a name="local-8214565720323790441"><span class="hs-operator">&lt;|&gt;</span></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mplus</span><span>
</span><a name="line-197"></a><span>
</span><a name="line-198"></a><span class="hs-comment">-- | 'return' returns a parser that __succeeds__ without consuming input.</span><span>
</span><a name="line-199"></a><span>
</span><a name="line-200"></a><span class="hs-keyword">instance</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090098"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090099"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090098"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090100"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-201"></a><span>  </span><a name="local-3458764513820541102"><span class="hs-identifier">return</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span>
</span><a name="line-202"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541099"><span class="hs-operator">&gt;&gt;=</span></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pBind"><span class="hs-identifier hs-var">pBind</span></a><span>
</span><a name="line-203"></a><span class="hs-cpp">#if !(MIN_VERSION_base(4,13,0))
</span><span>  </span><a name="local-3458764513820541098"><span class="hs-identifier">fail</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Fail.fail</span><span>
</span><a name="line-205"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-207"></a><span class="hs-identifier">pBind</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090224"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-208"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090225"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090224"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090226"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090227"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-209"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090227"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090225"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090224"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090226"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090228"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-210"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090225"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090224"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090226"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090228"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-211"></a><a name="pBind"><a href="Text.Megaparsec.Internal.html#pBind"><span class="hs-identifier">pBind</span></a></a><span> </span><a name="local-6989586621679090268"><a href="#local-6989586621679090268"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679090269"><a href="#local-6989586621679090269"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090270"><a href="#local-6989586621679090270"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090271"><a href="#local-6989586621679090271"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090272"><a href="#local-6989586621679090272"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090273"><a href="#local-6989586621679090273"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090274"><a href="#local-6989586621679090274"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-212"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090275"><a href="#local-6989586621679090275"><span class="hs-identifier">mcok</span></a></a><span> </span><a name="local-6989586621679090277"><a href="#local-6989586621679090277"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090278"><a href="#local-6989586621679090278"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090279"><a href="#local-6989586621679090279"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unParser</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090269"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679090277"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090278"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="#local-6989586621679090271"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090272"><span class="hs-identifier hs-var">cerr</span></a><span>
</span><a name="line-213"></a><span>        </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier hs-var">accHints</span></a><span> </span><a href="#local-6989586621679090279"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090271"><span class="hs-identifier hs-var">cok</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier hs-var">withHints</span></a><span> </span><a href="#local-6989586621679090279"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090272"><span class="hs-identifier hs-var">cerr</span></a><span class="hs-special">)</span><span>
</span><a name="line-214"></a><span>      </span><a name="local-6989586621679090276"><a href="#local-6989586621679090276"><span class="hs-identifier">meok</span></a></a><span> </span><a name="local-6989586621679090280"><a href="#local-6989586621679090280"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090281"><a href="#local-6989586621679090281"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090282"><a href="#local-6989586621679090282"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unParser</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090269"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679090280"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090281"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="#local-6989586621679090271"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090272"><span class="hs-identifier hs-var">cerr</span></a><span>
</span><a name="line-215"></a><span>        </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier hs-var">accHints</span></a><span> </span><a href="#local-6989586621679090282"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090273"><span class="hs-identifier hs-var">eok</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier hs-var">withHints</span></a><span> </span><a href="#local-6989586621679090282"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090274"><span class="hs-identifier hs-var">eerr</span></a><span class="hs-special">)</span><span>
</span><a name="line-216"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090268"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679090270"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090275"><span class="hs-identifier hs-var">mcok</span></a><span> </span><a href="#local-6989586621679090272"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090276"><span class="hs-identifier hs-var">meok</span></a><span> </span><a href="#local-6989586621679090274"><span class="hs-identifier hs-var">eerr</span></a><span>
</span><a name="line-217"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pBind</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-218"></a><span>
</span><a name="line-219"></a><span class="hs-keyword">instance</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090095"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Fail.MonadFail</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090096"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090095"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090097"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-220"></a><span>  </span><a name="local-3458764513820541104"><span class="hs-identifier">fail</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pFail"><span class="hs-identifier hs-var">pFail</span></a><span>
</span><a name="line-221"></a><span>
</span><a name="line-222"></a><span class="hs-identifier">pFail</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090220"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090221"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090222"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090223"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-223"></a><a name="pFail"><a href="Text.Megaparsec.Internal.html#pFail"><span class="hs-identifier">pFail</span></a></a><span> </span><a name="local-6989586621679090283"><a href="#local-6989586621679090283"><span class="hs-identifier">msg</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090284"><a href="#local-6989586621679090284"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090285"><a href="#local-6989586621679090285"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090286"><a href="#local-6989586621679090286"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-224"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090287"><a href="#local-6989586621679090287"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorFail"><span class="hs-identifier hs-var">ErrorFail</span></a><span> </span><a href="#local-6989586621679090283"><span class="hs-identifier hs-var">msg</span></a><span class="hs-special">)</span><span>
</span><a name="line-225"></a><span>  </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090286"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#FancyError"><span class="hs-identifier hs-var">FancyError</span></a><span> </span><a href="#local-6989586621679090285"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090287"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090284"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-226"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pFail</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-227"></a><span>
</span><a name="line-228"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090092"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadIO</span><span> </span><a href="#local-6989586621679090093"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadIO</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090094"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090092"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090093"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-229"></a><span>  </span><a name="local-8214565720323787337"><span class="hs-identifier">liftIO</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lift</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">liftIO</span><span>
</span><a name="line-230"></a><span>
</span><a name="line-231"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090085"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadReader</span><span> </span><a href="#local-6989586621679090086"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679090087"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadReader</span><span> </span><a href="#local-6989586621679090086"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090088"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090085"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090087"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-232"></a><span>  </span><a name="local-8214565720323793434"><span class="hs-identifier">ask</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lift</span><span> </span><span class="hs-identifier hs-var">ask</span><span>
</span><a name="line-233"></a><span>  </span><a name="local-8214565720323793433"><span class="hs-identifier">local</span></a><span> </span><a name="local-6989586621679090089"><a href="#local-6989586621679090089"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679090090"><a href="#local-6989586621679090090"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier hs-var">mkPT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090091"><a href="#local-6989586621679090091"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">local</span><span> </span><a href="#local-6989586621679090089"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><a href="#local-6989586621679090090"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090091"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-234"></a><span>
</span><a name="line-235"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090081"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679090082"><span class="hs-identifier hs-type">st</span></a><span> </span><a href="#local-6989586621679090083"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679090082"><span class="hs-identifier hs-type">st</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090084"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090081"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090083"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-236"></a><span>  </span><a name="local-8214565720323793415"><span class="hs-identifier">get</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lift</span><span> </span><span class="hs-identifier hs-var">get</span><span>
</span><a name="line-237"></a><span>  </span><a name="local-8214565720323793414"><span class="hs-identifier">put</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lift</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">put</span><span>
</span><a name="line-238"></a><span>
</span><a name="line-239"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090070"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadCont</span><span> </span><a href="#local-6989586621679090071"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadCont</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090072"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090070"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090071"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-240"></a><span>  </span><a name="local-8214565720323793468"><span class="hs-identifier">callCC</span></a><span> </span><a name="local-6989586621679090073"><a href="#local-6989586621679090073"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier hs-var">mkPT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090077"><a href="#local-6989586621679090077"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-241"></a><span>    </span><span class="hs-identifier hs-var">callCC</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090078"><a href="#local-6989586621679090078"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-242"></a><span>      </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090073"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679090079"><a href="#local-6989586621679090079"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier hs-var">mkPT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090080"><a href="#local-6989586621679090080"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090078"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090074"><span class="hs-identifier hs-var">pack</span></a><span> </span><a href="#local-6989586621679090080"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="#local-6989586621679090079"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090077"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-243"></a><span>    </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679090074"><a href="#local-6989586621679090074"><span class="hs-identifier">pack</span></a></a><span> </span><a name="local-6989586621679090075"><a href="#local-6989586621679090075"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090076"><a href="#local-6989586621679090076"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a href="#local-6989586621679090075"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="Text.Megaparsec.Internal.html#Virgin"><span class="hs-identifier hs-var">Virgin</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span> </span><a href="#local-6989586621679090076"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-244"></a><span>
</span><a name="line-245"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090062"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadError</span><span> </span><a href="#local-6989586621679090063"><span class="hs-identifier hs-type">e'</span></a><span> </span><a href="#local-6989586621679090064"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadError</span><span> </span><a href="#local-6989586621679090063"><span class="hs-identifier hs-type">e'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090065"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090062"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090064"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-246"></a><span>  </span><a name="local-8214565720323793453"><span class="hs-identifier">throwError</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lift</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">throwError</span><span>
</span><a name="line-247"></a><span>  </span><a name="local-6989586621679090066"><a href="#local-6989586621679090066"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323793452"><span class="hs-identifier">catchError</span></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679090067"><a href="#local-6989586621679090067"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier hs-var">mkPT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090068"><a href="#local-6989586621679090068"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-248"></a><span>    </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><a href="#local-6989586621679090066"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090068"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">catchError</span><span class="hs-special">`</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090069"><a href="#local-6989586621679090069"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-249"></a><span>      </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090067"><span class="hs-identifier hs-var">h</span></a><span> </span><a href="#local-6989586621679090069"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090068"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-250"></a><span>
</span><a name="line-251"></a><span class="hs-identifier">mkPT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679090216"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090217"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090216"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-type">Reply</span></a><span> </span><a href="#local-6989586621679090218"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090217"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090219"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090218"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090217"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090216"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090219"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-252"></a><a name="mkPT"><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier">mkPT</span></a></a><span> </span><a name="local-6989586621679090288"><a href="#local-6989586621679090288"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090289"><a href="#local-6989586621679090289"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090290"><a href="#local-6989586621679090290"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090291"><a href="#local-6989586621679090291"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090292"><a href="#local-6989586621679090292"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090293"><a href="#local-6989586621679090293"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-253"></a><span>  </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a name="local-6989586621679090294"><a href="#local-6989586621679090294"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090295"><a href="#local-6989586621679090295"><span class="hs-identifier">consumption</span></a></a><span> </span><a name="local-6989586621679090296"><a href="#local-6989586621679090296"><span class="hs-identifier">result</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679090288"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679090289"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-254"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090295"><span class="hs-identifier hs-var">consumption</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-255"></a><span>    </span><a href="Text.Megaparsec.Internal.html#Consumed"><span class="hs-identifier hs-var">Consumed</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-256"></a><span>      </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090296"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-257"></a><span>        </span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span>    </span><a name="local-6989586621679090297"><a href="#local-6989586621679090297"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090290"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090297"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090294"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-258"></a><span>        </span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><a name="local-6989586621679090298"><a href="#local-6989586621679090298"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090291"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090298"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="#local-6989586621679090294"><span class="hs-identifier hs-var">s'</span></a><span>
</span><a name="line-259"></a><span>    </span><a href="Text.Megaparsec.Internal.html#Virgin"><span class="hs-identifier hs-var">Virgin</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-260"></a><span>      </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090296"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-261"></a><span>        </span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span>    </span><a name="local-6989586621679090299"><a href="#local-6989586621679090299"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090292"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090299"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090294"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-262"></a><span>        </span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><a name="local-6989586621679090300"><a href="#local-6989586621679090300"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090293"><span class="hs-identifier hs-var">eerr</span></a><span> </span><a href="#local-6989586621679090300"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="#local-6989586621679090294"><span class="hs-identifier hs-var">s'</span></a><span>
</span><a name="line-263"></a><span>
</span><a name="line-264"></a><span class="hs-comment">-- | 'mzero' is a parser that __fails__ without consuming input.</span><span>
</span><a name="line-265"></a><span>
</span><a name="line-266"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090059"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090060"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadPlus</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090059"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090060"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090061"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-267"></a><span>  </span><a name="local-8214565720323790445"><span class="hs-identifier">mzero</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pZero"><span class="hs-identifier hs-var">pZero</span></a><span>
</span><a name="line-268"></a><span>  </span><a name="local-8214565720323790444"><span class="hs-identifier">mplus</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pPlus"><span class="hs-identifier hs-var">pPlus</span></a><span>
</span><a name="line-269"></a><span>
</span><a name="line-270"></a><span class="hs-identifier">pZero</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090212"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090213"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090214"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090215"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-271"></a><a name="pZero"><a href="Text.Megaparsec.Internal.html#pZero"><span class="hs-identifier">pZero</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090301"><a href="#local-6989586621679090301"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090302"><a href="#local-6989586621679090302"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090303"><a href="#local-6989586621679090303"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-272"></a><span>  </span><a href="#local-6989586621679090303"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090302"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090301"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-273"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pZero</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-274"></a><span>
</span><a name="line-275"></a><span class="hs-identifier">pPlus</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090208"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090209"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-276"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090208"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090209"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090210"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090211"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-277"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090208"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090209"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090210"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090211"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-278"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090208"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090209"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090210"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090211"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-279"></a><a name="pPlus"><a href="Text.Megaparsec.Internal.html#pPlus"><span class="hs-identifier">pPlus</span></a></a><span> </span><a name="local-6989586621679090304"><a href="#local-6989586621679090304"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679090305"><a href="#local-6989586621679090305"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090306"><a href="#local-6989586621679090306"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090307"><a href="#local-6989586621679090307"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090308"><a href="#local-6989586621679090308"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090309"><a href="#local-6989586621679090309"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090310"><a href="#local-6989586621679090310"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-280"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090311"><a href="#local-6989586621679090311"><span class="hs-identifier">meerr</span></a></a><span> </span><a name="local-6989586621679090312"><a href="#local-6989586621679090312"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090313"><a href="#local-6989586621679090313"><span class="hs-identifier">ms</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-281"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090314"><a href="#local-6989586621679090314"><span class="hs-identifier">ncerr</span></a></a><span> </span><a name="local-6989586621679090317"><a href="#local-6989586621679090317"><span class="hs-identifier">err'</span></a></a><span> </span><a name="local-6989586621679090318"><a href="#local-6989586621679090318"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090308"><span class="hs-identifier hs-var">cerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090317"><span class="hs-identifier hs-var">err'</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621679090312"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#longestMatch"><span class="hs-identifier hs-var">longestMatch</span></a><span> </span><a href="#local-6989586621679090313"><span class="hs-identifier hs-var">ms</span></a><span> </span><a href="#local-6989586621679090318"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span>
</span><a name="line-282"></a><span>            </span><a name="local-6989586621679090315"><a href="#local-6989586621679090315"><span class="hs-identifier">neok</span></a></a><span> </span><a name="local-6989586621679090319"><a href="#local-6989586621679090319"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090320"><a href="#local-6989586621679090320"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090321"><a href="#local-6989586621679090321"><span class="hs-identifier">hs</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090309"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090319"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090320"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679090320"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090312"><span class="hs-identifier hs-var">err</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621679090321"><span class="hs-identifier hs-var">hs</span></a><span class="hs-special">)</span><span>
</span><a name="line-283"></a><span>            </span><a name="local-6989586621679090316"><a href="#local-6989586621679090316"><span class="hs-identifier">neerr</span></a></a><span> </span><a name="local-6989586621679090322"><a href="#local-6989586621679090322"><span class="hs-identifier">err'</span></a></a><span> </span><a name="local-6989586621679090323"><a href="#local-6989586621679090323"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090310"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090322"><span class="hs-identifier hs-var">err'</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621679090312"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#longestMatch"><span class="hs-identifier hs-var">longestMatch</span></a><span> </span><a href="#local-6989586621679090313"><span class="hs-identifier hs-var">ms</span></a><span> </span><a href="#local-6989586621679090323"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span>
</span><a name="line-284"></a><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090305"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679090306"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090307"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090314"><span class="hs-identifier hs-var">ncerr</span></a><span> </span><a href="#local-6989586621679090315"><span class="hs-identifier hs-var">neok</span></a><span> </span><a href="#local-6989586621679090316"><span class="hs-identifier hs-var">neerr</span></a><span>
</span><a name="line-285"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090304"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679090306"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090307"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090308"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090309"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090311"><span class="hs-identifier hs-var">meerr</span></a><span>
</span><a name="line-286"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pPlus</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-287"></a><span>
</span><a name="line-288"></a><span class="hs-comment">-- | From two states, return the one with the greater number of processed</span><span>
</span><a name="line-289"></a><span class="hs-comment">-- tokens. If the numbers of processed tokens are equal, prefer the second</span><span>
</span><a name="line-290"></a><span class="hs-comment">-- state.</span><span>
</span><a name="line-291"></a><span>
</span><a name="line-292"></a><span class="hs-identifier">longestMatch</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090207"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090207"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090207"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-293"></a><a name="longestMatch"><a href="Text.Megaparsec.Internal.html#longestMatch"><span class="hs-identifier">longestMatch</span></a></a><span> </span><a name="local-6989586621679090324"><a href="#local-6989586621679090324"><span class="hs-identifier">s1</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090325"><a href="#local-6989586621679090325"><span class="hs-identifier">o1</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><a name="local-6989586621679090326"><a href="#local-6989586621679090326"><span class="hs-identifier">s2</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090327"><a href="#local-6989586621679090327"><span class="hs-identifier">o2</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-294"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090325"><span class="hs-identifier hs-var">o1</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">compare</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679090327"><span class="hs-identifier hs-var">o2</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-295"></a><span>    </span><span class="hs-identifier hs-var">LT</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090326"><span class="hs-identifier hs-var">s2</span></a><span>
</span><a name="line-296"></a><span>    </span><span class="hs-identifier hs-var">EQ</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090326"><span class="hs-identifier hs-var">s2</span></a><span>
</span><a name="line-297"></a><span>    </span><span class="hs-identifier hs-var">GT</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090324"><span class="hs-identifier hs-var">s1</span></a><span>
</span><a name="line-298"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">longestMatch</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-299"></a><span>
</span><a name="line-300"></a><span class="hs-comment">-- | @since 6.0.0</span><span>
</span><a name="line-301"></a><span>
</span><a name="line-302"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090051"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">MonadFix</span><span> </span><a href="#local-6989586621679090052"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">MonadFix</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090053"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090051"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090052"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-303"></a><span>  </span><a name="local-3458764513820541103"><span class="hs-identifier">mfix</span></a><span> </span><a name="local-6989586621679090054"><a href="#local-6989586621679090054"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#mkPT"><span class="hs-identifier hs-var">mkPT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090055"><a href="#local-6989586621679090055"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">mfix</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-glyph">~</span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090056"><a href="#local-6989586621679090056"><span class="hs-identifier">result</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-304"></a><span>    </span><span class="hs-keyword">let</span><span>
</span><a name="line-305"></a><span>      </span><a name="local-6989586621679090057"><a href="#local-6989586621679090057"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090056"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-306"></a><span>        </span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span> </span><a name="local-6989586621679090058"><a href="#local-6989586621679090058"><span class="hs-identifier">a'</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090058"><span class="hs-identifier hs-var">a'</span></a><span>
</span><a name="line-307"></a><span>        </span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-string">&quot;mfix ParsecT&quot;</span><span>
</span><a name="line-308"></a><span>    </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090054"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679090057"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090055"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-309"></a><span>
</span><a name="line-310"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">MonadTrans</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090045"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090046"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-311"></a><span>  </span><a name="local-8214565720323793363"><span class="hs-identifier">lift</span></a><span> </span><a name="local-6989586621679090047"><a href="#local-6989586621679090047"><span class="hs-identifier">amb</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090048"><a href="#local-6989586621679090048"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090049"><a href="#local-6989586621679090049"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-312"></a><span>    </span><a href="#local-6989586621679090047"><span class="hs-identifier hs-var">amb</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090050"><a href="#local-6989586621679090050"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090049"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090050"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679090048"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-313"></a><span>
</span><a name="line-314"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090042"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090043"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679090042"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090043"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090042"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090043"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090044"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-315"></a><span>  </span><a name="local-8214565720323859432"><a href="Text.Megaparsec.Class.html#failure"><span class="hs-identifier">failure</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pFailure"><span class="hs-identifier hs-var">pFailure</span></a><span>
</span><a name="line-316"></a><span>  </span><a name="local-8214565720323859433"><a href="Text.Megaparsec.Class.html#fancyFailure"><span class="hs-identifier">fancyFailure</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pFancyFailure"><span class="hs-identifier hs-var">pFancyFailure</span></a><span>
</span><a name="line-317"></a><span>  </span><span class="hs-keyword">label</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pLabel"><span class="hs-identifier hs-var">pLabel</span></a><span>
</span><a name="line-318"></a><span>  </span><a name="local-8214565720323859436"><a href="Text.Megaparsec.Class.html#try"><span class="hs-identifier">try</span></a></a><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pTry"><span class="hs-identifier hs-var">pTry</span></a><span>
</span><a name="line-319"></a><span>  </span><a name="local-8214565720323859437"><a href="Text.Megaparsec.Class.html#lookAhead"><span class="hs-identifier">lookAhead</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pLookAhead"><span class="hs-identifier hs-var">pLookAhead</span></a><span>
</span><a name="line-320"></a><span>  </span><a name="local-8214565720323859438"><a href="Text.Megaparsec.Class.html#notFollowedBy"><span class="hs-identifier">notFollowedBy</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pNotFollowedBy"><span class="hs-identifier hs-var">pNotFollowedBy</span></a><span>
</span><a name="line-321"></a><span>  </span><a name="local-8214565720323859439"><a href="Text.Megaparsec.Class.html#withRecovery"><span class="hs-identifier">withRecovery</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pWithRecovery"><span class="hs-identifier hs-var">pWithRecovery</span></a><span>
</span><a name="line-322"></a><span>  </span><a name="local-8214565720323859440"><a href="Text.Megaparsec.Class.html#observing"><span class="hs-identifier">observing</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pObserving"><span class="hs-identifier hs-var">pObserving</span></a><span>
</span><a name="line-323"></a><span>  </span><a name="local-8214565720323859441"><a href="Text.Megaparsec.Class.html#eof"><span class="hs-identifier">eof</span></a></a><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pEof"><span class="hs-identifier hs-var">pEof</span></a><span>
</span><a name="line-324"></a><span>  </span><a name="local-8214565720323859442"><a href="Text.Megaparsec.Class.html#token"><span class="hs-identifier">token</span></a></a><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pToken"><span class="hs-identifier hs-var">pToken</span></a><span>
</span><a name="line-325"></a><span>  </span><a name="local-8214565720323859443"><a href="Text.Megaparsec.Class.html#tokens"><span class="hs-identifier">tokens</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pTokens"><span class="hs-identifier hs-var">pTokens</span></a><span>
</span><a name="line-326"></a><span>  </span><a name="local-8214565720323859444"><a href="Text.Megaparsec.Class.html#takeWhileP"><span class="hs-identifier">takeWhileP</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pTakeWhileP"><span class="hs-identifier hs-var">pTakeWhileP</span></a><span>
</span><a name="line-327"></a><span>  </span><a name="local-8214565720323859445"><a href="Text.Megaparsec.Class.html#takeWhile1P"><span class="hs-identifier">takeWhile1P</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pTakeWhile1P"><span class="hs-identifier hs-var">pTakeWhile1P</span></a><span>
</span><a name="line-328"></a><span>  </span><a name="local-8214565720323859446"><a href="Text.Megaparsec.Class.html#takeP"><span class="hs-identifier">takeP</span></a></a><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pTakeP"><span class="hs-identifier hs-var">pTakeP</span></a><span>
</span><a name="line-329"></a><span>  </span><a name="local-8214565720323859447"><a href="Text.Megaparsec.Class.html#getParserState"><span class="hs-identifier">getParserState</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pGetParserState"><span class="hs-identifier hs-var">pGetParserState</span></a><span>
</span><a name="line-330"></a><span>  </span><a name="local-8214565720323859448"><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier">updateParserState</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#pUpdateParserState"><span class="hs-identifier hs-var">pUpdateParserState</span></a><span>
</span><a name="line-331"></a><span>
</span><a name="line-332"></a><span class="hs-identifier">pFailure</span><span>
</span><a name="line-333"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090203"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-334"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Set</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090203"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-335"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090204"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090203"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090205"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090206"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-336"></a><a name="pFailure"><a href="Text.Megaparsec.Internal.html#pFailure"><span class="hs-identifier">pFailure</span></a></a><span> </span><a name="local-6989586621679090328"><a href="#local-6989586621679090328"><span class="hs-identifier">us</span></a></a><span> </span><a name="local-6989586621679090329"><a href="#local-6989586621679090329"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090330"><a href="#local-6989586621679090330"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090331"><a href="#local-6989586621679090331"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090332"><a href="#local-6989586621679090332"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-337"></a><span>  </span><a href="#local-6989586621679090332"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090331"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090328"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090329"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090330"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-338"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pFailure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-339"></a><span>
</span><a name="line-340"></a><span class="hs-identifier">pFancyFailure</span><span>
</span><a name="line-341"></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Set</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorFancy"><span class="hs-identifier hs-type">ErrorFancy</span></a><span> </span><a href="#local-6989586621679090199"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-342"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090199"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090200"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090201"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090202"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-343"></a><a name="pFancyFailure"><a href="Text.Megaparsec.Internal.html#pFancyFailure"><span class="hs-identifier">pFancyFailure</span></a></a><span> </span><a name="local-6989586621679090333"><a href="#local-6989586621679090333"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090334"><a href="#local-6989586621679090334"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090335"><a href="#local-6989586621679090335"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090336"><a href="#local-6989586621679090336"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-344"></a><span>  </span><a href="#local-6989586621679090336"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#FancyError"><span class="hs-identifier hs-var">FancyError</span></a><span> </span><a href="#local-6989586621679090335"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090333"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090334"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-345"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pFancyFailure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-346"></a><span>
</span><a name="line-347"></a><span class="hs-identifier">pLabel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090195"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090196"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090197"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090198"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090195"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090196"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090197"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090198"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-348"></a><a name="pLabel"><a href="Text.Megaparsec.Internal.html#pLabel"><span class="hs-identifier">pLabel</span></a></a><span> </span><a name="local-6989586621679090337"><a href="#local-6989586621679090337"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621679090338"><a href="#local-6989586621679090338"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090339"><a href="#local-6989586621679090339"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090340"><a href="#local-6989586621679090340"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090341"><a href="#local-6989586621679090341"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090342"><a href="#local-6989586621679090342"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090343"><a href="#local-6989586621679090343"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-349"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090344"><a href="#local-6989586621679090344"><span class="hs-identifier">el</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Error.html#Label"><span class="hs-identifier hs-var">Label</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-identifier hs-var">NE.nonEmpty</span><span> </span><a href="#local-6989586621679090337"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-350"></a><span>      </span><a name="local-6989586621679090345"><a href="#local-6989586621679090345"><span class="hs-identifier">cok'</span></a></a><span> </span><a name="local-6989586621679090348"><a href="#local-6989586621679090348"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090349"><a href="#local-6989586621679090349"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090350"><a href="#local-6989586621679090350"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-351"></a><span>        </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090344"><span class="hs-identifier hs-var">el</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-352"></a><span>          </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090340"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090348"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090349"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#refreshLastHint"><span class="hs-identifier hs-var">refreshLastHint</span></a><span> </span><a href="#local-6989586621679090350"><span class="hs-identifier hs-var">hs</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span class="hs-special">)</span><span>
</span><a name="line-353"></a><span>          </span><span class="hs-identifier hs-var">Just</span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090340"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090348"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090349"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="#local-6989586621679090350"><span class="hs-identifier hs-var">hs</span></a><span>
</span><a name="line-354"></a><span>      </span><a name="local-6989586621679090346"><a href="#local-6989586621679090346"><span class="hs-identifier">eok'</span></a></a><span> </span><a name="local-6989586621679090351"><a href="#local-6989586621679090351"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090352"><a href="#local-6989586621679090352"><span class="hs-identifier">s'</span></a></a><span> </span><a name="local-6989586621679090353"><a href="#local-6989586621679090353"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090342"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090351"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090352"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#refreshLastHint"><span class="hs-identifier hs-var">refreshLastHint</span></a><span> </span><a href="#local-6989586621679090353"><span class="hs-identifier hs-var">hs</span></a><span> </span><a href="#local-6989586621679090344"><span class="hs-identifier hs-var">el</span></a><span class="hs-special">)</span><span>
</span><a name="line-355"></a><span>      </span><a name="local-6989586621679090347"><a href="#local-6989586621679090347"><span class="hs-identifier">eerr'</span></a></a><span>    </span><a name="local-6989586621679090354"><a href="#local-6989586621679090354"><span class="hs-identifier">err</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090343"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-356"></a><span>        </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090354"><span class="hs-identifier hs-var">err</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-357"></a><span>          </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a name="local-6989586621679090355"><a href="#local-6989586621679090355"><span class="hs-identifier">pos</span></a></a><span> </span><a name="local-6989586621679090356"><a href="#local-6989586621679090356"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-358"></a><span>            </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090355"><span class="hs-identifier hs-var">pos</span></a><span> </span><a href="#local-6989586621679090356"><span class="hs-identifier hs-var">us</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><a href="#local-6989586621679090344"><span class="hs-identifier hs-var">el</span></a><span class="hs-special">)</span><span>
</span><a name="line-359"></a><span>          </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090354"><span class="hs-identifier hs-var">err</span></a><span>
</span><a name="line-360"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090338"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090339"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090345"><span class="hs-identifier hs-var">cok'</span></a><span> </span><a href="#local-6989586621679090341"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090346"><span class="hs-identifier hs-var">eok'</span></a><span> </span><a href="#local-6989586621679090347"><span class="hs-identifier hs-var">eerr'</span></a><span>
</span><a name="line-361"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pLabel</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-362"></a><span>
</span><a name="line-363"></a><span class="hs-identifier">pTry</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090191"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090192"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090193"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090194"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090191"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090192"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090193"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090194"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-364"></a><a name="pTry"><a href="Text.Megaparsec.Internal.html#pTry"><span class="hs-identifier">pTry</span></a></a><span> </span><a name="local-6989586621679090357"><a href="#local-6989586621679090357"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090358"><a href="#local-6989586621679090358"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090359"><a href="#local-6989586621679090359"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090360"><a href="#local-6989586621679090360"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090361"><a href="#local-6989586621679090361"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-365"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090362"><a href="#local-6989586621679090362"><span class="hs-identifier">eerr'</span></a></a><span> </span><a name="local-6989586621679090363"><a href="#local-6989586621679090363"><span class="hs-identifier">err</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090361"><span class="hs-identifier hs-var">eerr</span></a><span> </span><a href="#local-6989586621679090363"><span class="hs-identifier hs-var">err</span></a><span> </span><a href="#local-6989586621679090358"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-366"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090357"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090358"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090359"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090362"><span class="hs-identifier hs-var">eerr'</span></a><span> </span><a href="#local-6989586621679090360"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090362"><span class="hs-identifier hs-var">eerr'</span></a><span>
</span><a name="line-367"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pTry</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-368"></a><span>
</span><a name="line-369"></a><span class="hs-identifier">pLookAhead</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090187"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090188"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090189"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090190"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090187"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090188"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090189"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090190"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-370"></a><a name="pLookAhead"><a href="Text.Megaparsec.Internal.html#pLookAhead"><span class="hs-identifier">pLookAhead</span></a></a><span> </span><a name="local-6989586621679090364"><a href="#local-6989586621679090364"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090365"><a href="#local-6989586621679090365"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090366"><a href="#local-6989586621679090366"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090367"><a href="#local-6989586621679090367"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090368"><a href="#local-6989586621679090368"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-371"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090369"><a href="#local-6989586621679090369"><span class="hs-identifier">eok'</span></a></a><span> </span><a name="local-6989586621679090370"><a href="#local-6989586621679090370"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090367"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090370"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679090365"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-372"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090364"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090365"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090369"><span class="hs-identifier hs-var">eok'</span></a><span> </span><a href="#local-6989586621679090366"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090369"><span class="hs-identifier hs-var">eok'</span></a><span> </span><a href="#local-6989586621679090368"><span class="hs-identifier hs-var">eerr</span></a><span>
</span><a name="line-373"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pLookAhead</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-374"></a><span>
</span><a name="line-375"></a><span class="hs-identifier">pNotFollowedBy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090183"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090184"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090183"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090185"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090186"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090184"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090183"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090185"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-376"></a><a name="pNotFollowedBy"><a href="Text.Megaparsec.Internal.html#pNotFollowedBy"><span class="hs-identifier">pNotFollowedBy</span></a></a><span> </span><a name="local-6989586621679090371"><a href="#local-6989586621679090371"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090372"><a href="#local-6989586621679090372"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090373"><a href="#local-6989586621679090373"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090374"><a href="#local-6989586621679090374"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090375"><a href="#local-6989586621679090375"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090376"><a href="#local-6989586621679090376"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-377"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090377"><a href="#local-6989586621679090377"><span class="hs-identifier">what</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Internal.html#nes"><span class="hs-identifier hs-var">nes</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fst</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#take1_"><span class="hs-identifier hs-var">take1_</span></a><span> </span><a href="#local-6989586621679090373"><span class="hs-identifier hs-var">input</span></a><span class="hs-special">)</span><span>
</span><a name="line-378"></a><span>      </span><a name="local-6989586621679090378"><a href="#local-6989586621679090378"><span class="hs-identifier">unexpect</span></a></a><span> </span><a name="local-6989586621679090383"><a href="#local-6989586621679090383"><span class="hs-identifier">u</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090374"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">pure</span><span> </span><a href="#local-6989586621679090383"><span class="hs-identifier hs-var">u</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span>
</span><a name="line-379"></a><span>      </span><a name="local-6989586621679090379"><a href="#local-6989586621679090379"><span class="hs-identifier">cok'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090376"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090378"><span class="hs-identifier hs-var">unexpect</span></a><span> </span><a href="#local-6989586621679090377"><span class="hs-identifier hs-var">what</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090372"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-380"></a><span>      </span><a name="local-6989586621679090380"><a href="#local-6989586621679090380"><span class="hs-identifier">cerr'</span></a></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090375"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090372"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-381"></a><span>      </span><a name="local-6989586621679090381"><a href="#local-6989586621679090381"><span class="hs-identifier">eok'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090376"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090378"><span class="hs-identifier hs-var">unexpect</span></a><span> </span><a href="#local-6989586621679090377"><span class="hs-identifier hs-var">what</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090372"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-382"></a><span>      </span><a name="local-6989586621679090382"><a href="#local-6989586621679090382"><span class="hs-identifier">eerr'</span></a></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090375"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090372"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-383"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090371"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090372"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090379"><span class="hs-identifier hs-var">cok'</span></a><span> </span><a href="#local-6989586621679090380"><span class="hs-identifier hs-var">cerr'</span></a><span> </span><a href="#local-6989586621679090381"><span class="hs-identifier hs-var">eok'</span></a><span> </span><a href="#local-6989586621679090382"><span class="hs-identifier hs-var">eerr'</span></a><span>
</span><a name="line-384"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pNotFollowedBy</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-385"></a><span>
</span><a name="line-386"></a><span class="hs-identifier">pWithRecovery</span><span>
</span><a name="line-387"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090179"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-388"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090179"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090180"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090180"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090179"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090181"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090182"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-389"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090180"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090179"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090181"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090182"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-390"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090180"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090179"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090181"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090182"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-391"></a><a name="pWithRecovery"><a href="Text.Megaparsec.Internal.html#pWithRecovery"><span class="hs-identifier">pWithRecovery</span></a></a><span> </span><a name="local-6989586621679090384"><a href="#local-6989586621679090384"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-6989586621679090385"><a href="#local-6989586621679090385"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090386"><a href="#local-6989586621679090386"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090387"><a href="#local-6989586621679090387"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090388"><a href="#local-6989586621679090388"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090389"><a href="#local-6989586621679090389"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090390"><a href="#local-6989586621679090390"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-392"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090391"><a href="#local-6989586621679090391"><span class="hs-identifier">mcerr</span></a></a><span> </span><a name="local-6989586621679090393"><a href="#local-6989586621679090393"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090394"><a href="#local-6989586621679090394"><span class="hs-identifier">ms</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-393"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090395"><a href="#local-6989586621679090395"><span class="hs-identifier">rcok</span></a></a><span> </span><a name="local-6989586621679090399"><a href="#local-6989586621679090399"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090400"><a href="#local-6989586621679090400"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090387"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090399"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090400"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-394"></a><span>            </span><a name="local-6989586621679090396"><a href="#local-6989586621679090396"><span class="hs-identifier">rcerr</span></a></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090388"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090393"><span class="hs-identifier hs-var">err</span></a><span> </span><a href="#local-6989586621679090394"><span class="hs-identifier hs-var">ms</span></a><span>
</span><a name="line-395"></a><span>            </span><a name="local-6989586621679090397"><a href="#local-6989586621679090397"><span class="hs-identifier">reok</span></a></a><span> </span><a name="local-6989586621679090401"><a href="#local-6989586621679090401"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090402"><a href="#local-6989586621679090402"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090389"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090401"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090402"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679090402"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090393"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-396"></a><span>            </span><a name="local-6989586621679090398"><a href="#local-6989586621679090398"><span class="hs-identifier">reerr</span></a></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090388"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090393"><span class="hs-identifier hs-var">err</span></a><span> </span><a href="#local-6989586621679090394"><span class="hs-identifier hs-var">ms</span></a><span>
</span><a name="line-397"></a><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090384"><span class="hs-identifier hs-var">r</span></a><span> </span><a href="#local-6989586621679090393"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090394"><span class="hs-identifier hs-var">ms</span></a><span> </span><a href="#local-6989586621679090395"><span class="hs-identifier hs-var">rcok</span></a><span> </span><a href="#local-6989586621679090396"><span class="hs-identifier hs-var">rcerr</span></a><span> </span><a href="#local-6989586621679090397"><span class="hs-identifier hs-var">reok</span></a><span> </span><a href="#local-6989586621679090398"><span class="hs-identifier hs-var">reerr</span></a><span>
</span><a name="line-398"></a><span>      </span><a name="local-6989586621679090392"><a href="#local-6989586621679090392"><span class="hs-identifier">meerr</span></a></a><span> </span><a name="local-6989586621679090403"><a href="#local-6989586621679090403"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090404"><a href="#local-6989586621679090404"><span class="hs-identifier">ms</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-399"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090405"><a href="#local-6989586621679090405"><span class="hs-identifier">rcok</span></a></a><span> </span><a name="local-6989586621679090409"><a href="#local-6989586621679090409"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090410"><a href="#local-6989586621679090410"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090387"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090409"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090410"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679090410"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090403"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-400"></a><span>            </span><a name="local-6989586621679090406"><a href="#local-6989586621679090406"><span class="hs-identifier">rcerr</span></a></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090390"><span class="hs-identifier hs-var">eerr</span></a><span> </span><a href="#local-6989586621679090403"><span class="hs-identifier hs-var">err</span></a><span> </span><a href="#local-6989586621679090404"><span class="hs-identifier hs-var">ms</span></a><span>
</span><a name="line-401"></a><span>            </span><a name="local-6989586621679090407"><a href="#local-6989586621679090407"><span class="hs-identifier">reok</span></a></a><span> </span><a name="local-6989586621679090411"><a href="#local-6989586621679090411"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090412"><a href="#local-6989586621679090412"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090389"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090411"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090412"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679090412"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090403"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-402"></a><span>            </span><a name="local-6989586621679090408"><a href="#local-6989586621679090408"><span class="hs-identifier">reerr</span></a></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090390"><span class="hs-identifier hs-var">eerr</span></a><span> </span><a href="#local-6989586621679090403"><span class="hs-identifier hs-var">err</span></a><span> </span><a href="#local-6989586621679090404"><span class="hs-identifier hs-var">ms</span></a><span>
</span><a name="line-403"></a><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090384"><span class="hs-identifier hs-var">r</span></a><span> </span><a href="#local-6989586621679090403"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090404"><span class="hs-identifier hs-var">ms</span></a><span> </span><a href="#local-6989586621679090405"><span class="hs-identifier hs-var">rcok</span></a><span> </span><a href="#local-6989586621679090406"><span class="hs-identifier hs-var">rcerr</span></a><span> </span><a href="#local-6989586621679090407"><span class="hs-identifier hs-var">reok</span></a><span> </span><a href="#local-6989586621679090408"><span class="hs-identifier hs-var">reerr</span></a><span>
</span><a name="line-404"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090385"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090386"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090387"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090391"><span class="hs-identifier hs-var">mcerr</span></a><span> </span><a href="#local-6989586621679090389"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090392"><span class="hs-identifier hs-var">meerr</span></a><span>
</span><a name="line-405"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pWithRecovery</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-406"></a><span>
</span><a name="line-407"></a><span class="hs-identifier">pObserving</span><span>
</span><a name="line-408"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090175"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-409"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090176"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090175"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090177"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090178"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-410"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090176"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090175"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090177"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090175"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090176"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090178"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-411"></a><a name="pObserving"><a href="Text.Megaparsec.Internal.html#pObserving"><span class="hs-identifier">pObserving</span></a></a><span> </span><a name="local-6989586621679090413"><a href="#local-6989586621679090413"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090414"><a href="#local-6989586621679090414"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090415"><a href="#local-6989586621679090415"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090416"><a href="#local-6989586621679090416"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-412"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090417"><a href="#local-6989586621679090417"><span class="hs-identifier">cerr'</span></a></a><span> </span><a name="local-6989586621679090419"><a href="#local-6989586621679090419"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090420"><a href="#local-6989586621679090420"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090415"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a href="#local-6989586621679090419"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090420"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-413"></a><span>      </span><a name="local-6989586621679090418"><a href="#local-6989586621679090418"><span class="hs-identifier">eerr'</span></a></a><span> </span><a name="local-6989586621679090421"><a href="#local-6989586621679090421"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090422"><a href="#local-6989586621679090422"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090416"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a href="#local-6989586621679090421"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090422"><span class="hs-identifier hs-var">s'</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier hs-var">toHints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679090422"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090421"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-414"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090413"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090414"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090415"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">Right</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090417"><span class="hs-identifier hs-var">cerr'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090416"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">Right</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090418"><span class="hs-identifier hs-var">eerr'</span></a><span>
</span><a name="line-415"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pObserving</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-416"></a><span>
</span><a name="line-417"></a><span class="hs-identifier">pEof</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090172"><a href="#local-6989586621679090172"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090173"><a href="#local-6989586621679090173"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090174"><a href="#local-6989586621679090174"><span class="hs-identifier">m</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090173"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090172"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090173"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090174"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-418"></a><a name="pEof"><a href="Text.Megaparsec.Internal.html#pEof"><span class="hs-identifier">pEof</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090423"><a href="#local-6989586621679090423"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090424"><a href="#local-6989586621679090424"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090425"><a href="#local-6989586621679090425"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090426"><a href="#local-6989586621679090426"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090427"><a href="#local-6989586621679090427"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090428"><a href="#local-6989586621679090428"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-419"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.Stream.html#take1_"><span class="hs-identifier hs-var">take1_</span></a><span> </span><a href="#local-6989586621679090424"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-420"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090427"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090423"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-421"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679090429"><a href="#local-6989586621679090429"><span class="hs-identifier">x</span></a></a><span class="hs-special">,</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-422"></a><span>      </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090430"><a href="#local-6989586621679090430"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Internal.html#nes"><span class="hs-identifier hs-var">nes</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090429"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-423"></a><span>          </span><a name="local-6989586621679090431"><a href="#local-6989586621679090431"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span>
</span><a name="line-424"></a><span>      </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090428"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090425"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090430"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090431"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span>
</span><a name="line-425"></a><span>          </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090424"><span class="hs-identifier hs-var">input</span></a><span> </span><a href="#local-6989586621679090425"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090426"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-426"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pEof</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-427"></a><span>
</span><a name="line-428"></a><span class="hs-identifier">pToken</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090168"><a href="#local-6989586621679090168"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090169"><a href="#local-6989586621679090169"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090170"><a href="#local-6989586621679090170"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679090171"><a href="#local-6989586621679090171"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090169"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-429"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090169"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679090171"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-430"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Set</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090169"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-431"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090168"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090169"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090170"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090171"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-432"></a><a name="pToken"><a href="Text.Megaparsec.Internal.html#pToken"><span class="hs-identifier">pToken</span></a></a><span> </span><a name="local-6989586621679090432"><a href="#local-6989586621679090432"><span class="hs-identifier">test</span></a></a><span> </span><a name="local-6989586621679090433"><a href="#local-6989586621679090433"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090434"><a href="#local-6989586621679090434"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090435"><a href="#local-6989586621679090435"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090436"><a href="#local-6989586621679090436"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090437"><a href="#local-6989586621679090437"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090438"><a href="#local-6989586621679090438"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090439"><a href="#local-6989586621679090439"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-433"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.Stream.html#take1_"><span class="hs-identifier hs-var">take1_</span></a><span> </span><a href="#local-6989586621679090435"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-434"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-435"></a><span>      </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090440"><a href="#local-6989586621679090440"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span>
</span><a name="line-436"></a><span>      </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090439"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090436"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090440"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090433"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090434"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-437"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679090441"><a href="#local-6989586621679090441"><span class="hs-identifier">c</span></a></a><span class="hs-special">,</span><a name="local-6989586621679090442"><a href="#local-6989586621679090442"><span class="hs-identifier">cs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-438"></a><span>      </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090432"><span class="hs-identifier hs-var">test</span></a><span> </span><a href="#local-6989586621679090441"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-439"></a><span>        </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-440"></a><span>          </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090443"><a href="#local-6989586621679090443"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Internal.html#nes"><span class="hs-identifier hs-var">nes</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090441"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-441"></a><span>          </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090439"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090436"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090443"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090433"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span>
</span><a name="line-442"></a><span>                  </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090435"><span class="hs-identifier hs-var">input</span></a><span> </span><a href="#local-6989586621679090436"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090437"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-443"></a><span>        </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679090444"><a href="#local-6989586621679090444"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-444"></a><span>          </span><a href="#local-6989586621679090438"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090444"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090442"><span class="hs-identifier hs-var">cs</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090436"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090437"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-445"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pToken</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-446"></a><span>
</span><a name="line-447"></a><span class="hs-identifier">pTokens</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090165"><a href="#local-6989586621679090165"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090166"><a href="#local-6989586621679090166"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090167"><a href="#local-6989586621679090167"><span class="hs-identifier">m</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-448"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">)</span><span>
</span><a name="line-449"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-450"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090165"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090167"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-451"></a><a name="pTokens"><a href="Text.Megaparsec.Internal.html#pTokens"><span class="hs-identifier">pTokens</span></a></a><span> </span><a name="local-6989586621679090445"><a href="#local-6989586621679090445"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679090446"><a href="#local-6989586621679090446"><span class="hs-identifier">tts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090447"><a href="#local-6989586621679090447"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090448"><a href="#local-6989586621679090448"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090449"><a href="#local-6989586621679090449"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090450"><a href="#local-6989586621679090450"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090451"><a href="#local-6989586621679090451"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090452"><a href="#local-6989586621679090452"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090453"><a href="#local-6989586621679090453"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-452"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090454"><a href="#local-6989586621679090454"><span class="hs-identifier">pxy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><a href="#local-6989586621679090166"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-453"></a><span>      </span><a name="local-6989586621679090455"><a href="#local-6989586621679090455"><span class="hs-identifier">unexpect</span></a></a><span> </span><a name="local-6989586621679090457"><a href="#local-6989586621679090457"><span class="hs-identifier">pos'</span></a></a><span> </span><a name="local-6989586621679090458"><a href="#local-6989586621679090458"><span class="hs-identifier">u</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-454"></a><span>        </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090459"><a href="#local-6989586621679090459"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="#local-6989586621679090458"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-455"></a><span>            </span><a name="local-6989586621679090460"><a href="#local-6989586621679090460"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">E.singleton</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">NE.fromList</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkToTokens"><span class="hs-identifier hs-var">chunkToTokens</span></a><span> </span><a href="#local-6989586621679090454"><span class="hs-identifier hs-var">pxy</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090446"><span class="hs-identifier hs-var">tts</span></a><span>
</span><a name="line-456"></a><span>        </span><span class="hs-keyword">in</span><span> </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090457"><span class="hs-identifier hs-var">pos'</span></a><span> </span><a href="#local-6989586621679090459"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090460"><span class="hs-identifier hs-var">ps</span></a><span>
</span><a name="line-457"></a><span>      </span><a name="local-6989586621679090456"><a href="#local-6989586621679090456"><span class="hs-identifier">len</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkLength"><span class="hs-identifier hs-var">chunkLength</span></a><span> </span><a href="#local-6989586621679090454"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090446"><span class="hs-identifier hs-var">tts</span></a><span>
</span><a name="line-458"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.Stream.html#takeN_"><span class="hs-identifier hs-var">takeN_</span></a><span> </span><a href="#local-6989586621679090456"><span class="hs-identifier hs-var">len</span></a><span> </span><a href="#local-6989586621679090448"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-459"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-460"></a><span>      </span><a href="#local-6989586621679090453"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090455"><span class="hs-identifier hs-var">unexpect</span></a><span> </span><a href="#local-6989586621679090449"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090447"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-461"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679090461"><a href="#local-6989586621679090461"><span class="hs-identifier">tts'</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679090462"><a href="#local-6989586621679090462"><span class="hs-identifier">input'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-462"></a><span>      </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679090445"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679090446"><span class="hs-identifier hs-var">tts</span></a><span> </span><a href="#local-6989586621679090461"><span class="hs-identifier hs-var">tts'</span></a><span>
</span><a name="line-463"></a><span>        </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090463"><a href="#local-6989586621679090463"><span class="hs-identifier">st</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090462"><span class="hs-identifier hs-var">input'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090449"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090456"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090450"><span class="hs-identifier hs-var">pst</span></a><span>
</span><a name="line-464"></a><span>             </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkEmpty"><span class="hs-identifier hs-var">chunkEmpty</span></a><span> </span><a href="#local-6989586621679090454"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090446"><span class="hs-identifier hs-var">tts</span></a><span>
</span><a name="line-465"></a><span>                  </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679090452"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090461"><span class="hs-identifier hs-var">tts'</span></a><span> </span><a href="#local-6989586621679090463"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-466"></a><span>                  </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679090451"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090461"><span class="hs-identifier hs-var">tts'</span></a><span> </span><a href="#local-6989586621679090463"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-467"></a><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090464"><a href="#local-6989586621679090464"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">NE.fromList</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkToTokens"><span class="hs-identifier hs-var">chunkToTokens</span></a><span> </span><a href="#local-6989586621679090454"><span class="hs-identifier hs-var">pxy</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090461"><span class="hs-identifier hs-var">tts'</span></a><span>
</span><a name="line-468"></a><span>             </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090453"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090455"><span class="hs-identifier hs-var">unexpect</span></a><span> </span><a href="#local-6989586621679090449"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090464"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090448"><span class="hs-identifier hs-var">input</span></a><span> </span><a href="#local-6989586621679090449"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090450"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-469"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pTokens</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-470"></a><span>
</span><a name="line-471"></a><span class="hs-identifier">pTakeWhileP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090162"><a href="#local-6989586621679090162"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090163"><a href="#local-6989586621679090163"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090164"><a href="#local-6989586621679090164"><span class="hs-identifier">m</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090163"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-472"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-473"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090163"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">)</span><span>
</span><a name="line-474"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090162"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090163"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090164"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090163"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-475"></a><a name="pTakeWhileP"><a href="Text.Megaparsec.Internal.html#pTakeWhileP"><span class="hs-identifier">pTakeWhileP</span></a></a><span> </span><a name="local-6989586621679090465"><a href="#local-6989586621679090465"><span class="hs-identifier">ml</span></a></a><span> </span><a name="local-6989586621679090466"><a href="#local-6989586621679090466"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090467"><a href="#local-6989586621679090467"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090468"><a href="#local-6989586621679090468"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090469"><a href="#local-6989586621679090469"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090470"><a href="#local-6989586621679090470"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090471"><a href="#local-6989586621679090471"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-476"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090472"><a href="#local-6989586621679090472"><span class="hs-identifier">pxy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><a href="#local-6989586621679090163"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-477"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621679090473"><a href="#local-6989586621679090473"><span class="hs-identifier">ts</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679090474"><a href="#local-6989586621679090474"><span class="hs-identifier">input'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#takeWhile_"><span class="hs-identifier hs-var">takeWhile_</span></a><span> </span><a href="#local-6989586621679090466"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679090467"><span class="hs-identifier hs-var">input</span></a><span>
</span><a name="line-478"></a><span>      </span><a name="local-6989586621679090475"><a href="#local-6989586621679090475"><span class="hs-identifier">len</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkLength"><span class="hs-identifier hs-var">chunkLength</span></a><span> </span><a href="#local-6989586621679090472"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090473"><span class="hs-identifier hs-var">ts</span></a><span>
</span><a name="line-479"></a><span>      </span><a name="local-6989586621679090476"><a href="#local-6989586621679090476"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-480"></a><span>        </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090465"><span class="hs-identifier hs-var">ml</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier hs-var">NE.nonEmpty</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-481"></a><span>          </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-482"></a><span>          </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679090477"><a href="#local-6989586621679090477"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#Label"><span class="hs-identifier hs-var">Label</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090477"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-483"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkEmpty"><span class="hs-identifier hs-var">chunkEmpty</span></a><span> </span><a href="#local-6989586621679090472"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090473"><span class="hs-identifier hs-var">ts</span></a><span>
</span><a name="line-484"></a><span>       </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679090471"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090473"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090474"><span class="hs-identifier hs-var">input'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090468"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090475"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090469"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090476"><span class="hs-identifier hs-var">hs</span></a><span>
</span><a name="line-485"></a><span>       </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679090470"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090473"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090474"><span class="hs-identifier hs-var">input'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090468"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090475"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090469"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090476"><span class="hs-identifier hs-var">hs</span></a><span>
</span><a name="line-486"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pTakeWhileP</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-487"></a><span>
</span><a name="line-488"></a><span class="hs-identifier">pTakeWhile1P</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090159"><a href="#local-6989586621679090159"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090160"><a href="#local-6989586621679090160"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090161"><a href="#local-6989586621679090161"><span class="hs-identifier">m</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090160"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-489"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-490"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090160"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">)</span><span>
</span><a name="line-491"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090159"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090160"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090161"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090160"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-492"></a><a name="pTakeWhile1P"><a href="Text.Megaparsec.Internal.html#pTakeWhile1P"><span class="hs-identifier">pTakeWhile1P</span></a></a><span> </span><a name="local-6989586621679090478"><a href="#local-6989586621679090478"><span class="hs-identifier">ml</span></a></a><span> </span><a name="local-6989586621679090479"><a href="#local-6989586621679090479"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090480"><a href="#local-6989586621679090480"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090481"><a href="#local-6989586621679090481"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090482"><a href="#local-6989586621679090482"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090483"><a href="#local-6989586621679090483"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090484"><a href="#local-6989586621679090484"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-493"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090485"><a href="#local-6989586621679090485"><span class="hs-identifier">pxy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><a href="#local-6989586621679090160"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-494"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621679090486"><a href="#local-6989586621679090486"><span class="hs-identifier">ts</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679090487"><a href="#local-6989586621679090487"><span class="hs-identifier">input'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#takeWhile_"><span class="hs-identifier hs-var">takeWhile_</span></a><span> </span><a href="#local-6989586621679090479"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679090480"><span class="hs-identifier hs-var">input</span></a><span>
</span><a name="line-495"></a><span>      </span><a name="local-6989586621679090488"><a href="#local-6989586621679090488"><span class="hs-identifier">len</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkLength"><span class="hs-identifier hs-var">chunkLength</span></a><span> </span><a href="#local-6989586621679090485"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090486"><span class="hs-identifier hs-var">ts</span></a><span>
</span><a name="line-496"></a><span>      </span><a name="local-6989586621679090489"><a href="#local-6989586621679090489"><span class="hs-identifier">el</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Error.html#Label"><span class="hs-identifier hs-var">Label</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090478"><span class="hs-identifier hs-var">ml</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier hs-var">NE.nonEmpty</span><span class="hs-special">)</span><span>
</span><a name="line-497"></a><span>      </span><a name="local-6989586621679090490"><a href="#local-6989586621679090490"><span class="hs-identifier">hs</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-498"></a><span>        </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090489"><span class="hs-identifier hs-var">el</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-499"></a><span>          </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-500"></a><span>          </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679090491"><a href="#local-6989586621679090491"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090491"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-501"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkEmpty"><span class="hs-identifier hs-var">chunkEmpty</span></a><span> </span><a href="#local-6989586621679090485"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090486"><span class="hs-identifier hs-var">ts</span></a><span>
</span><a name="line-502"></a><span>       </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090492"><a href="#local-6989586621679090492"><span class="hs-identifier">us</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-503"></a><span>                  </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.Stream.html#take1_"><span class="hs-identifier hs-var">take1_</span></a><span> </span><a href="#local-6989586621679090480"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-504"></a><span>                    </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span>
</span><a name="line-505"></a><span>                    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679090494"><a href="#local-6989586621679090494"><span class="hs-identifier">t</span></a></a><span class="hs-special">,</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#nes"><span class="hs-identifier hs-var">nes</span></a><span> </span><a href="#local-6989586621679090494"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-506"></a><span>                </span><a name="local-6989586621679090493"><a href="#local-6989586621679090493"><span class="hs-identifier">ps</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><a href="#local-6989586621679090489"><span class="hs-identifier hs-var">el</span></a><span>
</span><a name="line-507"></a><span>            </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621679090484"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090481"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090492"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679090493"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span>
</span><a name="line-508"></a><span>                    </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090480"><span class="hs-identifier hs-var">input</span></a><span> </span><a href="#local-6989586621679090481"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090482"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-509"></a><span>       </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679090483"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090486"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090487"><span class="hs-identifier hs-var">input'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090481"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090488"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090482"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090490"><span class="hs-identifier hs-var">hs</span></a><span>
</span><a name="line-510"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pTakeWhile1P</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-511"></a><span>
</span><a name="line-512"></a><span class="hs-identifier">pTakeP</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679090156"><a href="#local-6989586621679090156"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679090157"><a href="#local-6989586621679090157"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090158"><a href="#local-6989586621679090158"><span class="hs-identifier">m</span></a></a><span class="hs-operator">.</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090157"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-513"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-514"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-515"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090156"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090157"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090158"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679090157"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-516"></a><a name="pTakeP"><a href="Text.Megaparsec.Internal.html#pTakeP"><span class="hs-identifier">pTakeP</span></a></a><span> </span><a name="local-6989586621679090495"><a href="#local-6989586621679090495"><span class="hs-identifier">ml</span></a></a><span> </span><a name="local-6989586621679090496"><a href="#local-6989586621679090496"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090497"><a href="#local-6989586621679090497"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679090498"><a href="#local-6989586621679090498"><span class="hs-identifier">input</span></a></a><span> </span><a name="local-6989586621679090499"><a href="#local-6989586621679090499"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679090500"><a href="#local-6989586621679090500"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090501"><a href="#local-6989586621679090501"><span class="hs-identifier">cok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090502"><a href="#local-6989586621679090502"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-517"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090503"><a href="#local-6989586621679090503"><span class="hs-identifier">pxy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><a href="#local-6989586621679090157"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-518"></a><span>      </span><a name="local-6989586621679090504"><a href="#local-6989586621679090504"><span class="hs-identifier">el</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Error.html#Label"><span class="hs-identifier hs-var">Label</span></a><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090495"><span class="hs-identifier hs-var">ml</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier hs-var">NE.nonEmpty</span><span class="hs-special">)</span><span>
</span><a name="line-519"></a><span>      </span><a name="local-6989586621679090505"><a href="#local-6989586621679090505"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><a href="#local-6989586621679090504"><span class="hs-identifier hs-var">el</span></a><span>
</span><a name="line-520"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.Stream.html#takeN_"><span class="hs-identifier hs-var">takeN_</span></a><span> </span><a href="#local-6989586621679090496"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679090498"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-521"></a><span>       </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-522"></a><span>         </span><a href="#local-6989586621679090502"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090499"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">pure</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090505"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090497"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-523"></a><span>       </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679090506"><a href="#local-6989586621679090506"><span class="hs-identifier">ts</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679090507"><a href="#local-6989586621679090507"><span class="hs-identifier">input'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-524"></a><span>         </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679090508"><a href="#local-6989586621679090508"><span class="hs-identifier">len</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#chunkLength"><span class="hs-identifier hs-var">chunkLength</span></a><span> </span><a href="#local-6989586621679090503"><span class="hs-identifier hs-var">pxy</span></a><span> </span><a href="#local-6989586621679090506"><span class="hs-identifier hs-var">ts</span></a><span>
</span><a name="line-525"></a><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679090508"><span class="hs-identifier hs-var">len</span></a><span> </span><span class="hs-operator hs-var">/=</span><span> </span><a href="#local-6989586621679090496"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-526"></a><span>           </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679090502"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090499"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090508"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">pure</span><span> </span><a href="Text.Megaparsec.Error.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090505"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">)</span><span>
</span><a name="line-527"></a><span>                     </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090498"><span class="hs-identifier hs-var">input</span></a><span> </span><a href="#local-6989586621679090499"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679090500"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-528"></a><span>           </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679090501"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090506"><span class="hs-identifier hs-var">ts</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679090507"><span class="hs-identifier hs-var">input'</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090499"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679090508"><span class="hs-identifier hs-var">len</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090500"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-529"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pTakeP</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-530"></a><span>
</span><a name="line-531"></a><span class="hs-identifier">pGetParserState</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090153"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090154"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090155"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090154"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-532"></a><a name="pGetParserState"><a href="Text.Megaparsec.Internal.html#pGetParserState"><span class="hs-identifier">pGetParserState</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090509"><a href="#local-6989586621679090509"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090510"><a href="#local-6989586621679090510"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090510"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090509"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090509"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-533"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pGetParserState</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-534"></a><span>
</span><a name="line-535"></a><span class="hs-identifier">pUpdateParserState</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090150"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090150"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090151"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090150"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090152"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-536"></a><a name="pUpdateParserState"><a href="Text.Megaparsec.Internal.html#pUpdateParserState"><span class="hs-identifier">pUpdateParserState</span></a></a><span> </span><a name="local-6989586621679090511"><a href="#local-6989586621679090511"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090512"><a href="#local-6989586621679090512"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090513"><a href="#local-6989586621679090513"><span class="hs-identifier">eok</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090513"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090511"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679090512"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-537"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pUpdateParserState</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-538"></a><span>
</span><a name="line-539"></a><span class="hs-identifier">nes</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679090149"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><a href="#local-6989586621679090149"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-540"></a><a name="nes"><a href="Text.Megaparsec.Internal.html#nes"><span class="hs-identifier">nes</span></a></a><span> </span><a name="local-6989586621679090514"><a href="#local-6989586621679090514"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090514"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-541"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">nes</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-542"></a><span>
</span><a name="line-543"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-544"></a><span class="hs-comment">-- Helper functions</span><span>
</span><a name="line-545"></a><span>
</span><a name="line-546"></a><span class="hs-comment">-- | Convert 'ParseError' record to 'Hints'.</span><span>
</span><a name="line-547"></a><span>
</span><a name="line-548"></a><span class="hs-identifier">toHints</span><span>
</span><a name="line-549"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090147"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-550"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>               </span><span class="hs-comment">-- ^ Current offset in input stream</span><span>
</span><a name="line-551"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090147"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090148"><span class="hs-identifier hs-type">e</span></a><span>    </span><span class="hs-comment">-- ^ Parse error to convert</span><span>
</span><a name="line-552"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090147"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-553"></a><a name="toHints"><a href="Text.Megaparsec.Internal.html#toHints"><span class="hs-identifier">toHints</span></a></a><span> </span><a name="local-6989586621679090515"><a href="#local-6989586621679090515"><span class="hs-identifier">streamPos</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-554"></a><span>  </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a name="local-6989586621679090516"><a href="#local-6989586621679090516"><span class="hs-identifier">errOffset</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679090517"><a href="#local-6989586621679090517"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-555"></a><span>    </span><span class="hs-comment">-- NOTE This is important to check here that the error indeed has</span><span>
</span><a name="line-556"></a><span>    </span><span class="hs-comment">-- happened at the same position as current position of stream because</span><span>
</span><a name="line-557"></a><span>    </span><span class="hs-comment">-- there might have been backtracking with 'try' and in that case we</span><span>
</span><a name="line-558"></a><span>    </span><span class="hs-comment">-- must not convert such a parse error to hints.</span><span>
</span><a name="line-559"></a><span>    </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679090515"><span class="hs-identifier hs-var">streamPos</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621679090516"><span class="hs-identifier hs-var">errOffset</span></a><span>
</span><a name="line-560"></a><span>      </span><span class="hs-keyword">then</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">E.null</span><span> </span><a href="#local-6989586621679090517"><span class="hs-identifier hs-var">ps</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679090517"><span class="hs-identifier hs-var">ps</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-561"></a><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-562"></a><span>  </span><a href="Text.Megaparsec.Error.html#FancyError"><span class="hs-identifier hs-var">FancyError</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-563"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">toHints</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-564"></a><span>
</span><a name="line-565"></a><span class="hs-comment">-- | @'withHints' hs c@ makes &#8220;error&#8221; continuation @c@ use given hints @hs@.</span><span>
</span><a name="line-566"></a><span class="hs-comment">--</span><span>
</span><a name="line-567"></a><span class="hs-comment">-- Note that if resulting continuation gets 'ParseError' that has custom</span><span>
</span><a name="line-568"></a><span class="hs-comment">-- data in it, hints are ignored.</span><span>
</span><a name="line-569"></a><span>
</span><a name="line-570"></a><span class="hs-identifier">withHints</span><span>
</span><a name="line-571"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-572"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ Hints to use</span><span>
</span><a name="line-573"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090144"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090145"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090146"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Continuation to influence</span><span>
</span><a name="line-574"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090144"><span class="hs-identifier hs-type">e</span></a><span>    </span><span class="hs-comment">-- ^ First argument of resulting continuation</span><span>
</span><a name="line-575"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090143"><span class="hs-identifier hs-type">s</span></a><span>           </span><span class="hs-comment">-- ^ Second argument of resulting continuation</span><span>
</span><a name="line-576"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090145"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090146"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-577"></a><a name="withHints"><a href="Text.Megaparsec.Internal.html#withHints"><span class="hs-identifier">withHints</span></a></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><a name="local-6989586621679090518"><a href="#local-6989586621679090518"><span class="hs-identifier">ps'</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679090519"><a href="#local-6989586621679090519"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679090520"><a href="#local-6989586621679090520"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-578"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679090520"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-579"></a><span>    </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a name="local-6989586621679090521"><a href="#local-6989586621679090521"><span class="hs-identifier">pos</span></a></a><span> </span><a name="local-6989586621679090522"><a href="#local-6989586621679090522"><span class="hs-identifier">us</span></a></a><span> </span><a name="local-6989586621679090523"><a href="#local-6989586621679090523"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090519"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a href="#local-6989586621679090521"><span class="hs-identifier hs-var">pos</span></a><span> </span><a href="#local-6989586621679090522"><span class="hs-identifier hs-var">us</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">E.unions</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090523"><span class="hs-identifier hs-var">ps</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679090518"><span class="hs-identifier hs-var">ps'</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-580"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090519"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679090520"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-581"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">withHints</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-582"></a><span>
</span><a name="line-583"></a><span class="hs-comment">-- | @'accHints' hs c@ results in &#8220;OK&#8221; continuation that will add given</span><span>
</span><a name="line-584"></a><span class="hs-comment">-- hints @hs@ to third argument of original continuation @c@.</span><span>
</span><a name="line-585"></a><span>
</span><a name="line-586"></a><span class="hs-identifier">accHints</span><span>
</span><a name="line-587"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><a href="#local-6989586621679090138"><span class="hs-identifier hs-type">t</span></a><span>           </span><span class="hs-comment">-- ^ 'Hints' to add</span><span>
</span><a name="line-588"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090139"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090140"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><a href="#local-6989586621679090138"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090141"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090142"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ An &#8220;OK&#8221; continuation to alter</span><span>
</span><a name="line-589"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090139"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090140"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><a href="#local-6989586621679090138"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090141"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090142"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Altered &#8220;OK&#8221; continuation</span><span>
</span><a name="line-590"></a><a name="accHints"><a href="Text.Megaparsec.Internal.html#accHints"><span class="hs-identifier">accHints</span></a></a><span> </span><a name="local-6989586621679090524"><a href="#local-6989586621679090524"><span class="hs-identifier">hs1</span></a></a><span> </span><a name="local-6989586621679090525"><a href="#local-6989586621679090525"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679090526"><a href="#local-6989586621679090526"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679090527"><a href="#local-6989586621679090527"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090528"><a href="#local-6989586621679090528"><span class="hs-identifier">hs2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679090525"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679090526"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679090527"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090524"><span class="hs-identifier hs-var">hs1</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621679090528"><span class="hs-identifier hs-var">hs2</span></a><span class="hs-special">)</span><span>
</span><a name="line-591"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">accHints</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-592"></a><span>
</span><a name="line-593"></a><span class="hs-comment">-- | Replace the most recent group of hints (if any) with the given</span><span>
</span><a name="line-594"></a><span class="hs-comment">-- 'ErrorItem' (or delete it if 'Nothing' is given). This is used in the</span><span>
</span><a name="line-595"></a><span class="hs-comment">-- 'label' primitive.</span><span>
</span><a name="line-596"></a><span>
</span><a name="line-597"></a><span class="hs-identifier">refreshLastHint</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><a href="#local-6989586621679090137"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><a href="#local-6989586621679090137"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-type">Hints</span></a><span> </span><a href="#local-6989586621679090137"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-598"></a><a name="refreshLastHint"><a href="Text.Megaparsec.Internal.html#refreshLastHint"><span class="hs-identifier">refreshLastHint</span></a></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>     </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-599"></a><span class="hs-identifier">refreshLastHint</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-glyph">:</span><a name="local-6989586621679090529"><a href="#local-6989586621679090529"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><a href="#local-6989586621679090529"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-600"></a><span class="hs-identifier">refreshLastHint</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-glyph">:</span><a name="local-6989586621679090530"><a href="#local-6989586621679090530"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679090531"><a href="#local-6989586621679090531"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#Hints"><span class="hs-identifier hs-var">Hints</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">E.singleton</span><span> </span><a href="#local-6989586621679090531"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679090530"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span>
</span><a name="line-601"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">refreshLastHint</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-602"></a><span>
</span><a name="line-603"></a><span class="hs-comment">-- | Low-level unpacking of the 'ParsecT' type.</span><span>
</span><a name="line-604"></a><span>
</span><a name="line-605"></a><span class="hs-identifier">runParsecT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679090133"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-606"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090134"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090135"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090133"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090136"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-607"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679090135"><span class="hs-identifier hs-type">s</span></a><span>       </span><span class="hs-comment">-- ^ Initial state</span><span>
</span><a name="line-608"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090133"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-type">Reply</span></a><span> </span><a href="#local-6989586621679090134"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090135"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090136"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-609"></a><a name="runParsecT"><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier">runParsecT</span></a></a><span> </span><a name="local-6989586621679090532"><a href="#local-6989586621679090532"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679090533"><a href="#local-6989586621679090533"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090532"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090533"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090534"><span class="hs-identifier hs-var">cok</span></a><span> </span><a href="#local-6989586621679090535"><span class="hs-identifier hs-var">cerr</span></a><span> </span><a href="#local-6989586621679090536"><span class="hs-identifier hs-var">eok</span></a><span> </span><a href="#local-6989586621679090537"><span class="hs-identifier hs-var">eerr</span></a><span>
</span><a name="line-610"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-611"></a><span>    </span><a name="local-6989586621679090534"><a href="#local-6989586621679090534"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090538"><a href="#local-6989586621679090538"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679090539"><a href="#local-6989586621679090539"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a href="#local-6989586621679090539"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="Text.Megaparsec.Internal.html#Consumed"><span class="hs-identifier hs-var">Consumed</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span> </span><a href="#local-6989586621679090538"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-612"></a><span>    </span><a name="local-6989586621679090535"><a href="#local-6989586621679090535"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090540"><a href="#local-6989586621679090540"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090541"><a href="#local-6989586621679090541"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a href="#local-6989586621679090541"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="Text.Megaparsec.Internal.html#Consumed"><span class="hs-identifier hs-var">Consumed</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><a href="#local-6989586621679090540"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-613"></a><span>    </span><a name="local-6989586621679090536"><a href="#local-6989586621679090536"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090542"><a href="#local-6989586621679090542"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679090543"><a href="#local-6989586621679090543"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a href="#local-6989586621679090543"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="Text.Megaparsec.Internal.html#Virgin"><span class="hs-identifier hs-var">Virgin</span></a><span>   </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span> </span><a href="#local-6989586621679090542"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-614"></a><span>    </span><a name="local-6989586621679090537"><a href="#local-6989586621679090537"><span class="hs-identifier">eerr</span></a></a><span> </span><a name="local-6989586621679090544"><a href="#local-6989586621679090544"><span class="hs-identifier">err</span></a></a><span> </span><a name="local-6989586621679090545"><a href="#local-6989586621679090545"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a href="#local-6989586621679090545"><span class="hs-identifier hs-var">s'</span></a><span> </span><a href="Text.Megaparsec.Internal.html#Virgin"><span class="hs-identifier hs-var">Virgin</span></a><span>   </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><a href="#local-6989586621679090544"><span class="hs-identifier hs-var">err</span></a><span class="hs-special">)</span><span>
</span><a name="line-615"></a><span>
</span><a name="line-616"></a><span class="hs-comment">-- | Transform any custom errors thrown by the parser using the given</span><span>
</span><a name="line-617"></a><span class="hs-comment">-- function. Similar in function and purpose to @withExceptT@.</span><span>
</span><a name="line-618"></a><span class="hs-comment">--</span><span>
</span><a name="line-619"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-620"></a><span>
</span><a name="line-621"></a><span class="hs-identifier">withParsecT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679090128"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679090129"><span class="hs-identifier hs-type">e'</span></a><span class="hs-special">)</span><span>
</span><a name="line-622"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090130"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679090129"><span class="hs-identifier hs-type">e'</span></a><span class="hs-special">)</span><span>
</span><a name="line-623"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090130"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679090131"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090128"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090132"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-624"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679090129"><span class="hs-identifier hs-type">e'</span></a><span> </span><a href="#local-6989586621679090131"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679090128"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679090132"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-625"></a><a name="withParsecT"><a href="Text.Megaparsec.Internal.html#withParsecT"><span class="hs-identifier">withParsecT</span></a></a><span> </span><a name="local-6989586621679090546"><a href="#local-6989586621679090546"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679090547"><a href="#local-6989586621679090547"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-626"></a><span>  </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-var">ParsecT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679090548"><a href="#local-6989586621679090548"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679090549"><a href="#local-6989586621679090549"><span class="hs-identifier">cok</span></a></a><span> </span><a name="local-6989586621679090550"><a href="#local-6989586621679090550"><span class="hs-identifier">cerr</span></a></a><span> </span><a name="local-6989586621679090551"><a href="#local-6989586621679090551"><span class="hs-identifier">eok</span></a></a><span> </span><a name="local-6989586621679090552"><a href="#local-6989586621679090552"><span class="hs-identifier">eerr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-627"></a><span>    </span><span class="hs-identifier">unParser</span><span> </span><a href="#local-6989586621679090547"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679090548"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679090549"><span class="hs-identifier hs-var">cok</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090550"><span class="hs-identifier hs-var">cerr</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#mapParseError"><span class="hs-identifier hs-var">mapParseError</span></a><span> </span><a href="#local-6989586621679090546"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679090551"><span class="hs-identifier hs-var">eok</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679090552"><span class="hs-identifier hs-var">eerr</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#mapParseError"><span class="hs-identifier hs-var">mapParseError</span></a><span> </span><a href="#local-6989586621679090546"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-628"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">withParsecT</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-629"></a></pre></body></html>