<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><a name="line-2"></a><span class="hs-comment">-- Module      :  Text.Megaparsec</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- Copyright   :  &#169; 2015&#8211;2019 Megaparsec contributors</span><span>
</span><a name="line-4"></a><span class="hs-comment">--                &#169; 2007 Paolo Martini</span><span>
</span><a name="line-5"></a><span class="hs-comment">--                &#169; 1999&#8211;2001 Daan Leijen</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- License     :  FreeBSD</span><span>
</span><a name="line-7"></a><span class="hs-comment">--</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- Maintainer  :  Mark Karpov &lt;markkarpov92@gmail.com&gt;</span><span>
</span><a name="line-9"></a><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><a name="line-10"></a><span class="hs-comment">-- Portability :  portable</span><span>
</span><a name="line-11"></a><span class="hs-comment">--</span><span>
</span><a name="line-12"></a><span class="hs-comment">-- This module includes everything you need to get started writing a parser.</span><span>
</span><a name="line-13"></a><span class="hs-comment">-- If you are new to Megaparsec and don't know where to begin, take a look</span><span>
</span><a name="line-14"></a><span class="hs-comment">-- at the tutorials</span><span>
</span><a name="line-15"></a><span class="hs-comment">-- &lt;https://markkarpov.com/learn-haskell.html#megaparsec-tutorials&gt;.</span><span>
</span><a name="line-16"></a><span class="hs-comment">--</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- In addition to the &quot;Text.Megaparsec&quot; module, which exports and re-exports</span><span>
</span><a name="line-18"></a><span class="hs-comment">-- most everything that you may need, we advise to import</span><span>
</span><a name="line-19"></a><span class="hs-comment">-- &quot;Text.Megaparsec.Char&quot; if you plan to work with a stream of 'Char' tokens</span><span>
</span><a name="line-20"></a><span class="hs-comment">-- or &quot;Text.Megaparsec.Byte&quot; if you intend to parse binary data.</span><span>
</span><a name="line-21"></a><span class="hs-comment">--</span><span>
</span><a name="line-22"></a><span class="hs-comment">-- It is common to start working with the library by defining a type synonym</span><span>
</span><a name="line-23"></a><span class="hs-comment">-- like this:</span><span>
</span><a name="line-24"></a><span class="hs-comment">--</span><span>
</span><a name="line-25"></a><span class="hs-comment">-- &gt; type Parser = Parsec Void Text</span><span>
</span><a name="line-26"></a><span class="hs-comment">-- &gt;                      ^    ^</span><span>
</span><a name="line-27"></a><span class="hs-comment">-- &gt;                      |    |</span><span>
</span><a name="line-28"></a><span class="hs-comment">-- &gt; Custom error component    Input stream type</span><span>
</span><a name="line-29"></a><span class="hs-comment">--</span><span>
</span><a name="line-30"></a><span class="hs-comment">-- Then you can write type signatures like @Parser 'Int'@&#8212;for a parser that</span><span>
</span><a name="line-31"></a><span class="hs-comment">-- returns an 'Int' for example.</span><span>
</span><a name="line-32"></a><span class="hs-comment">--</span><span>
</span><a name="line-33"></a><span class="hs-comment">-- Similarly (since it's known to cause confusion), you should use</span><span>
</span><a name="line-34"></a><span class="hs-comment">-- 'ParseErrorBundle' type parametrized like this:</span><span>
</span><a name="line-35"></a><span class="hs-comment">--</span><span>
</span><a name="line-36"></a><span class="hs-comment">-- &gt; ParseErrorBundle Text Void</span><span>
</span><a name="line-37"></a><span class="hs-comment">-- &gt;                  ^    ^</span><span>
</span><a name="line-38"></a><span class="hs-comment">-- &gt;                  |    |</span><span>
</span><a name="line-39"></a><span class="hs-comment">-- &gt;  Input stream type    Custom error component (the same you used in Parser)</span><span>
</span><a name="line-40"></a><span class="hs-comment">--</span><span>
</span><a name="line-41"></a><span class="hs-comment">-- Megaparsec uses some type-level machinery to provide flexibility without</span><span>
</span><a name="line-42"></a><span class="hs-comment">-- compromising on type safety. Thus type signatures are sometimes necessary</span><span>
</span><a name="line-43"></a><span class="hs-comment">-- to avoid ambiguous types. If you're seeing an error message that reads</span><span>
</span><a name="line-44"></a><span class="hs-comment">-- like &#8220;Type variable @e0@ is ambiguous &#8230;&#8221;, you need to give an explicit</span><span>
</span><a name="line-45"></a><span class="hs-comment">-- signature to your parser to resolve the ambiguity. It's a good idea to</span><span>
</span><a name="line-46"></a><span class="hs-comment">-- provide type signatures for all top-level definitions.</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><a name="line-49"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><a name="line-50"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><a name="line-51"></a><span class="hs-pragma">{-# LANGUAGE RankNTypes            #-}</span><span>
</span><a name="line-52"></a><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><a name="line-53"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><a name="line-54"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><a name="line-55"></a><span>
</span><a name="line-56"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Megaparsec</span><span>
</span><a name="line-57"></a><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Re-exports</span><span>
</span><a name="line-58"></a><span>    </span><span class="hs-comment">-- $reexports</span><span>
</span><a name="line-59"></a><span>    </span><span class="hs-keyword">module</span><span> </span><a href="Text.Megaparsec.Pos.html"><span class="hs-identifier">Text.Megaparsec.Pos</span></a><span>
</span><a name="line-60"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><a href="Text.Megaparsec.Error.html"><span class="hs-identifier">Text.Megaparsec.Error</span></a><span>
</span><a name="line-61"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><a href="Text.Megaparsec.Stream.html"><span class="hs-identifier">Text.Megaparsec.Stream</span></a><span>
</span><a name="line-62"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Monad.Combinators</span><span>
</span><a name="line-63"></a><span>    </span><span class="hs-comment">-- * Data types</span><span>
</span><a name="line-64"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-65"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.State.html#PosState"><span class="hs-identifier hs-type">PosState</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-66"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span>
</span><a name="line-67"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span>
</span><a name="line-68"></a><span>    </span><span class="hs-comment">-- * Running parser</span><span>
</span><a name="line-69"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#parse"><span class="hs-identifier hs-var">parse</span></a><span>
</span><a name="line-70"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#parseMaybe"><span class="hs-identifier hs-var">parseMaybe</span></a><span>
</span><a name="line-71"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#parseTest"><span class="hs-identifier hs-var">parseTest</span></a><span>
</span><a name="line-72"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#runParser"><span class="hs-identifier hs-var">runParser</span></a><span>
</span><a name="line-73"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#runParser%27"><span class="hs-identifier hs-var">runParser'</span></a><span>
</span><a name="line-74"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#runParserT"><span class="hs-identifier hs-var">runParserT</span></a><span>
</span><a name="line-75"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#runParserT%27"><span class="hs-identifier hs-var">runParserT'</span></a><span>
</span><a name="line-76"></a><span>    </span><span class="hs-comment">-- * Primitive combinators</span><span>
</span><a name="line-77"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-78"></a><span>    </span><span class="hs-comment">-- * Derivatives of primitive combinators</span><span>
</span><a name="line-79"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#single"><span class="hs-identifier hs-var">single</span></a><span>
</span><a name="line-80"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a><span>
</span><a name="line-81"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#anySingle"><span class="hs-identifier hs-var">anySingle</span></a><span>
</span><a name="line-82"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#anySingleBut"><span class="hs-identifier hs-var">anySingleBut</span></a><span>
</span><a name="line-83"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#oneOf"><span class="hs-identifier hs-var">oneOf</span></a><span>
</span><a name="line-84"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#noneOf"><span class="hs-identifier hs-var">noneOf</span></a><span>
</span><a name="line-85"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#chunk"><span class="hs-identifier hs-var">chunk</span></a><span>
</span><a name="line-86"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-87"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a><span>
</span><a name="line-88"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#customFailure"><span class="hs-identifier hs-var">customFailure</span></a><span>
</span><a name="line-89"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#match"><span class="hs-identifier hs-var">match</span></a><span>
</span><a name="line-90"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#region"><span class="hs-identifier hs-var">region</span></a><span>
</span><a name="line-91"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#takeRest"><span class="hs-identifier hs-var">takeRest</span></a><span>
</span><a name="line-92"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#atEnd"><span class="hs-identifier hs-var">atEnd</span></a><span>
</span><a name="line-93"></a><span>    </span><span class="hs-comment">-- * Parser state combinators</span><span>
</span><a name="line-94"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#getInput"><span class="hs-identifier hs-var">getInput</span></a><span>
</span><a name="line-95"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#setInput"><span class="hs-identifier hs-var">setInput</span></a><span>
</span><a name="line-96"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#getSourcePos"><span class="hs-identifier hs-var">getSourcePos</span></a><span>
</span><a name="line-97"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#getOffset"><span class="hs-identifier hs-var">getOffset</span></a><span>
</span><a name="line-98"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#setOffset"><span class="hs-identifier hs-var">setOffset</span></a><span>
</span><a name="line-99"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.html#setParserState"><span class="hs-identifier hs-var">setParserState</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-100"></a><span class="hs-keyword">where</span><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Combinators</span><span>
</span><a name="line-103"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Identity</span><span>
</span><a name="line-104"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.List.NonEmpty</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-105"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromJust</span><span class="hs-special">)</span><span>
</span><a name="line-106"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Class.html"><span class="hs-identifier">Text.Megaparsec.Class</span></a><span>
</span><a name="line-107"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Error.html"><span class="hs-identifier">Text.Megaparsec.Error</span></a><span>
</span><a name="line-108"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Internal.html"><span class="hs-identifier">Text.Megaparsec.Internal</span></a><span>
</span><a name="line-109"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Pos.html"><span class="hs-identifier">Text.Megaparsec.Pos</span></a><span>
</span><a name="line-110"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.State.html"><span class="hs-identifier">Text.Megaparsec.State</span></a><span>
</span><a name="line-111"></a><span class="hs-keyword">import</span><span> </span><a href="Text.Megaparsec.Stream.html"><span class="hs-identifier">Text.Megaparsec.Stream</span></a><span>
</span><a name="line-112"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Set</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">E</span><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span class="hs-comment">-- $reexports</span><span>
</span><a name="line-115"></a><span class="hs-comment">--</span><span>
</span><a name="line-116"></a><span class="hs-comment">-- Note that we re-export monadic combinators from</span><span>
</span><a name="line-117"></a><span class="hs-comment">-- &quot;Control.Monad.Combinators&quot; because these are more efficient than</span><span>
</span><a name="line-118"></a><span class="hs-comment">-- 'Applicative'-based ones. Thus 'many' and 'some' may clash with the</span><span>
</span><a name="line-119"></a><span class="hs-comment">-- functions from &quot;Control.Applicative&quot;. You need to hide the functions like</span><span>
</span><a name="line-120"></a><span class="hs-comment">-- this:</span><span>
</span><a name="line-121"></a><span class="hs-comment">--</span><span>
</span><a name="line-122"></a><span class="hs-comment">-- &gt; import Control.Applicative hiding (many, some)</span><span>
</span><a name="line-123"></a><span class="hs-comment">--</span><span>
</span><a name="line-124"></a><span class="hs-comment">-- Also note that you can import &quot;Control.Monad.Combinators.NonEmpty&quot; if you</span><span>
</span><a name="line-125"></a><span class="hs-comment">-- wish that combinators like 'some' return 'NonEmpty' lists. The module</span><span>
</span><a name="line-126"></a><span class="hs-comment">-- lives in the @parser-combinators@ package (you need at least version</span><span>
</span><a name="line-127"></a><span class="hs-comment">-- /0.4.0/).</span><span>
</span><a name="line-128"></a><span class="hs-comment">--</span><span>
</span><a name="line-129"></a><span class="hs-comment">-- This module is intended to be imported qualified:</span><span>
</span><a name="line-130"></a><span class="hs-comment">--</span><span>
</span><a name="line-131"></a><span class="hs-comment">-- &gt; import qualified Control.Monad.Combinators.NonEmpty as NE</span><span>
</span><a name="line-132"></a><span class="hs-comment">--</span><span>
</span><a name="line-133"></a><span class="hs-comment">-- Other modules of interest are:</span><span>
</span><a name="line-134"></a><span class="hs-comment">--</span><span>
</span><a name="line-135"></a><span class="hs-comment">--     * &quot;Control.Monad.Combinators.Expr&quot; for parsing of expressions.</span><span>
</span><a name="line-136"></a><span class="hs-comment">--     * &quot;Control.Applicative.Permutations&quot; for parsing of permutations</span><span>
</span><a name="line-137"></a><span class="hs-comment">--       phrases.</span><span>
</span><a name="line-138"></a><span>
</span><a name="line-139"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-140"></a><span class="hs-comment">-- Data types</span><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span class="hs-comment">-- | 'Parsec' is a non-transformer variant of the more general 'ParsecT'</span><span>
</span><a name="line-143"></a><span class="hs-comment">-- monad transformer.</span><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-keyword">type</span><span> </span><a name="Parsec"><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier">Parsec</span></a></a><span> </span><a name="local-6989586621679097819"><a href="#local-6989586621679097819"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679097820"><a href="#local-6989586621679097820"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679097819"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097820"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-identifier hs-type">Identity</span><span>
</span><a name="line-146"></a><span>
</span><a name="line-147"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-148"></a><span class="hs-comment">-- Running a parser</span><span>
</span><a name="line-149"></a><span>
</span><a name="line-150"></a><span class="hs-comment">-- | @'parse' p file input@ runs parser @p@ over 'Identity' (see</span><span>
</span><a name="line-151"></a><span class="hs-comment">-- 'runParserT' if you're using the 'ParsecT' monad transformer; 'parse'</span><span>
</span><a name="line-152"></a><span class="hs-comment">-- itself is just a synonym for 'runParser'). It returns either a</span><span>
</span><a name="line-153"></a><span class="hs-comment">-- 'ParseErrorBundle' ('Left') or a value of type @a@ ('Right').</span><span>
</span><a name="line-154"></a><span class="hs-comment">-- 'errorBundlePretty' can be used to turn 'ParseErrorBundle' into the</span><span>
</span><a name="line-155"></a><span class="hs-comment">-- string representation of the error message. See &quot;Text.Megaparsec.Error&quot;</span><span>
</span><a name="line-156"></a><span class="hs-comment">-- if you need to do more advanced error analysis.</span><span>
</span><a name="line-157"></a><span class="hs-comment">--</span><span>
</span><a name="line-158"></a><span class="hs-comment">-- &gt; main = case parse numbers &quot;&quot; &quot;11,2,43&quot; of</span><span>
</span><a name="line-159"></a><span class="hs-comment">-- &gt;          Left bundle -&gt; putStr (errorBundlePretty bundle)</span><span>
</span><a name="line-160"></a><span class="hs-comment">-- &gt;          Right xs -&gt; print (sum xs)</span><span>
</span><a name="line-161"></a><span class="hs-comment">-- &gt;</span><span>
</span><a name="line-162"></a><span class="hs-comment">-- &gt; numbers = decimal `sepBy` char ','</span><span>
</span><a name="line-163"></a><span>
</span><a name="line-164"></a><span class="hs-identifier">parse</span><span>
</span><a name="line-165"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span> </span><a href="#local-6989586621679097909"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097910"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097911"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-166"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>       </span><span class="hs-comment">-- ^ Name of source file</span><span>
</span><a name="line-167"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097910"><span class="hs-identifier hs-type">s</span></a><span>            </span><span class="hs-comment">-- ^ Input for parser</span><span>
</span><a name="line-168"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-type">ParseErrorBundle</span></a><span> </span><a href="#local-6989586621679097910"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097909"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097911"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-169"></a><a name="parse"><a href="Text.Megaparsec.html#parse"><span class="hs-identifier">parse</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.html#runParser"><span class="hs-identifier hs-var">runParser</span></a><span>
</span><a name="line-170"></a><span>
</span><a name="line-171"></a><span class="hs-comment">-- | @'parseMaybe' p input@ runs the parser @p@ on @input@ and returns the</span><span>
</span><a name="line-172"></a><span class="hs-comment">-- result inside 'Just' on success and 'Nothing' on failure. This function</span><span>
</span><a name="line-173"></a><span class="hs-comment">-- also parses 'eof', so if the parser doesn't consume all of its input, it</span><span>
</span><a name="line-174"></a><span class="hs-comment">-- will fail.</span><span>
</span><a name="line-175"></a><span class="hs-comment">--</span><span>
</span><a name="line-176"></a><span class="hs-comment">-- The function is supposed to be useful for lightweight parsing, where</span><span>
</span><a name="line-177"></a><span class="hs-comment">-- error messages (and thus file names) are not important and entire input</span><span>
</span><a name="line-178"></a><span class="hs-comment">-- should be parsed. For example, it can be used when parsing of a single</span><span>
</span><a name="line-179"></a><span class="hs-comment">-- number according to a specification of its format is desired.</span><span>
</span><a name="line-180"></a><span>
</span><a name="line-181"></a><span class="hs-identifier">parseMaybe</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679097906"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679097907"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span> </span><a href="#local-6989586621679097906"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097907"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097908"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097907"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679097908"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-182"></a><a name="parseMaybe"><a href="Text.Megaparsec.html#parseMaybe"><span class="hs-identifier">parseMaybe</span></a></a><span> </span><a name="local-6989586621679097912"><a href="#local-6989586621679097912"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679097913"><a href="#local-6989586621679097913"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-183"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.html#parse"><span class="hs-identifier hs-var">parse</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679097912"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&lt;*</span><span> </span><a href="Text.Megaparsec.Class.html#eof"><span class="hs-identifier hs-var">eof</span></a><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><a href="#local-6989586621679097913"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-184"></a><span>    </span><span class="hs-identifier hs-var">Left</span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-185"></a><span>    </span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621679097914"><a href="#local-6989586621679097914"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679097914"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-186"></a><span>
</span><a name="line-187"></a><span class="hs-comment">-- | The expression @'parseTest' p input@ applies the parser @p@ against the</span><span>
</span><a name="line-188"></a><span class="hs-comment">-- input @input@ and prints the result to stdout. Useful for testing.</span><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span class="hs-identifier">parseTest</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><a href="Text.Megaparsec.Error.html#ShowErrorComponent"><span class="hs-identifier hs-type">ShowErrorComponent</span></a><span> </span><a href="#local-6989586621679097903"><span class="hs-identifier hs-type">e</span></a><span>
</span><a name="line-191"></a><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><a href="#local-6989586621679097904"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-192"></a><span>             </span><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Stream.html#Stream"><span class="hs-identifier hs-type">Stream</span></a><span> </span><a href="#local-6989586621679097905"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-193"></a><span>             </span><span class="hs-special">)</span><span>
</span><a name="line-194"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span> </span><a href="#local-6989586621679097903"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097905"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097904"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-195"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097905"><span class="hs-identifier hs-type">s</span></a><span>            </span><span class="hs-comment">-- ^ Input for parser</span><span>
</span><a name="line-196"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-197"></a><a name="parseTest"><a href="Text.Megaparsec.html#parseTest"><span class="hs-identifier">parseTest</span></a></a><span> </span><a name="local-6989586621679097915"><a href="#local-6989586621679097915"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679097916"><a href="#local-6989586621679097916"><span class="hs-identifier">input</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-198"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="Text.Megaparsec.html#parse"><span class="hs-identifier hs-var">parse</span></a><span> </span><a href="#local-6989586621679097915"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><a href="#local-6989586621679097916"><span class="hs-identifier hs-var">input</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-199"></a><span>    </span><span class="hs-identifier hs-var">Left</span><span>  </span><a name="local-6989586621679097917"><a href="#local-6989586621679097917"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">putStr</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#errorBundlePretty"><span class="hs-identifier hs-var">errorBundlePretty</span></a><span> </span><a href="#local-6989586621679097917"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-200"></a><span>    </span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621679098081"><a href="#local-6989586621679098081"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">print</span><span> </span><a href="#local-6989586621679098081"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-201"></a><span>
</span><a name="line-202"></a><span class="hs-comment">-- | @'runParser' p file input@ runs parser @p@ on the input stream of</span><span>
</span><a name="line-203"></a><span class="hs-comment">-- tokens @input@, obtained from source @file@. The @file@ is only used in</span><span>
</span><a name="line-204"></a><span class="hs-comment">-- error messages and may be the empty string. Returns either a</span><span>
</span><a name="line-205"></a><span class="hs-comment">-- 'ParseErrorBundle' ('Left') or a value of type @a@ ('Right').</span><span>
</span><a name="line-206"></a><span class="hs-comment">--</span><span>
</span><a name="line-207"></a><span class="hs-comment">-- &gt; parseFromFile p file = runParser p file &lt;$&gt; readFile file</span><span>
</span><a name="line-208"></a><span>
</span><a name="line-209"></a><span class="hs-identifier">runParser</span><span>
</span><a name="line-210"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span> </span><a href="#local-6989586621679097900"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097901"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097902"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-211"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>     </span><span class="hs-comment">-- ^ Name of source file</span><span>
</span><a name="line-212"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097901"><span class="hs-identifier hs-type">s</span></a><span>          </span><span class="hs-comment">-- ^ Input for parser</span><span>
</span><a name="line-213"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-type">ParseErrorBundle</span></a><span> </span><a href="#local-6989586621679097901"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097900"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097902"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-214"></a><a name="runParser"><a href="Text.Megaparsec.html#runParser"><span class="hs-identifier">runParser</span></a></a><span> </span><a name="local-6989586621679098082"><a href="#local-6989586621679098082"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679098083"><a href="#local-6989586621679098083"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621679098084"><a href="#local-6989586621679098084"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">snd</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Text.Megaparsec.html#runParser%27"><span class="hs-identifier hs-var">runParser'</span></a><span> </span><a href="#local-6989586621679098082"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.html#initialState"><span class="hs-identifier hs-var">initialState</span></a><span> </span><a href="#local-6989586621679098083"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621679098084"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-215"></a><span>
</span><a name="line-216"></a><span class="hs-comment">-- | The function is similar to 'runParser' with the difference that it</span><span>
</span><a name="line-217"></a><span class="hs-comment">-- accepts and returns parser state. This allows to specify arbitrary</span><span>
</span><a name="line-218"></a><span class="hs-comment">-- textual position at the beginning of parsing, for example. This is the</span><span>
</span><a name="line-219"></a><span class="hs-comment">-- most general way to run a parser over the 'Identity' monad.</span><span>
</span><a name="line-220"></a><span class="hs-comment">--</span><span>
</span><a name="line-221"></a><span class="hs-comment">-- @since 4.2.0</span><span>
</span><a name="line-222"></a><span>
</span><a name="line-223"></a><span class="hs-identifier">runParser'</span><span>
</span><a name="line-224"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a><span> </span><a href="#local-6989586621679097897"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097898"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097899"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-225"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097898"><span class="hs-identifier hs-type">s</span></a><span>    </span><span class="hs-comment">-- ^ Initial state</span><span>
</span><a name="line-226"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097898"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-type">ParseErrorBundle</span></a><span> </span><a href="#local-6989586621679097898"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097897"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097899"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-227"></a><a name="runParser%27"><a href="Text.Megaparsec.html#runParser%27"><span class="hs-identifier">runParser'</span></a></a><span> </span><a name="local-6989586621679098085"><a href="#local-6989586621679098085"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">runIdentity</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.html#runParserT%27"><span class="hs-identifier hs-var">runParserT'</span></a><span> </span><a href="#local-6989586621679098085"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-comment">-- | @'runParserT' p file input@ runs parser @p@ on the input list of tokens</span><span>
</span><a name="line-230"></a><span class="hs-comment">-- @input@, obtained from source @file@. The @file@ is only used in error</span><span>
</span><a name="line-231"></a><span class="hs-comment">-- messages and may be the empty string. Returns a computation in the</span><span>
</span><a name="line-232"></a><span class="hs-comment">-- underlying monad @m@ that returns either a 'ParseErrorBundle' ('Left') or</span><span>
</span><a name="line-233"></a><span class="hs-comment">-- a value of type @a@ ('Right').</span><span>
</span><a name="line-234"></a><span>
</span><a name="line-235"></a><span class="hs-identifier">runParserT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679097893"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-236"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679097894"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097895"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097893"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097896"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-237"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>        </span><span class="hs-comment">-- ^ Name of source file</span><span>
</span><a name="line-238"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097895"><span class="hs-identifier hs-type">s</span></a><span>             </span><span class="hs-comment">-- ^ Input for parser</span><span>
</span><a name="line-239"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097893"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-type">ParseErrorBundle</span></a><span> </span><a href="#local-6989586621679097895"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097894"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097896"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-240"></a><a name="runParserT"><a href="Text.Megaparsec.html#runParserT"><span class="hs-identifier">runParserT</span></a></a><span> </span><a name="local-6989586621679098086"><a href="#local-6989586621679098086"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679098087"><a href="#local-6989586621679098087"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621679098088"><a href="#local-6989586621679098088"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">snd</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="Text.Megaparsec.html#runParserT%27"><span class="hs-identifier hs-var">runParserT'</span></a><span> </span><a href="#local-6989586621679098086"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.html#initialState"><span class="hs-identifier hs-var">initialState</span></a><span> </span><a href="#local-6989586621679098087"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621679098088"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-241"></a><span>
</span><a name="line-242"></a><span class="hs-comment">-- | This function is similar to 'runParserT', but like 'runParser'' it</span><span>
</span><a name="line-243"></a><span class="hs-comment">-- accepts and returns parser state. This is thus the most general way to</span><span>
</span><a name="line-244"></a><span class="hs-comment">-- run a parser.</span><span>
</span><a name="line-245"></a><span class="hs-comment">--</span><span>
</span><a name="line-246"></a><span class="hs-comment">-- @since 4.2.0</span><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span class="hs-identifier">runParserT'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Monad</span><span> </span><a href="#local-6989586621679097889"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-249"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Internal.html#ParsecT"><span class="hs-identifier hs-type">ParsecT</span></a><span> </span><a href="#local-6989586621679097890"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097891"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097889"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097892"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Parser to run</span><span>
</span><a name="line-250"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097891"><span class="hs-identifier hs-type">s</span></a><span>       </span><span class="hs-comment">-- ^ Initial state</span><span>
</span><a name="line-251"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097889"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097891"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Either</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-type">ParseErrorBundle</span></a><span> </span><a href="#local-6989586621679097891"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097890"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097892"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-252"></a><a name="runParserT%27"><a href="Text.Megaparsec.html#runParserT%27"><span class="hs-identifier">runParserT'</span></a></a><span> </span><a name="local-6989586621679098089"><a href="#local-6989586621679098089"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679098090"><a href="#local-6989586621679098090"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-253"></a><span>  </span><span class="hs-special">(</span><a href="Text.Megaparsec.Internal.html#Reply"><span class="hs-identifier hs-var">Reply</span></a><span> </span><a name="local-6989586621679098091"><a href="#local-6989586621679098091"><span class="hs-identifier">s'</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679098092"><a href="#local-6989586621679098092"><span class="hs-identifier">result</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.Internal.html#runParsecT"><span class="hs-identifier hs-var">runParsecT</span></a><span> </span><a href="#local-6989586621679098089"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679098090"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-254"></a><span>  </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679098092"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-255"></a><span>    </span><a href="Text.Megaparsec.Internal.html#OK"><span class="hs-identifier hs-var">OK</span></a><span>    </span><a name="local-6989586621679098093"><a href="#local-6989586621679098093"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679098091"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">Right</span><span> </span><a href="#local-6989586621679098093"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-256"></a><span>    </span><a href="Text.Megaparsec.Internal.html#Error"><span class="hs-identifier hs-var">Error</span></a><span> </span><a name="local-6989586621679098094"><a href="#local-6989586621679098094"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-257"></a><span>      </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679098095"><a href="#local-6989586621679098095"><span class="hs-identifier">bundle</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Error.html#ParseErrorBundle"><span class="hs-identifier hs-var">ParseErrorBundle</span></a><span>
</span><a name="line-258"></a><span>            </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">bundleErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098094"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-259"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">bundlePosState</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">statePosState</span><span> </span><a href="#local-6989586621679098090"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-260"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-261"></a><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679098091"><span class="hs-identifier hs-var">s'</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">Left</span><span> </span><a href="#local-6989586621679098095"><span class="hs-identifier hs-var">bundle</span></a><span class="hs-special">)</span><span>
</span><a name="line-262"></a><span>
</span><a name="line-263"></a><span class="hs-comment">-- | Given name of source file and input construct initial state for parser.</span><span>
</span><a name="line-264"></a><span>
</span><a name="line-265"></a><span class="hs-identifier">initialState</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097888"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097888"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-266"></a><a name="initialState"><a href="Text.Megaparsec.html#initialState"><span class="hs-identifier">initialState</span></a></a><span> </span><a name="local-6989586621679098096"><a href="#local-6989586621679098096"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621679098097"><a href="#local-6989586621679098097"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span>
</span><a name="line-267"></a><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">stateInput</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098097"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-268"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">stateOffset</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-269"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">statePosState</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.State.html#PosState"><span class="hs-identifier hs-var">PosState</span></a><span>
</span><a name="line-270"></a><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pstateInput</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098097"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-271"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pstateOffset</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-272"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pstateSourcePos</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Pos.html#initialPos"><span class="hs-identifier hs-var">initialPos</span></a><span> </span><a href="#local-6989586621679098096"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-273"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pstateTabWidth</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Pos.html#defaultTabWidth"><span class="hs-identifier hs-var">defaultTabWidth</span></a><span>
</span><a name="line-274"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pstateLinePrefix</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&quot;</span><span>
</span><a name="line-275"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-276"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-277"></a><span>
</span><a name="line-278"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-279"></a><span class="hs-comment">-- Derivatives of primitive combinators</span><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span class="hs-comment">-- | @'single' t@ only matches the single token @t@.</span><span>
</span><a name="line-282"></a><span class="hs-comment">--</span><span>
</span><a name="line-283"></a><span class="hs-comment">-- &gt; semicolon = single ';'</span><span>
</span><a name="line-284"></a><span class="hs-comment">--</span><span>
</span><a name="line-285"></a><span class="hs-comment">-- See also: 'token', 'anySingle', 'Text.Megaparsec.Byte.char',</span><span>
</span><a name="line-286"></a><span class="hs-comment">-- 'Text.Megaparsec.Char.char'.</span><span>
</span><a name="line-287"></a><span class="hs-comment">--</span><span>
</span><a name="line-288"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-289"></a><span>
</span><a name="line-290"></a><span class="hs-identifier">single</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097885"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097886"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097887"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-291"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097886"><span class="hs-identifier hs-type">s</span></a><span>           </span><span class="hs-comment">-- ^ Token to match</span><span>
</span><a name="line-292"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097887"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097886"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-293"></a><a name="single"><a href="Text.Megaparsec.html#single"><span class="hs-identifier">single</span></a></a><span> </span><a name="local-6989586621679098098"><a href="#local-6989586621679098098"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#token"><span class="hs-identifier hs-var">token</span></a><span> </span><a href="#local-6989586621679098099"><span class="hs-identifier hs-var">testToken</span></a><span> </span><a href="#local-6989586621679098100"><span class="hs-identifier hs-var">expected</span></a><span>
</span><a name="line-294"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-295"></a><span>    </span><a name="local-6989586621679098099"><a href="#local-6989586621679098099"><span class="hs-identifier">testToken</span></a></a><span> </span><a name="local-6989586621679098101"><a href="#local-6989586621679098101"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679098101"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621679098098"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679098101"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-296"></a><span>    </span><a name="local-6989586621679098100"><a href="#local-6989586621679098100"><span class="hs-identifier">expected</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#Tokens"><span class="hs-identifier hs-var">Tokens</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679098098"><span class="hs-identifier hs-var">t</span></a><span class="hs-operator hs-var">:|</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-297"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">single</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-298"></a><span>
</span><a name="line-299"></a><span class="hs-comment">-- | The parser @'satisfy' f@ succeeds for any token for which the supplied</span><span>
</span><a name="line-300"></a><span class="hs-comment">-- function @f@ returns 'True'.</span><span>
</span><a name="line-301"></a><span class="hs-comment">--</span><span>
</span><a name="line-302"></a><span class="hs-comment">-- &gt; digitChar = satisfy isDigit &lt;?&gt; &quot;digit&quot;</span><span>
</span><a name="line-303"></a><span class="hs-comment">-- &gt; oneOf cs  = satisfy (`elem` cs)</span><span>
</span><a name="line-304"></a><span class="hs-comment">--</span><span>
</span><a name="line-305"></a><span class="hs-comment">-- See also: 'anySingle', 'anySingleBut', 'oneOf', 'noneOf'.</span><span>
</span><a name="line-306"></a><span class="hs-comment">--</span><span>
</span><a name="line-307"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-308"></a><span>
</span><a name="line-309"></a><span class="hs-identifier">satisfy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097882"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097883"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097884"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-310"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097883"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Predicate to apply</span><span>
</span><a name="line-311"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097884"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097883"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-312"></a><a name="satisfy"><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier">satisfy</span></a></a><span> </span><a name="local-6989586621679098102"><a href="#local-6989586621679098102"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#token"><span class="hs-identifier hs-var">token</span></a><span> </span><a href="#local-6989586621679098103"><span class="hs-identifier hs-var">testChar</span></a><span> </span><span class="hs-identifier hs-var">E.empty</span><span>
</span><a name="line-313"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-314"></a><span>    </span><a name="local-6989586621679098103"><a href="#local-6989586621679098103"><span class="hs-identifier">testChar</span></a></a><span> </span><a name="local-6989586621679098104"><a href="#local-6989586621679098104"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679098102"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679098104"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679098104"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-315"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">satisfy</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-316"></a><span>
</span><a name="line-317"></a><span class="hs-comment">-- | Parse and return a single token. It's a good idea to attach a 'label'</span><span>
</span><a name="line-318"></a><span class="hs-comment">-- to this parser.</span><span>
</span><a name="line-319"></a><span class="hs-comment">--</span><span>
</span><a name="line-320"></a><span class="hs-comment">-- &gt; anySingle = satisfy (const True)</span><span>
</span><a name="line-321"></a><span class="hs-comment">--</span><span>
</span><a name="line-322"></a><span class="hs-comment">-- See also: 'satisfy', 'anySingleBut'.</span><span>
</span><a name="line-323"></a><span class="hs-comment">--</span><span>
</span><a name="line-324"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-325"></a><span>
</span><a name="line-326"></a><span class="hs-identifier">anySingle</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097879"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097880"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097881"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097881"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097880"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-327"></a><a name="anySingle"><a href="Text.Megaparsec.html#anySingle"><span class="hs-identifier">anySingle</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">anySingle</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-329"></a><span>
</span><a name="line-330"></a><span class="hs-comment">-- | Match any token but the given one. It's a good idea to attach a 'label'</span><span>
</span><a name="line-331"></a><span class="hs-comment">-- to this parser.</span><span>
</span><a name="line-332"></a><span class="hs-comment">--</span><span>
</span><a name="line-333"></a><span class="hs-comment">-- &gt; anySingleBut t = satisfy (/= t)</span><span>
</span><a name="line-334"></a><span class="hs-comment">--</span><span>
</span><a name="line-335"></a><span class="hs-comment">-- See also: 'single', 'anySingle', 'satisfy'.</span><span>
</span><a name="line-336"></a><span class="hs-comment">--</span><span>
</span><a name="line-337"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-338"></a><span>
</span><a name="line-339"></a><span class="hs-identifier">anySingleBut</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097876"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097877"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097878"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-340"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097877"><span class="hs-identifier hs-type">s</span></a><span>           </span><span class="hs-comment">-- ^ Token we should not match</span><span>
</span><a name="line-341"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097878"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097877"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-342"></a><a name="anySingleBut"><a href="Text.Megaparsec.html#anySingleBut"><span class="hs-identifier">anySingleBut</span></a></a><span> </span><a name="local-6989586621679098105"><a href="#local-6989586621679098105"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">/=</span><span> </span><a href="#local-6989586621679098105"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-343"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">anySingleBut</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-344"></a><span>
</span><a name="line-345"></a><span class="hs-comment">-- | @'oneOf' ts@ succeeds if the current token is in the supplied</span><span>
</span><a name="line-346"></a><span class="hs-comment">-- collection of tokens @ts@. Returns the parsed token. Note that this</span><span>
</span><a name="line-347"></a><span class="hs-comment">-- parser cannot automatically generate the &#8220;expected&#8221; component of error</span><span>
</span><a name="line-348"></a><span class="hs-comment">-- message, so usually you should label it manually with 'label' or ('&lt;?&gt;').</span><span>
</span><a name="line-349"></a><span class="hs-comment">--</span><span>
</span><a name="line-350"></a><span class="hs-comment">-- &gt; oneOf cs = satisfy (`elem` cs)</span><span>
</span><a name="line-351"></a><span class="hs-comment">--</span><span>
</span><a name="line-352"></a><span class="hs-comment">-- See also: 'satisfy'.</span><span>
</span><a name="line-353"></a><span class="hs-comment">--</span><span>
</span><a name="line-354"></a><span class="hs-comment">-- &gt; digit = oneOf ['0'..'9'] &lt;?&gt; &quot;digit&quot;</span><span>
</span><a name="line-355"></a><span class="hs-comment">--</span><span>
</span><a name="line-356"></a><span class="hs-comment">-- __Performance note__: prefer 'satisfy' when you can because it's faster</span><span>
</span><a name="line-357"></a><span class="hs-comment">-- when you have only a couple of tokens to compare to:</span><span>
</span><a name="line-358"></a><span class="hs-comment">--</span><span>
</span><a name="line-359"></a><span class="hs-comment">-- &gt; quoteFast = satisfy (\x -&gt; x == '\'' || x == '\&quot;')</span><span>
</span><a name="line-360"></a><span class="hs-comment">-- &gt; quoteSlow = oneOf &quot;'\&quot;&quot;</span><span>
</span><a name="line-361"></a><span class="hs-comment">--</span><span>
</span><a name="line-362"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-363"></a><span>
</span><a name="line-364"></a><span class="hs-identifier">oneOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Foldable</span><span> </span><a href="#local-6989586621679097872"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097873"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097874"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097875"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-365"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097872"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097874"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ Collection of matching tokens</span><span>
</span><a name="line-366"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097875"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097874"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-367"></a><a name="oneOf"><a href="Text.Megaparsec.html#oneOf"><span class="hs-identifier">oneOf</span></a></a><span> </span><a name="local-6989586621679098106"><a href="#local-6989586621679098106"><span class="hs-identifier">cs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier hs-var">elem</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679098106"><span class="hs-identifier hs-var">cs</span></a><span class="hs-special">)</span><span>
</span><a name="line-368"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">oneOf</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-369"></a><span>
</span><a name="line-370"></a><span class="hs-comment">-- | As the dual of 'oneOf', @'noneOf' ts@ succeeds if the current token</span><span>
</span><a name="line-371"></a><span class="hs-comment">-- /not/ in the supplied list of tokens @ts@. Returns the parsed character.</span><span>
</span><a name="line-372"></a><span class="hs-comment">-- Note that this parser cannot automatically generate the &#8220;expected&#8221;</span><span>
</span><a name="line-373"></a><span class="hs-comment">-- component of error message, so usually you should label it manually with</span><span>
</span><a name="line-374"></a><span class="hs-comment">-- 'label' or ('&lt;?&gt;').</span><span>
</span><a name="line-375"></a><span class="hs-comment">--</span><span>
</span><a name="line-376"></a><span class="hs-comment">-- &gt; noneOf cs = satisfy (`notElem` cs)</span><span>
</span><a name="line-377"></a><span class="hs-comment">--</span><span>
</span><a name="line-378"></a><span class="hs-comment">-- See also: 'satisfy'.</span><span>
</span><a name="line-379"></a><span class="hs-comment">--</span><span>
</span><a name="line-380"></a><span class="hs-comment">-- __Performance note__: prefer 'satisfy' and 'anySingleBut' when you can</span><span>
</span><a name="line-381"></a><span class="hs-comment">-- because it's faster.</span><span>
</span><a name="line-382"></a><span class="hs-comment">--</span><span>
</span><a name="line-383"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-384"></a><span>
</span><a name="line-385"></a><span class="hs-identifier">noneOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Foldable</span><span> </span><a href="#local-6989586621679097868"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097869"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097870"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097871"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-386"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097868"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097870"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ Collection of taken we should not match</span><span>
</span><a name="line-387"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097871"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097870"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-388"></a><a name="noneOf"><a href="Text.Megaparsec.html#noneOf"><span class="hs-identifier">noneOf</span></a></a><span> </span><a name="local-6989586621679098107"><a href="#local-6989586621679098107"><span class="hs-identifier">cs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier hs-var">notElem</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679098107"><span class="hs-identifier hs-var">cs</span></a><span class="hs-special">)</span><span>
</span><a name="line-389"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">noneOf</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-390"></a><span>
</span><a name="line-391"></a><span class="hs-comment">-- | @'chunk' chk@ only matches the chunk @chk@.</span><span>
</span><a name="line-392"></a><span class="hs-comment">--</span><span>
</span><a name="line-393"></a><span class="hs-comment">-- &gt; divOrMod = chunk &quot;div&quot; &lt;|&gt; chunk &quot;mod&quot;</span><span>
</span><a name="line-394"></a><span class="hs-comment">--</span><span>
</span><a name="line-395"></a><span class="hs-comment">-- See also: 'tokens', 'Text.Megaparsec.Char.string',</span><span>
</span><a name="line-396"></a><span class="hs-comment">-- 'Text.Megaparsec.Byte.string'.</span><span>
</span><a name="line-397"></a><span class="hs-comment">--</span><span>
</span><a name="line-398"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-399"></a><span>
</span><a name="line-400"></a><span class="hs-identifier">chunk</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097865"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097866"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097867"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-401"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679097866"><span class="hs-identifier hs-type">s</span></a><span>          </span><span class="hs-comment">-- ^ Chunk to match</span><span>
</span><a name="line-402"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097867"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679097866"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-403"></a><a name="chunk"><a href="Text.Megaparsec.html#chunk"><span class="hs-identifier">chunk</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#tokens"><span class="hs-identifier hs-var">tokens</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span>
</span><a name="line-404"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">chunk</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-405"></a><span>
</span><a name="line-406"></a><span class="hs-comment">-- | A synonym for 'label' in the form of an operator.</span><span>
</span><a name="line-407"></a><span>
</span><a name="line-408"></a><span class="hs-keyword">infix</span><span> </span><span class="hs-number">0</span><span> </span><a href="Text.Megaparsec.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a><span>
</span><a name="line-409"></a><span>
</span><a name="line-410"></a><span class="hs-special">(</span><span class="hs-operator">&lt;?&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097861"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097862"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097863"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097863"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097864"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097863"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097864"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-411"></a><span class="hs-special">(</span><a name="%3C%3F%3E"><a href="Text.Megaparsec.html#%3C%3F%3E"><span class="hs-operator">&lt;?&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">flip</span><span> </span><span class="hs-keyword">label</span><span>
</span><a name="line-412"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;?&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-413"></a><span>
</span><a name="line-414"></a><span class="hs-comment">-- | The parser @'unexpected' item@ fails with an error message telling</span><span>
</span><a name="line-415"></a><span class="hs-comment">-- about unexpected item @item@ without consuming any input.</span><span>
</span><a name="line-416"></a><span class="hs-comment">--</span><span>
</span><a name="line-417"></a><span class="hs-comment">-- &gt; unexpected item = failure (Just item) Set.empty</span><span>
</span><a name="line-418"></a><span>
</span><a name="line-419"></a><span class="hs-identifier">unexpected</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097857"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097858"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097859"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#ErrorItem"><span class="hs-identifier hs-type">ErrorItem</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Token"><span class="hs-identifier hs-type">Token</span></a><span> </span><a href="#local-6989586621679097858"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097859"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097860"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-420"></a><a name="unexpected"><a href="Text.Megaparsec.html#unexpected"><span class="hs-identifier">unexpected</span></a></a><span> </span><a name="local-6989586621679098108"><a href="#local-6989586621679098108"><span class="hs-identifier">item</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#failure"><span class="hs-identifier hs-var">failure</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679098108"><span class="hs-identifier hs-var">item</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">E.empty</span><span>
</span><a name="line-421"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">unexpected</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-422"></a><span>
</span><a name="line-423"></a><span class="hs-comment">-- | Report a custom parse error. For a more general version, see</span><span>
</span><a name="line-424"></a><span class="hs-comment">-- 'fancyFailure'.</span><span>
</span><a name="line-425"></a><span class="hs-comment">--</span><span>
</span><a name="line-426"></a><span class="hs-comment">-- &gt; customFailure = fancyFailure . E.singleton . ErrorCustom</span><span>
</span><a name="line-427"></a><span class="hs-comment">--</span><span>
</span><a name="line-428"></a><span class="hs-comment">-- @since 6.3.0</span><span>
</span><a name="line-429"></a><span>
</span><a name="line-430"></a><span class="hs-identifier">customFailure</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097853"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097854"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097855"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097853"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097855"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097856"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-431"></a><a name="customFailure"><a href="Text.Megaparsec.html#customFailure"><span class="hs-identifier">customFailure</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#fancyFailure"><span class="hs-identifier hs-var">fancyFailure</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">E.singleton</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Text.Megaparsec.Error.html#ErrorCustom"><span class="hs-identifier hs-var">ErrorCustom</span></a><span>
</span><a name="line-432"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">customFailure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-433"></a><span>
</span><a name="line-434"></a><span class="hs-comment">-- | Return both the result of a parse and a chunk of input that was</span><span>
</span><a name="line-435"></a><span class="hs-comment">-- consumed during parsing. This relies on the change of the 'stateOffset'</span><span>
</span><a name="line-436"></a><span class="hs-comment">-- value to evaluate how many tokens were consumed. If you mess with it</span><span>
</span><a name="line-437"></a><span class="hs-comment">-- manually in the argument parser, prepare for troubles.</span><span>
</span><a name="line-438"></a><span class="hs-comment">--</span><span>
</span><a name="line-439"></a><span class="hs-comment">-- @since 5.3.0</span><span>
</span><a name="line-440"></a><span>
</span><a name="line-441"></a><span class="hs-identifier">match</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097849"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097850"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097851"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097851"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097852"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097851"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679097850"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679097852"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-442"></a><a name="match"><a href="Text.Megaparsec.html#match"><span class="hs-identifier">match</span></a></a><span> </span><a name="local-6989586621679098109"><a href="#local-6989586621679098109"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-443"></a><span>  </span><a name="local-6989586621679098110"><a href="#local-6989586621679098110"><span class="hs-identifier">o</span></a></a><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.html#getOffset"><span class="hs-identifier hs-var">getOffset</span></a><span>
</span><a name="line-444"></a><span>  </span><a name="local-6989586621679098111"><a href="#local-6989586621679098111"><span class="hs-identifier">s</span></a></a><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.html#getInput"><span class="hs-identifier hs-var">getInput</span></a><span>
</span><a name="line-445"></a><span>  </span><a name="local-6989586621679098112"><a href="#local-6989586621679098112"><span class="hs-identifier">r</span></a></a><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679098109"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-446"></a><span>  </span><a name="local-6989586621679098113"><a href="#local-6989586621679098113"><span class="hs-identifier">o'</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.html#getOffset"><span class="hs-identifier hs-var">getOffset</span></a><span>
</span><a name="line-447"></a><span>  </span><span class="hs-comment">-- NOTE The 'fromJust' call here should never fail because if the stream</span><span>
</span><a name="line-448"></a><span>  </span><span class="hs-comment">-- is empty before 'p' (the only case when 'takeN_' can return 'Nothing'</span><span>
</span><a name="line-449"></a><span>  </span><span class="hs-comment">-- as per its invariants), (tp' - tp) won't be greater than 0, and in that</span><span>
</span><a name="line-450"></a><span>  </span><span class="hs-comment">-- case 'Just' is guaranteed to be returned as per another invariant of</span><span>
</span><a name="line-451"></a><span>  </span><span class="hs-comment">-- 'takeN_'.</span><span>
</span><a name="line-452"></a><span>  </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier hs-var">fst</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fromJust</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#takeN_"><span class="hs-identifier hs-var">takeN_</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679098113"><span class="hs-identifier hs-var">o'</span></a><span> </span><span class="hs-glyph">-</span><span> </span><a href="#local-6989586621679098110"><span class="hs-identifier hs-var">o</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679098111"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679098112"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-453"></a><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="hs-pragma">match</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-454"></a><span>
</span><a name="line-455"></a><span class="hs-comment">-- | Specify how to process 'ParseError's that happen inside of this</span><span>
</span><a name="line-456"></a><span class="hs-comment">-- wrapper. As a side effect of the current implementation changing</span><span>
</span><a name="line-457"></a><span class="hs-comment">-- 'errorOffset' with this combinator will also change the final</span><span>
</span><a name="line-458"></a><span class="hs-comment">-- 'stateOffset' in the parser state (try to avoid that because</span><span>
</span><a name="line-459"></a><span class="hs-comment">-- 'stateOffset' will go out of sync with factual position in the input</span><span>
</span><a name="line-460"></a><span class="hs-comment">-- stream and pretty-printing of parse errors afterwards will be incorrect).</span><span>
</span><a name="line-461"></a><span class="hs-comment">--</span><span>
</span><a name="line-462"></a><span class="hs-comment">-- @since 5.3.0</span><span>
</span><a name="line-463"></a><span>
</span><a name="line-464"></a><span class="hs-identifier">region</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097845"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097846"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097847"><span class="hs-identifier hs-type">m</span></a><span>
</span><a name="line-465"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679097846"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097845"><span class="hs-identifier hs-type">e</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.Error.html#ParseError"><span class="hs-identifier hs-type">ParseError</span></a><span> </span><a href="#local-6989586621679097846"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097845"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-466"></a><span>     </span><span class="hs-comment">-- ^ How to process 'ParseError's</span><span>
</span><a name="line-467"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097847"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097848"><span class="hs-identifier hs-type">a</span></a><span>               </span><span class="hs-comment">-- ^ The &#8220;region&#8221; that the processing applies to</span><span>
</span><a name="line-468"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097847"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097848"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-469"></a><a name="region"><a href="Text.Megaparsec.html#region"><span class="hs-identifier">region</span></a></a><span> </span><a name="local-6989586621679098114"><a href="#local-6989586621679098114"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679098115"><a href="#local-6989586621679098115"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-470"></a><span>  </span><a name="local-6989586621679098116"><a href="#local-6989586621679098116"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.Class.html#observing"><span class="hs-identifier hs-var">observing</span></a><span> </span><a href="#local-6989586621679098115"><span class="hs-identifier hs-var">m</span></a><span>
</span><a name="line-471"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679098116"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-472"></a><span>    </span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621679098117"><a href="#local-6989586621679098117"><span class="hs-identifier">err</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-473"></a><span>      </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679098114"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679098117"><span class="hs-identifier hs-var">err</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-474"></a><span>        </span><a href="Text.Megaparsec.Error.html#TrivialError"><span class="hs-identifier hs-var">TrivialError</span></a><span> </span><a name="local-6989586621679098118"><a href="#local-6989586621679098118"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679098119"><a href="#local-6989586621679098119"><span class="hs-identifier">us</span></a></a><span> </span><a name="local-6989586621679098120"><a href="#local-6989586621679098120"><span class="hs-identifier">ps</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-475"></a><span>          </span><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier hs-var">updateParserState</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679098121"><a href="#local-6989586621679098121"><span class="hs-identifier">st</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679098121"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">stateOffset</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098118"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-476"></a><span>          </span><a href="Text.Megaparsec.Class.html#failure"><span class="hs-identifier hs-var">failure</span></a><span> </span><a href="#local-6989586621679098119"><span class="hs-identifier hs-var">us</span></a><span> </span><a href="#local-6989586621679098120"><span class="hs-identifier hs-var">ps</span></a><span>
</span><a name="line-477"></a><span>        </span><a href="Text.Megaparsec.Error.html#FancyError"><span class="hs-identifier hs-var">FancyError</span></a><span> </span><a name="local-6989586621679098122"><a href="#local-6989586621679098122"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679098123"><a href="#local-6989586621679098123"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-478"></a><span>          </span><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier hs-var">updateParserState</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679098124"><a href="#local-6989586621679098124"><span class="hs-identifier">st</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679098124"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">stateOffset</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098122"><span class="hs-identifier hs-var">o</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-479"></a><span>          </span><a href="Text.Megaparsec.Class.html#fancyFailure"><span class="hs-identifier hs-var">fancyFailure</span></a><span> </span><a href="#local-6989586621679098123"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-480"></a><span>    </span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621679098125"><a href="#local-6989586621679098125"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><a href="#local-6989586621679098125"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-481"></a><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="hs-pragma">region</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-482"></a><span>
</span><a name="line-483"></a><span class="hs-comment">-- | Consume the rest of the input and return it as a chunk. This parser</span><span>
</span><a name="line-484"></a><span class="hs-comment">-- never fails, but may return the empty chunk.</span><span>
</span><a name="line-485"></a><span class="hs-comment">--</span><span>
</span><a name="line-486"></a><span class="hs-comment">-- &gt; takeRest = takeWhileP Nothing (const True)</span><span>
</span><a name="line-487"></a><span class="hs-comment">--</span><span>
</span><a name="line-488"></a><span class="hs-comment">-- @since 6.0.0</span><span>
</span><a name="line-489"></a><span>
</span><a name="line-490"></a><span class="hs-identifier">takeRest</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097842"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097843"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097844"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097844"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="Text.Megaparsec.Stream.html#Tokens"><span class="hs-identifier hs-type">Tokens</span></a><span> </span><a href="#local-6989586621679097843"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-491"></a><a name="takeRest"><a href="Text.Megaparsec.html#takeRest"><span class="hs-identifier">takeRest</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#takeWhileP"><span class="hs-identifier hs-var">takeWhileP</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-492"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">takeRest</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span class="hs-comment">-- | Return 'True' when end of input has been reached.</span><span>
</span><a name="line-495"></a><span class="hs-comment">--</span><span>
</span><a name="line-496"></a><span class="hs-comment">-- &gt; atEnd = option False (True &lt;$ hidden eof)</span><span>
</span><a name="line-497"></a><span class="hs-comment">--</span><span>
</span><a name="line-498"></a><span class="hs-comment">-- @since 6.0.0</span><span>
</span><a name="line-499"></a><span>
</span><a name="line-500"></a><span class="hs-identifier">atEnd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097839"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097840"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097841"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097841"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-501"></a><a name="atEnd"><a href="Text.Megaparsec.html#atEnd"><span class="hs-identifier">atEnd</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">option</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">True</span><span> </span><span class="hs-operator hs-var">&lt;$</span><span> </span><a href="Text.Megaparsec.Class.html#hidden"><span class="hs-identifier hs-var">hidden</span></a><span> </span><a href="Text.Megaparsec.Class.html#eof"><span class="hs-identifier hs-var">eof</span></a><span class="hs-special">)</span><span>
</span><a name="line-502"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">atEnd</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-503"></a><span>
</span><a name="line-504"></a><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><a name="line-505"></a><span class="hs-comment">-- Parser state combinators</span><span>
</span><a name="line-506"></a><span>
</span><a name="line-507"></a><span class="hs-comment">-- | Return the current input.</span><span>
</span><a name="line-508"></a><span>
</span><a name="line-509"></a><span class="hs-identifier">getInput</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097836"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097837"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097838"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097838"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679097837"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-510"></a><a name="getInput"><a href="Text.Megaparsec.html#getInput"><span class="hs-identifier">getInput</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">stateInput</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="Text.Megaparsec.Class.html#getParserState"><span class="hs-identifier hs-var">getParserState</span></a><span>
</span><a name="line-511"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">getInput</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-512"></a><span>
</span><a name="line-513"></a><span class="hs-comment">-- | @'setInput' input@ continues parsing with @input@.</span><span>
</span><a name="line-514"></a><span>
</span><a name="line-515"></a><span class="hs-identifier">setInput</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097833"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097834"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097835"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097834"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097835"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-516"></a><a name="setInput"><a href="Text.Megaparsec.html#setInput"><span class="hs-identifier">setInput</span></a></a><span> </span><a name="local-6989586621679098155"><a href="#local-6989586621679098155"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier hs-var">updateParserState</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679098156"><a href="#local-6989586621679098156"><span class="hs-identifier">o</span></a></a><span> </span><a name="local-6989586621679098157"><a href="#local-6989586621679098157"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679098155"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679098156"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679098157"><span class="hs-identifier hs-var">pst</span></a><span class="hs-special">)</span><span>
</span><a name="line-517"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">setInput</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-518"></a><span>
</span><a name="line-519"></a><span class="hs-comment">-- | Return the current source position. This function /is not cheap/, do</span><span>
</span><a name="line-520"></a><span class="hs-comment">-- not call it e.g. on matching of every token, that's a bad idea. Still you</span><span>
</span><a name="line-521"></a><span class="hs-comment">-- can use it to get 'SourcePos' to attach to things that you parse.</span><span>
</span><a name="line-522"></a><span class="hs-comment">--</span><span>
</span><a name="line-523"></a><span class="hs-comment">-- The function works under the assumption that we move in the input stream</span><span>
</span><a name="line-524"></a><span class="hs-comment">-- only forwards and never backwards, which is always true unless the user</span><span>
</span><a name="line-525"></a><span class="hs-comment">-- abuses the library.</span><span>
</span><a name="line-526"></a><span class="hs-comment">--</span><span>
</span><a name="line-527"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-528"></a><span>
</span><a name="line-529"></a><span class="hs-identifier">getSourcePos</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097830"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097831"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097832"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097832"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="Text.Megaparsec.Pos.html#SourcePos"><span class="hs-identifier hs-type">SourcePos</span></a><span>
</span><a name="line-530"></a><a name="getSourcePos"><a href="Text.Megaparsec.html#getSourcePos"><span class="hs-identifier">getSourcePos</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-531"></a><span>  </span><a name="local-6989586621679098158"><a href="#local-6989586621679098158"><span class="hs-identifier">st</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Text.Megaparsec.Class.html#getParserState"><span class="hs-identifier hs-var">getParserState</span></a><span>
</span><a name="line-532"></a><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679098159"><a href="#local-6989586621679098159"><span class="hs-identifier">pos</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679098160"><a href="#local-6989586621679098160"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Stream.html#reachOffsetNoLine"><span class="hs-identifier hs-var">reachOffsetNoLine</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">stateOffset</span><span> </span><a href="#local-6989586621679098158"><span class="hs-identifier hs-var">st</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">statePosState</span><span> </span><a href="#local-6989586621679098158"><span class="hs-identifier hs-var">st</span></a><span class="hs-special">)</span><span>
</span><a name="line-533"></a><span>  </span><a href="Text.Megaparsec.html#setParserState"><span class="hs-identifier hs-var">setParserState</span></a><span> </span><a href="#local-6989586621679098158"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">statePosState</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679098160"><span class="hs-identifier hs-var">pst</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-534"></a><span>  </span><span class="hs-identifier hs-var">return</span><span> </span><a href="#local-6989586621679098159"><span class="hs-identifier hs-var">pos</span></a><span>
</span><a name="line-535"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">getSourcePos</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-536"></a><span>
</span><a name="line-537"></a><span class="hs-comment">-- | Get the number of tokens processed so far.</span><span>
</span><a name="line-538"></a><span class="hs-comment">--</span><span>
</span><a name="line-539"></a><span class="hs-comment">-- See also: 'setOffset'.</span><span>
</span><a name="line-540"></a><span class="hs-comment">--</span><span>
</span><a name="line-541"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-542"></a><span>
</span><a name="line-543"></a><span class="hs-identifier">getOffset</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097827"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097828"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097829"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679097829"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-544"></a><a name="getOffset"><a href="Text.Megaparsec.html#getOffset"><span class="hs-identifier">getOffset</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">stateOffset</span><span> </span><span class="hs-operator hs-var">&lt;$&gt;</span><span> </span><a href="Text.Megaparsec.Class.html#getParserState"><span class="hs-identifier hs-var">getParserState</span></a><span>
</span><a name="line-545"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">getOffset</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-546"></a><span>
</span><a name="line-547"></a><span class="hs-comment">-- | Set the number of tokens processed so far.</span><span>
</span><a name="line-548"></a><span class="hs-comment">--</span><span>
</span><a name="line-549"></a><span class="hs-comment">-- See also: 'getOffset'.</span><span>
</span><a name="line-550"></a><span class="hs-comment">--</span><span>
</span><a name="line-551"></a><span class="hs-comment">-- @since 7.0.0</span><span>
</span><a name="line-552"></a><span>
</span><a name="line-553"></a><span class="hs-identifier">setOffset</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097824"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097825"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097826"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097826"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-554"></a><a name="setOffset"><a href="Text.Megaparsec.html#setOffset"><span class="hs-identifier">setOffset</span></a></a><span> </span><a name="local-6989586621679098161"><a href="#local-6989586621679098161"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier hs-var">updateParserState</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a name="local-6989586621679098162"><a href="#local-6989586621679098162"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679098163"><a href="#local-6989586621679098163"><span class="hs-identifier">pst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-555"></a><span>  </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-var">State</span></a><span> </span><a href="#local-6989586621679098162"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679098161"><span class="hs-identifier hs-var">o</span></a><span> </span><a href="#local-6989586621679098163"><span class="hs-identifier hs-var">pst</span></a><span>
</span><a name="line-556"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">setOffset</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-557"></a><span>
</span><a name="line-558"></a><span class="hs-comment">-- | @'setParserState' st@ sets the parser state to @st@.</span><span>
</span><a name="line-559"></a><span class="hs-comment">--</span><span>
</span><a name="line-560"></a><span class="hs-comment">-- See also: 'getParserState', 'updateParserState'.</span><span>
</span><a name="line-561"></a><span>
</span><a name="line-562"></a><span class="hs-identifier">setParserState</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Text.Megaparsec.Class.html#MonadParsec"><span class="hs-identifier hs-type">MonadParsec</span></a><span> </span><a href="#local-6989586621679097821"><span class="hs-identifier hs-type">e</span></a><span> </span><a href="#local-6989586621679097822"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679097823"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Text.Megaparsec.State.html#State"><span class="hs-identifier hs-type">State</span></a><span> </span><a href="#local-6989586621679097822"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097823"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-563"></a><a name="setParserState"><a href="Text.Megaparsec.html#setParserState"><span class="hs-identifier">setParserState</span></a></a><span> </span><a name="local-6989586621679098164"><a href="#local-6989586621679098164"><span class="hs-identifier">st</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Text.Megaparsec.Class.html#updateParserState"><span class="hs-identifier hs-var">updateParserState</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">const</span><span> </span><a href="#local-6989586621679098164"><span class="hs-identifier hs-var">st</span></a><span class="hs-special">)</span><span>
</span><a name="line-564"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">setParserState</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-565"></a></pre></body></html>