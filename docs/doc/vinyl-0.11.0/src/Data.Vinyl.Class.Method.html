<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes   #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE BangPatterns          #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE CPP                   #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE ConstraintKinds       #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# LANGUAGE GADTs                 #-}</span><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# LANGUAGE PolyKinds             #-}</span><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# LANGUAGE RankNTypes            #-}</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><a name="line-13"></a><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><a name="line-14"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><a name="line-15"></a><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><a name="line-16"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><a name="line-17"></a><span>
</span><a name="line-18"></a><span class="hs-comment">{-| This module uses 'RecAll' to extend common typeclass methods to records.
    Generally, it is preferable to use the original typeclass methods to these
    variants. For example, in most places where 'recCompare' could be used,
    you could use 'compare' instead. They are useful in scenarios
    that involve working on unknown subsets of a record's fields
    because 'RecAll' constraints can easily be weakened. An example of this
    is given at the bottom of this page.
-}</span><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vinyl.Class.Method</span><span>
</span><a name="line-28"></a><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Mapping methods over records</span><span>
</span><a name="line-29"></a><span>    </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-30"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-identifier hs-var">rmapMethodF</span></a><span>
</span><a name="line-31"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-identifier hs-var">mapFields</span></a><span>
</span><a name="line-32"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-34"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier hs-var">rtraverseInMethod</span></a><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#rsequenceInFields"><span class="hs-identifier hs-var">rsequenceInFields</span></a><span>
</span><a name="line-36"></a><span>    </span><span class="hs-comment">-- * Support for 'RecMapMethod'</span><span>
</span><a name="line-37"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-type">FieldTyper</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-type">ApplyFieldTyper</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a><span>
</span><a name="line-38"></a><span>    </span><span class="hs-comment">-- * Eq Functions</span><span>
</span><a name="line-39"></a><span>  </span><span class="hs-special">,</span><span>  </span><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-var">recEq</span></a><span>
</span><a name="line-40"></a><span>     </span><span class="hs-comment">-- * Ord Functions</span><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-var">recCompare</span></a><span>
</span><a name="line-42"></a><span>    </span><span class="hs-comment">-- * Monoid Functions</span><span>
</span><a name="line-43"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a><span>
</span><a name="line-44"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a><span>
</span><a name="line-45"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-var">recMconcat</span></a><span>
</span><a name="line-46"></a><span>    </span><span class="hs-comment">-- * Num Functions</span><span>
</span><a name="line-47"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-var">recAdd</span></a><span>
</span><a name="line-48"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a><span>
</span><a name="line-49"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier hs-var">recMultiply</span></a><span>
</span><a name="line-50"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a><span>
</span><a name="line-51"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier hs-var">recSignum</span></a><span>
</span><a name="line-52"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier hs-var">recNegate</span></a><span>
</span><a name="line-53"></a><span>    </span><span class="hs-comment">-- * Bounded Functions</span><span>
</span><a name="line-54"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-var">recMinBound</span></a><span>
</span><a name="line-55"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-var">recMaxBound</span></a><span>
</span><a name="line-56"></a><span>    </span><span class="hs-comment">-- * Example</span><span>
</span><a name="line-57"></a><span>    </span><span class="hs-comment">-- $example</span><span>
</span><a name="line-58"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Functor.Product</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Product</span><span class="hs-special">(</span><span class="hs-identifier hs-var">Pair</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-60"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Vinyl.Core.html"><span class="hs-identifier">Data.Vinyl.Core</span></a><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Vinyl.Derived.html"><span class="hs-identifier">Data.Vinyl.Derived</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-var">traverseField</span></a><span class="hs-special">)</span><span>
</span><a name="line-62"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Vinyl.Functor.html"><span class="hs-identifier">Data.Vinyl.Functor</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Functor.html#getCompose"><span class="hs-identifier hs-var">getCompose</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-63"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Vinyl.TypeLevel.html"><span class="hs-identifier">Data.Vinyl.TypeLevel</span></a><span>
</span><a name="line-64"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &lt; 804
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span>
</span><a name="line-66"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-68"></a><span class="hs-identifier">recEq</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068537"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068538"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068537"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068538"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068537"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068538"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-69"></a><a name="recEq"><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier">recEq</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-70"></a><span class="hs-identifier">recEq</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068539"><a href="#local-6989586621679068539"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068541"><a href="#local-6989586621679068541"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068542"><a href="#local-6989586621679068542"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068539"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621679068541"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="Data.Vinyl.Class.Method.html#recEq"><span class="hs-identifier hs-var">recEq</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068542"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-identifier">recCompare</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068535"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068536"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068535"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068536"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068535"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068536"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Ordering</span><span>
</span><a name="line-73"></a><a name="recCompare"><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier">recCompare</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">EQ</span><span>
</span><a name="line-74"></a><span class="hs-identifier">recCompare</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068543"><a href="#local-6989586621679068543"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068545"><a href="#local-6989586621679068545"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068546"><a href="#local-6989586621679068546"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><a href="#local-6989586621679068543"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679068545"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Data.Vinyl.Class.Method.html#recCompare"><span class="hs-identifier hs-var">recCompare</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068546"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span class="hs-comment">-- | This function differs from the original 'mempty' in that</span><span>
</span><a name="line-77"></a><span class="hs-comment">--   it takes an argument. In some cases, you will already</span><span>
</span><a name="line-78"></a><span class="hs-comment">--   have a record of the type you are interested in, and</span><span>
</span><a name="line-79"></a><span class="hs-comment">--   that can be passed an the argument. In other situations</span><span>
</span><a name="line-80"></a><span class="hs-comment">--   where this is not the case, you may need the</span><span>
</span><a name="line-81"></a><span class="hs-comment">--   interpretation function of the argument record to be</span><span>
</span><a name="line-82"></a><span class="hs-comment">--   @Const ()@ or @Proxy@ so the you can generate the</span><span>
</span><a name="line-83"></a><span class="hs-comment">--   argument with 'rpure'.</span><span>
</span><a name="line-84"></a><span class="hs-identifier">recMempty</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068532"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068533"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Monoid</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068534"><span class="hs-identifier hs-type">proxy</span></a><span> </span><a href="#local-6989586621679068533"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068532"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068533"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-85"></a><a name="recMempty"><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier">recMempty</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-86"></a><span class="hs-identifier">recMempty</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068547"><a href="#local-6989586621679068547"><span class="hs-identifier">rs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mempty</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a><span> </span><a href="#local-6989586621679068547"><span class="hs-identifier hs-var">rs</span></a><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-identifier">recMappend</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068530"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068531"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Monoid</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068530"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068531"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068530"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068531"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068530"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068531"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-89"></a><a name="recMappend"><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier">recMappend</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-90"></a><span class="hs-identifier">recMappend</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068548"><a href="#local-6989586621679068548"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068550"><a href="#local-6989586621679068550"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068551"><a href="#local-6989586621679068551"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">mappend</span><span> </span><a href="#local-6989586621679068548"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679068550"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068551"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-91"></a><span>
</span><a name="line-92"></a><span class="hs-comment">-- | This function differs from the original 'mconcat'.</span><span>
</span><a name="line-93"></a><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><a name="line-94"></a><span class="hs-identifier">recMconcat</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068527"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068528"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Monoid</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068529"><span class="hs-identifier hs-type">proxy</span></a><span> </span><a href="#local-6989586621679068528"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068527"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068528"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068527"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068528"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-95"></a><a name="recMconcat"><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier">recMconcat</span></a></a><span> </span><a name="local-6989586621679068552"><a href="#local-6989586621679068552"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMempty"><span class="hs-identifier hs-var">recMempty</span></a><span> </span><a href="#local-6989586621679068552"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-96"></a><span class="hs-identifier">recMconcat</span><span> </span><a name="local-6989586621679068553"><a href="#local-6989586621679068553"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068554"><a href="#local-6989586621679068554"><span class="hs-identifier">rec</span></a></a><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679068555"><a href="#local-6989586621679068555"><span class="hs-identifier">recs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#recMappend"><span class="hs-identifier hs-var">recMappend</span></a><span> </span><a href="#local-6989586621679068554"><span class="hs-identifier hs-var">rec</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Class.Method.html#recMconcat"><span class="hs-identifier hs-var">recMconcat</span></a><span> </span><a href="#local-6989586621679068553"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679068555"><span class="hs-identifier hs-var">recs</span></a><span class="hs-special">)</span><span>
</span><a name="line-97"></a><span>
</span><a name="line-98"></a><span class="hs-identifier">recAdd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068525"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068526"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068525"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068526"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068525"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068526"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068525"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068526"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-99"></a><a name="recAdd"><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier">recAdd</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-100"></a><span class="hs-identifier">recAdd</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068556"><a href="#local-6989586621679068556"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068558"><a href="#local-6989586621679068558"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068559"><a href="#local-6989586621679068559"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068556"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621679068558"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recAdd"><span class="hs-identifier hs-var">recAdd</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068559"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-identifier">recSubtract</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068523"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068524"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068523"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068524"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068523"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068524"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068523"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068524"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-103"></a><a name="recSubtract"><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier">recSubtract</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-104"></a><span class="hs-identifier">recSubtract</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068560"><a href="#local-6989586621679068560"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068562"><a href="#local-6989586621679068562"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068563"><a href="#local-6989586621679068563"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068560"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-glyph">-</span><span> </span><a href="#local-6989586621679068562"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068563"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-105"></a><span>
</span><a name="line-106"></a><span class="hs-identifier">recMultiply</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068521"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068522"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068521"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068522"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068521"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068522"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068521"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068522"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-107"></a><a name="recMultiply"><a href="Data.Vinyl.Class.Method.html#recMultiply"><span class="hs-identifier">recMultiply</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-108"></a><span class="hs-identifier">recMultiply</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068564"><a href="#local-6989586621679068564"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068566"><a href="#local-6989586621679068566"><span class="hs-identifier">b</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068567"><a href="#local-6989586621679068567"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068564"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">*</span><span> </span><a href="#local-6989586621679068566"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recSubtract"><span class="hs-identifier hs-var">recSubtract</span></a><span> </span><span class="hs-keyword">as</span><span> </span><a href="#local-6989586621679068567"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-109"></a><span>
</span><a name="line-110"></a><span class="hs-identifier">recAbs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068519"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068520"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068519"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068520"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068519"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068520"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-111"></a><a name="recAbs"><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier">recAbs</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-112"></a><span class="hs-identifier">recAbs</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068568"><a href="#local-6989586621679068568"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">abs</span><span> </span><a href="#local-6989586621679068568"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span class="hs-identifier">recSignum</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068517"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068518"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068517"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068518"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068517"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068518"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-115"></a><a name="recSignum"><a href="Data.Vinyl.Class.Method.html#recSignum"><span class="hs-identifier">recSignum</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-116"></a><span class="hs-identifier">recSignum</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068570"><a href="#local-6989586621679068570"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">signum</span><span> </span><a href="#local-6989586621679068570"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span class="hs-identifier">recNegate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068515"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068516"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068515"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068516"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068515"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068516"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-119"></a><a name="recNegate"><a href="Data.Vinyl.Class.Method.html#recNegate"><span class="hs-identifier">recNegate</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-120"></a><span class="hs-identifier">recNegate</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068572"><a href="#local-6989586621679068572"><span class="hs-identifier">a</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">negate</span><span> </span><a href="#local-6989586621679068572"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recAbs"><span class="hs-identifier hs-var">recAbs</span></a><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span class="hs-comment">-- | This function differs from the original 'minBound'.</span><span>
</span><a name="line-123"></a><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><a name="line-124"></a><span class="hs-identifier">recMinBound</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068512"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068513"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Bounded</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068514"><span class="hs-identifier hs-type">proxy</span></a><span> </span><a href="#local-6989586621679068513"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068512"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068513"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-125"></a><a name="recMinBound"><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier">recMinBound</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-126"></a><span class="hs-identifier">recMinBound</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068574"><a href="#local-6989586621679068574"><span class="hs-identifier">rs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">minBound</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recMinBound"><span class="hs-identifier hs-var">recMinBound</span></a><span> </span><a href="#local-6989586621679068574"><span class="hs-identifier hs-var">rs</span></a><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span class="hs-comment">-- | This function differs from the original 'maxBound'.</span><span>
</span><a name="line-129"></a><span class="hs-comment">--   See 'recMempty'.</span><span>
</span><a name="line-130"></a><span class="hs-identifier">recMaxBound</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.TypeLevel.html#RecAll"><span class="hs-identifier hs-type">RecAll</span></a><span> </span><a href="#local-6989586621679068509"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068510"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-identifier hs-type">Bounded</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068511"><span class="hs-identifier hs-type">proxy</span></a><span> </span><a href="#local-6989586621679068510"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068509"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068510"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-131"></a><a name="recMaxBound"><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier">recMaxBound</span></a></a><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-132"></a><span class="hs-identifier">recMaxBound</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068575"><a href="#local-6989586621679068575"><span class="hs-identifier">rs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maxBound</span><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#recMaxBound"><span class="hs-identifier hs-var">recMaxBound</span></a><span> </span><a href="#local-6989586621679068575"><span class="hs-identifier hs-var">rs</span></a><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-comment">-- | When we wish to apply a typeclass method to each field of a</span><span>
</span><a name="line-135"></a><span class="hs-comment">-- 'Rec', we typically care about typeclass instances of the record</span><span>
</span><a name="line-136"></a><span class="hs-comment">-- field types irrespective of the record's functor context. To expose</span><span>
</span><a name="line-137"></a><span class="hs-comment">-- the field types themselves, we utilize a constraint built from a</span><span>
</span><a name="line-138"></a><span class="hs-comment">-- defunctionalized type family in the 'rmapMethod' method. The</span><span>
</span><a name="line-139"></a><span class="hs-comment">-- symbols of the function space are defined by this data type.</span><span>
</span><a name="line-140"></a><span class="hs-keyword">data</span><span> </span><a name="FieldTyper"><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier">FieldTyper</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FieldId"><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier">FieldId</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="FieldSnd"><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier">FieldSnd</span></a></a><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span class="hs-comment">-- | The interpretation function of the 'FieldTyper' symbols.</span><span>
</span><a name="line-143"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="ApplyFieldTyper"><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier">ApplyFieldTyper</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068464"><a href="#local-6989586621679068464"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-type">FieldTyper</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068465"><a href="#local-6989586621679068465"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068463"><span class="hs-identifier hs-type">k</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-144"></a><span>  </span><span class="hs-identifier">ApplyFieldTyper</span><span> </span><span class="hs-special">'</span><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a><span> </span><a href="#local-6989586621679068466"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068466"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-145"></a><span>  </span><span class="hs-identifier">ApplyFieldTyper</span><span> </span><span class="hs-special">'</span><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier hs-type">FieldSnd</span></a><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><a href="#local-6989586621679068467"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679068468"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068468"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-146"></a><span>
</span><a name="line-147"></a><span class="hs-comment">-- | A mapping of record contexts into the 'FieldTyper' function</span><span>
</span><a name="line-148"></a><span class="hs-comment">-- space. We explicitly match on 'ElField' to pick out the payload</span><span>
</span><a name="line-149"></a><span class="hs-comment">-- type, and 'Compose' to pick out the inner-most context. All other</span><span>
</span><a name="line-150"></a><span class="hs-comment">-- type constructor contexts are understood to not perform any</span><span>
</span><a name="line-151"></a><span class="hs-comment">-- computation on their arguments.</span><span>
</span><a name="line-152"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="FieldPayload"><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier">FieldPayload</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068459"><a href="#local-6989586621679068459"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068458"><span class="hs-identifier hs-type">u</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Vinyl.Class.Method.html#FieldTyper"><span class="hs-identifier hs-type">FieldTyper</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-153"></a><span>  </span><span class="hs-identifier">FieldPayload</span><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><a href="Data.Vinyl.Class.Method.html#FieldSnd"><span class="hs-identifier hs-type">FieldSnd</span></a><span>
</span><a name="line-154"></a><span>  </span><span class="hs-identifier">FieldPayload</span><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-identifier hs-type">f</span></a><span> </span><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a><span> </span><a href="#local-6989586621679068461"><span class="hs-identifier hs-type">g</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-type">FieldPayload</span></a><span> </span><a href="#local-6989586621679068461"><span class="hs-identifier hs-type">g</span></a><span>
</span><a name="line-155"></a><span>  </span><span class="hs-identifier">FieldPayload</span><span> </span><a href="#local-6989586621679068462"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-comment">-- | Shorthand for combining 'ApplyFieldTyper' and 'FieldPayload'.</span><span>
</span><a name="line-158"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="PayloadType"><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier">PayloadType</span></a></a><span> </span><a name="local-6989586621679068454"><a href="#local-6989586621679068454"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068455"><a href="#local-6989586621679068455"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068453"><span class="hs-identifier hs-type">u</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-159"></a><span>  </span><span class="hs-identifier">PayloadType</span><span> </span><a href="#local-6989586621679068456"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068457"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#ApplyFieldTyper"><span class="hs-identifier hs-type">ApplyFieldTyper</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Class.Method.html#FieldPayload"><span class="hs-identifier hs-type">FieldPayload</span></a><span> </span><a href="#local-6989586621679068456"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679068457"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-160"></a><span>
</span><a name="line-161"></a><span class="hs-comment">-- | Generate a record from fields derived from type class</span><span>
</span><a name="line-162"></a><span class="hs-comment">-- instances.</span><span>
</span><a name="line-163"></a><span class="hs-keyword">class</span><span> </span><a name="RecPointed"><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier">RecPointed</span></a></a><span> </span><a name="local-6989586621679068449"><a href="#local-6989586621679068449"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068450"><a href="#local-6989586621679068450"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068448"><span class="hs-identifier hs-type">u</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068451"><a href="#local-6989586621679068451"><span class="hs-identifier">ts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679068448"><span class="hs-identifier hs-type">u</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-164"></a><span>  </span><a name="rpointMethod"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier">rpointMethod</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068452"><a href="#local-6989586621679068452"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068448"><span class="hs-identifier hs-type">u</span></a><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068449"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068450"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068452"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068450"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068452"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068450"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068451"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-165"></a><span>
</span><a name="line-166"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a><span> </span><a href="#local-6989586621679068492"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068493"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-167"></a><span>  </span><a name="local-8214565720323843323"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier">rpointMethod</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-168"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rpointMethod</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-169"></a><span>
</span><a name="line-170"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068487"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068488"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068489"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a><span> </span><a href="#local-6989586621679068487"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068488"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068490"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span>
</span><a name="line-171"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecPointed"><span class="hs-identifier hs-type">RecPointed</span></a><span> </span><a href="#local-6989586621679068487"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068488"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">t</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679068490"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-172"></a><span>  </span><a name="local-8214565720323843323"><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier">rpointMethod</span></a></a><span> </span><a name="local-6989586621679068491"><a href="#local-6989586621679068491"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068491"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#rpointMethod"><span class="hs-identifier hs-var">rpointMethod</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068487"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068491"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-173"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rpointMethod</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-174"></a><span>
</span><a name="line-175"></a><span class="hs-comment">-- | Apply a typeclass method to each field of a 'Rec' where the class</span><span>
</span><a name="line-176"></a><span class="hs-comment">-- constrains the index of the field, but not its interpretation</span><span>
</span><a name="line-177"></a><span class="hs-comment">-- functor.</span><span>
</span><a name="line-178"></a><span class="hs-keyword">class</span><span> </span><a name="RecMapMethod"><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier">RecMapMethod</span></a></a><span> </span><a name="local-6989586621679068443"><a href="#local-6989586621679068443"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068444"><a href="#local-6989586621679068444"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068442"><span class="hs-identifier hs-type">u</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068445"><a href="#local-6989586621679068445"><span class="hs-identifier">ts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679068442"><span class="hs-identifier hs-type">u</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-179"></a><span>  </span><a name="rmapMethod"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier">rmapMethod</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068447"><a href="#local-6989586621679068447"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068443"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a><span> </span><a href="#local-6989586621679068444"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068447"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068444"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068447"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679068446"><span class="hs-identifier hs-type">g</span></a><span> </span><a href="#local-6989586621679068447"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-180"></a><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068444"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068445"><span class="hs-identifier hs-type">ts</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068446"><span class="hs-identifier hs-type">g</span></a><span> </span><a href="#local-6989586621679068445"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-181"></a><span>
</span><a name="line-182"></a><span class="hs-comment">-- | Apply a typeclass method to each field of a 'Rec' where the class</span><span>
</span><a name="line-183"></a><span class="hs-comment">-- constrains the field when considered as a value interpreted by the</span><span>
</span><a name="line-184"></a><span class="hs-comment">-- record's interpretation functor.</span><span>
</span><a name="line-185"></a><span class="hs-keyword">class</span><span> </span><a name="RecMapMethod1"><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier">RecMapMethod1</span></a></a><span> </span><a name="local-6989586621679068437"><a href="#local-6989586621679068437"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068438"><a href="#local-6989586621679068438"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068436"><span class="hs-identifier hs-type">u</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679068439"><a href="#local-6989586621679068439"><span class="hs-identifier">ts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679068436"><span class="hs-identifier hs-type">u</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-keyword">where</span><span>
</span><a name="line-186"></a><span>  </span><a name="rmapMethod1"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier">rmapMethod1</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068441"><a href="#local-6989586621679068441"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068437"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068438"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068441"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068438"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068441"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679068440"><span class="hs-identifier hs-type">g</span></a><span> </span><a href="#local-6989586621679068441"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-187"></a><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068438"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068439"><span class="hs-identifier hs-type">ts</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068440"><span class="hs-identifier hs-type">g</span></a><span> </span><a href="#local-6989586621679068439"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-188"></a><span>
</span><a name="line-189"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span> </span><a href="#local-6989586621679068485"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068486"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-190"></a><span>  </span><a name="local-8214565720323843321"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier">rmapMethod</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-191"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rmapMethod</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-192"></a><span>
</span><a name="line-193"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a><span> </span><a href="#local-6989586621679068483"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068484"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-194"></a><span>  </span><a name="local-8214565720323843319"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier">rmapMethod1</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a><span>
</span><a name="line-195"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rmapMethod1</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-196"></a><span>
</span><a name="line-197"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068476"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a><span> </span><a href="#local-6989586621679068477"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068478"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span> </span><a href="#local-6989586621679068476"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068477"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068479"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span>
</span><a name="line-198"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span> </span><a href="#local-6989586621679068476"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068477"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">t</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679068479"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-199"></a><span>  </span><a name="local-8214565720323843321"><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier">rmapMethod</span></a></a><span> </span><a name="local-6989586621679068480"><a href="#local-6989586621679068480"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068481"><a href="#local-6989586621679068481"><span class="hs-identifier">x</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068482"><a href="#local-6989586621679068482"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068480"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679068481"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068476"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068480"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679068482"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-200"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rmapMethod</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-201"></a><span>
</span><a name="line-202"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068469"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068470"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068471"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a><span> </span><a href="#local-6989586621679068469"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068470"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068472"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod1"><span class="hs-identifier hs-type">RecMapMethod1</span></a><span> </span><a href="#local-6989586621679068469"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068470"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">t</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679068472"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-203"></a><span>  </span><a name="local-8214565720323843319"><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier">rmapMethod1</span></a></a><span> </span><a name="local-6989586621679068473"><a href="#local-6989586621679068473"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679068474"><a href="#local-6989586621679068474"><span class="hs-identifier">x</span></a></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a name="local-6989586621679068475"><a href="#local-6989586621679068475"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679068473"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679068474"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a><span> </span><a href="Data.Vinyl.Class.Method.html#rmapMethod1"><span class="hs-identifier hs-var">rmapMethod1</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068469"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068473"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679068475"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-204"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rmapMethod1</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-205"></a><span>
</span><a name="line-206"></a><span class="hs-comment">-- | Apply a typeclass method to each field of a @Rec f ts@ using the</span><span>
</span><a name="line-207"></a><span class="hs-comment">-- 'Functor' instance for @f@ to lift the function into the</span><span>
</span><a name="line-208"></a><span class="hs-comment">-- functor. This is a commonly-used specialization of 'rmapMethod'</span><span>
</span><a name="line-209"></a><span class="hs-comment">-- composed with 'fmap'.</span><span>
</span><a name="line-210"></a><span class="hs-identifier">rmapMethodF</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068505"><a href="#local-6989586621679068505"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679068506"><a href="#local-6989586621679068506"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679068507"><a href="#local-6989586621679068507"><span class="hs-identifier">ts</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679068506"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">FieldPayload</span><span> </span><a href="#local-6989586621679068506"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">~</span><span> </span><span class="hs-special">'</span><a href="Data.Vinyl.Class.Method.html#FieldId"><span class="hs-identifier hs-type">FieldId</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span> </span><a href="#local-6989586621679068505"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068506"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068507"><span class="hs-identifier hs-type">ts</span></a><span class="hs-special">)</span><span>
</span><a name="line-211"></a><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068508"><a href="#local-6989586621679068508"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068505"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068508"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068508"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679068508"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068506"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068507"><span class="hs-identifier hs-type">ts</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068506"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068507"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-212"></a><a name="rmapMethodF"><a href="Data.Vinyl.Class.Method.html#rmapMethodF"><span class="hs-identifier">rmapMethodF</span></a></a><span> </span><a name="local-6989586621679068576"><a href="#local-6989586621679068576"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068505"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fmap</span><span> </span><a href="#local-6989586621679068576"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-213"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rmapMethodF</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-214"></a><span>
</span><a name="line-215"></a><span class="hs-comment">-- | Apply a typeclass method to each field of a 'FieldRec'. This is a</span><span>
</span><a name="line-216"></a><span class="hs-comment">-- specialization of 'rmapMethod'.</span><span>
</span><a name="line-217"></a><span class="hs-identifier">mapFields</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068502"><a href="#local-6989586621679068502"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679068503"><a href="#local-6989586621679068503"><span class="hs-identifier">ts</span></a></a><span class="hs-operator">.</span><span> </span><a href="Data.Vinyl.Class.Method.html#RecMapMethod"><span class="hs-identifier hs-type">RecMapMethod</span></a><span> </span><a href="#local-6989586621679068502"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><a href="#local-6989586621679068503"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-218"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068504"><a href="#local-6989586621679068504"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068502"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068504"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068504"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679068504"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a><span> </span><a href="#local-6989586621679068503"><span class="hs-identifier hs-type">ts</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a><span> </span><a href="#local-6989586621679068503"><span class="hs-identifier hs-type">ts</span></a><span>
</span><a name="line-219"></a><a name="mapFields"><a href="Data.Vinyl.Class.Method.html#mapFields"><span class="hs-identifier">mapFields</span></a></a><span> </span><a name="local-6989586621679068577"><a href="#local-6989586621679068577"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#rmapMethod"><span class="hs-identifier hs-var">rmapMethod</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068502"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068578"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-220"></a><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068502"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Class.Method.html#PayloadType"><span class="hs-identifier hs-type">PayloadType</span></a><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><a href="#local-6989586621679068579"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><a href="#local-6989586621679068579"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><a href="#local-6989586621679068579"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-221"></a><span>        </span><a name="local-6989586621679068578"><a href="#local-6989586621679068578"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a><span> </span><a name="local-6989586621679068580"><a href="#local-6989586621679068580"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679068577"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679068580"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-222"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mapFields</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-223"></a><span>
</span><a name="line-224"></a><span class="hs-comment">-- | Like 'rtraverseIn', but the function between functors may be</span><span>
</span><a name="line-225"></a><span class="hs-comment">-- constrained.</span><span>
</span><a name="line-226"></a><span class="hs-identifier">rtraverseInMethod</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068496"><a href="#local-6989586621679068496"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679068497"><a href="#local-6989586621679068497"><span class="hs-identifier">h</span></a></a><span> </span><a name="local-6989586621679068498"><a href="#local-6989586621679068498"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679068499"><a href="#local-6989586621679068499"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679068500"><a href="#local-6989586621679068500"><span class="hs-identifier">rs</span></a></a><span class="hs-operator">.</span><span>
</span><a name="line-227"></a><span>                     </span><span class="hs-special">(</span><a href="Data.Vinyl.Core.html#RMap"><span class="hs-identifier hs-type">RMap</span></a><span> </span><a href="#local-6989586621679068500"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Core.html#RPureConstrained"><span class="hs-identifier hs-type">RPureConstrained</span></a><span> </span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068500"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Core.html#RApply"><span class="hs-identifier hs-type">RApply</span></a><span> </span><a href="#local-6989586621679068500"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">)</span><span>
</span><a name="line-228"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068501"><a href="#local-6989586621679068501"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068501"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679068498"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068501"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679068499"><span class="hs-identifier hs-type">g</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.TypeLevel.html#ApplyToField"><span class="hs-identifier hs-type">ApplyToField</span></a><span> </span><a href="#local-6989586621679068497"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679068501"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-229"></a><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068498"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068500"><span class="hs-identifier hs-type">rs</span></a><span>
</span><a name="line-230"></a><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="#local-6989586621679068499"><span class="hs-identifier hs-type">g</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.TypeLevel.html#MapTyCon"><span class="hs-identifier hs-type">MapTyCon</span></a><span> </span><a href="#local-6989586621679068497"><span class="hs-identifier hs-type">h</span></a><span> </span><a href="#local-6989586621679068500"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">)</span><span>
</span><a name="line-231"></a><a name="rtraverseInMethod"><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier">rtraverseInMethod</span></a></a><span> </span><a name="local-6989586621679068581"><a href="#local-6989586621679068581"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#rtraverseIn"><span class="hs-identifier hs-var">rtraverseIn</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068497"><span class="hs-identifier hs-type">h</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Core.html#withPairedDict"><span class="hs-identifier hs-var">withPairedDict</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068581"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-232"></a><span>                    </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Vinyl.Core.html#rzipWith"><span class="hs-identifier hs-var">rzipWith</span></a><span> </span><span class="hs-identifier hs-var">Pair</span><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068582"><span class="hs-identifier hs-var">aux</span></a><span class="hs-special">)</span><span>
</span><a name="line-233"></a><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">aux</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068583"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#DictOnly"><span class="hs-identifier hs-type">DictOnly</span></a><span> </span><a href="#local-6989586621679068496"><span class="hs-identifier hs-type">c</span></a><span> </span><a href="#local-6989586621679068583"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-234"></a><span>        </span><a name="local-6989586621679068582"><a href="#local-6989586621679068582"><span class="hs-identifier">aux</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Core.html#DictOnly"><span class="hs-identifier hs-var">DictOnly</span></a><span>
</span><a name="line-235"></a><span>
</span><a name="line-236"></a><span class="hs-comment">-- Note: rtraverseInMethod is written with that `aux` helper in order</span><span>
</span><a name="line-237"></a><span class="hs-comment">-- to work around compatibility with GHC &lt; 8.4. Write it more</span><span>
</span><a name="line-238"></a><span class="hs-comment">-- naturally as `DictOnly @c` does not work with older compilers.</span><span>
</span><a name="line-239"></a><span>
</span><a name="line-240"></a><span class="hs-comment">-- | Push an outer layer of interpretation functor into each named field.</span><span>
</span><a name="line-241"></a><span class="hs-identifier">rsequenceInFields</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679068494"><a href="#local-6989586621679068494"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679068495"><a href="#local-6989586621679068495"><span class="hs-identifier">rs</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Functor</span><span> </span><a href="#local-6989586621679068494"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a><span> </span><a href="#local-6989586621679068495"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">,</span><span> </span><a href="Data.Vinyl.Core.html#RMap"><span class="hs-identifier hs-type">RMap</span></a><span> </span><a href="#local-6989586621679068495"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">)</span><span>
</span><a name="line-242"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-identifier hs-type">f</span></a><span> </span><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679068495"><span class="hs-identifier hs-type">rs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a><span> </span><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.TypeLevel.html#MapTyCon"><span class="hs-identifier hs-type">MapTyCon</span></a><span> </span><a href="#local-6989586621679068494"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679068495"><span class="hs-identifier hs-type">rs</span></a><span class="hs-special">)</span><span>
</span><a name="line-243"></a><a name="rsequenceInFields"><a href="Data.Vinyl.Class.Method.html#rsequenceInFields"><span class="hs-identifier">rsequenceInFields</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Vinyl.Class.Method.html#rtraverseInMethod"><span class="hs-identifier hs-var">rtraverseInMethod</span></a><span> </span><span class="hs-glyph">@</span><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a><span> </span><span class="hs-special">(</span><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-var">traverseField</span></a><span> </span><span class="hs-identifier hs-var">id</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">getCompose</span><span class="hs-special">)</span><span>
</span><a name="line-244"></a><span>
</span><a name="line-245"></a><span>
</span><a name="line-246"></a><span class="hs-comment">{- $example
    This module provides variants of typeclass methods that have
    a 'RecAll' constraint instead of the normal typeclass
    constraint. For example, a type-specialized 'compare' would
    look like this:

&gt; compare :: Ord (Rec f rs) =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering

    The 'recCompare' function looks like this:

&gt; recCompare :: RecAll f rs Ord =&gt; Rec f rs -&gt; Rec f rs -&gt; Ordering

    The only difference is the constraint. Let's look at a potential
    use case for these functions.

    Let's write a function that projects out a subrecord from two records and
    then compares those for equality. We can write this with
    the '&lt;:' operator from @Data.Vinyl.Lens@ and the normal 'compare'
    function. We don't need 'recCompare':

&gt; -- This needs ScopedTypeVariables
&gt; projectAndCompare :: forall super sub f. (super &lt;: sub, Ord (Rec f sub))
&gt;                   =&gt; Proxy sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
&gt; projectAndCompare _ a b = compare (rcast a :: Rec f sub) (rcast b :: Rec f sub)

    That works fine for the majority of use cases, and it is probably how you should
    write the function if it does everything you need. However, let's consider
    a somewhat more complicated case.

    What if the exact subrecord we were projecting couldn't be
    known at compile time? Assume that the end user was allowd to
    choose the fields on which he or she wanted to compare records.
    The @projectAndCompare@ function cannot handle this because of the
    @Ord (Rec f sub)@ constraint. Even if we amend the constraint to
    read @Ord (Rec f super)@ instead, we cannot use this information
    to recover the @Ord (Rec f sub)@ constraint that we need. Let's
    try another approach.

    We can use the following GADT to prove subsethood:

&gt; data Sublist (super :: [k]) (sub :: [k]) where
&gt;   SublistNil   :: Sublist '[]
&gt;   SublistSuper :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) sub
&gt;   SublistBoth  :: Proxy r -&gt; Sublist super sub -&gt; Sublist (r ': super) (r ': sub)
&gt;
&gt; projectRec :: Sublist super sub -&gt; Rec f super -&gt; Rec f sub
&gt; projectRec s r = case s of
&gt;   SublistNil -&gt; RNil
&gt;   SublistBoth n snext -&gt; case r of
&gt;     rhead :&amp; rtail -&gt; rhead :&amp; projectRec snext rtail
&gt;   SublistSuper n snext -&gt; case r of
&gt;     rhead :&amp; rtail -&gt; projectRec snext rtail

    It is also possible to write a typeclass to generate @Sublist@s
    implicitly, but that is beyond the scope of this example. Let's
    now write a function to use @Sublist@ to weaken a 'RecAll'
    constraint:

&gt; import Data.Vinyl.Core hiding (Dict)
&gt; import Data.Constraint
&gt;
&gt; weakenRecAll :: Proxy f -&gt; Proxy c -&gt; Sublist super sub -&gt; RecAll f super c :- RecAll f sub c
&gt; weakenRecAll f c s = case s of
&gt;   SublistNil -&gt; Sub Dict
&gt;   SublistSuper _ snext -&gt; Sub $ case weakenRecAll f c snext of
&gt;     Sub Dict -&gt; Dict
&gt;   SublistBoth _ snext -&gt; Sub $ case weakenRecAll f c snext of
&gt;     Sub Dict -&gt; Dict

    Now we can write a different version of our original function:

&gt; -- This needs ScopedTypeVariables
&gt; projectAndCompare2 :: forall super sub f. (RecAll f super Ord)
&gt;                    =&gt; Sublist super sub -&gt; Rec f super -&gt; Rec f super -&gt; Ordering
&gt; projectAndCompare2 s a b = case weakenRecAll (Proxy :: Proxy f) (Proxy :: Proxy Ord) s of
&gt;   Sub Dict -&gt; recCompare (projectRec s a) (projectRec s b)

    Notice that in this case, the 'Ord' constraint applies to the full set of fields
    and is then weakened to target a subset of them instead.
-}</span><span>
</span><a name="line-326"></a></pre></body></html>