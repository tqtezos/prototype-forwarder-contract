<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.Contracts.Upgradeable.StorageDriven</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-upgradeable-0.2.0.1: Upgradeability infrastructure based on Morley.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.Contracts.Upgradeable.StorageDriven</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Documentation</a></li><li><a href="#g:2">Internals</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Contracts based on storage-driven upgrages.</p><p>Here entrypoints are declared as part of UStore template, then
 we automatically derive public API of the contract from it.</p><p>Migration mechanism for storage (see <code><a href="../lorentz-0.1.0/Lorentz-UStore.html#v:Migration" title="Lorentz.UStore">Migration</a></code>) also applies
 to these entrypoints.</p><p>This approach differs from one in <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html">Lorentz.Contracts.Upgradeable.EntryPointWise</a>
 in the following points:
 1. Storage migrations are not handled here, only <code><a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a></code> creation.
    The former is comprehensively handled by <code><a href="../lorentz-0.1.0/Lorentz-UStore.html#v:Migration" title="Lorentz.UStore">Migration</a></code>.
 2. Contract interface is declared via storage - <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEntryPoint</a></code> entries
    in storage define which public entrypoints (those which are callable via
    passing <code><a href="../lorentz-0.1.0/Lorentz-UParam.html#t:UParam" title="Lorentz.UParam">UParam</a></code>) the contract will have.
 3. Parameter dispatch fallback is made part of <code><a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a></code>,
    not storing it in storage here for simplicity.
    The user can still decide to keep fallback implementation in storage if it
    is big and then refer to it in <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:UStoreEntryPoint">UStoreEntryPoint</a> arg store = <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStoreFieldExt" title="Lorentz.UStore.Types">UStoreFieldExt</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store)</li><li class="src short"><span class="keyword">data</span> <a href="#t:UMarkerEntryPoint">UMarkerEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStoreMarkerType" title="Lorentz.UStore.Types">UStoreMarkerType</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SduEntryPoint">SduEntryPoint</a> (store :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (arg :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li class="src short"><a href="#v:mkSduEntryPoint">mkSduEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceUnpackedValue" title="Lorentz.Constraints.Scopes">NiceUnpackedValue</a> arg =&gt; <a href="../lorentz-0.1.0/Lorentz-Common.html#t:Entrypoint" title="Lorentz.Common">Entrypoint</a> arg (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg</li><li class="src short"><a href="#v:mkUStoreEntryPoint">mkUStoreEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceUnpackedValue" title="Lorentz.Constraints.Scopes">NiceUnpackedValue</a> arg =&gt; <a href="../lorentz-0.1.0/Lorentz-Common.html#t:Entrypoint" title="Lorentz.Common">Entrypoint</a> arg (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEntryPoint</a> store arg</li><li class="src short"><span class="keyword">type</span> <a href="#t:SduFallback">SduFallback</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> ((<a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a>, <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>), <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store)</li><li class="src short"><span class="keyword">type</span> <a href="#t:UStoreEpInterface">UStoreEpInterface</a> utemplate = ExtractInterface utemplate (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:PickMarkedFields" title="Lorentz.UStore.Types">PickMarkedFields</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> utemplate)</li><li class="src short"><a href="#v:mkSduContract">mkSduContract</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver) -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a> ver</li><li class="src short"><a href="#v:callUStoreEntryPoint">callUStoreEntryPoint</a> :: (<a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NicePackedValue" title="Lorentz.Constraints.Scopes">NicePackedValue</a> arg, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> field (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) store) =&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> field -&gt; (arg ': (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="../lorentz-0.1.0/Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ': s)</li><li class="src short"><a href="#v:sduFallbackFail">sduFallbackFail</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a> store</li><li class="src short"><a href="#v:sduDocument">sduDocument</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> '[<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a>] template =&gt; template -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () ()</li><li class="src short"><a href="#v:sduAddEntrypointDoc">sduAddEntrypointDoc</a> :: (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> [<a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a>, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a>, <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a>] template, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:DocItem" title="Lorentz.Doc">DocItem</a> (<a href="../lorentz-0.1.0/Lorentz-EntryPoints-Doc.html#t:DEntryPoint" title="Lorentz.EntryPoints.Doc">DEntryPoint</a> epKind)) =&gt; <a href="../base-4.12.0.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> epKind -&gt; template -&gt; template</li><li class="src short"><a href="#v:sduContractDoc">sduContractDoc</a> :: <span class="keyword">forall</span> utemplate ver. (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:KnownContractVersion" title="Lorentz.Contracts.Upgradeable.Common.Base">KnownContractVersion</a> ver, <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> '[<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a>] utemplate, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="Lorentz-Contracts-Upgradeable-Common-Contract.html#t:PermConstraint" title="Lorentz.Contracts.Upgradeable.Common.Contract">PermConstraint</a> ver, <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ver) =&gt; utemplate -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:PermanentImpl" title="Lorentz.Contracts.Upgradeable.Common.Base">PermanentImpl</a> ver -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:UStoreEpTraversal">UStoreEpTraversal</a> c a = (<a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, GUStoreEpTraversal c (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UStoreEntryPoint" class="def">UStoreEntryPoint</a> arg store = <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStoreFieldExt" title="Lorentz.UStore.Types">UStoreFieldExt</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#UStoreEntryPoint" class="link">Source</a> <a href="#t:UStoreEntryPoint" class="selflink">#</a></p><div class="doc"><p>Public entrypoint of a contract kept in <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p><p>These are mere <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code> fields but treated specially by <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#v:mkSduContract" title="Lorentz.Contracts.Upgradeable.StorageDriven">mkSduContract</a></code>
 function which produces <code><a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a></code> capable of calling these
 entrypoints.</p><p>This type is not intended for keeping internal code, in such case consider
 using <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStoreField" title="Lorentz.UStore.Types">UStoreField</a></code> instead.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UMarkerEntryPoint" class="def">UMarkerEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStoreMarkerType" title="Lorentz.UStore.Types">UStoreMarkerType</a> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#UMarkerEntryPoint" class="link">Source</a> <a href="#t:UMarkerEntryPoint" class="selflink">#</a></p><div class="subs instances"><details id="i:UMarkerEntryPoint" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UMarkerEntryPoint:KnownUStoreMarker:1"></span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:KnownUStoreMarker" title="Lorentz.UStore.Types">KnownUStoreMarker</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a></span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-89" class="link">Source</a> <a href="#t:UMarkerEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UMarkerEntryPoint:KnownUStoreMarker:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:ShowUStoreField" title="Lorentz.UStore.Types">ShowUStoreField</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> v :: <a href="../base-4.12.0.0/GHC-TypeLits.html#t:ErrorMessage" title="GHC.TypeLits">ErrorMessage</a> <a href="#t:ShowUStoreField" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkFieldMarkerUKey">mkFieldMarkerUKey</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:mkFieldMarkerUKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UMarkerEntryPoint:ShowUStoreField:2"></span> <span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:ShowUStoreField" title="Lorentz.UStore.Types">ShowUStoreField</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-97" class="link">Source</a> <a href="#t:UMarkerEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UMarkerEntryPoint:ShowUStoreField:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="src"><span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:ShowUStoreField" title="Lorentz.UStore.Types">ShowUStoreField</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) = ((<a href="../base-4.12.0.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;entrypoint with argument &quot; <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> arg) <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; over storage &quot;) <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> store</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SduEntryPoint" class="def">SduEntryPoint</a> (store :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (arg :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#SduEntryPoint" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></p><div class="doc"><p>An entrypoint which is assumed to be kept in <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.
   It accepts a packed argument.</p></div><div class="subs instances"><details id="i:SduEntryPoint" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-65" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:Generic:2"></span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-65" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) x -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:Wrapped:3"></span> <a href="../lens-4.17.1/Control-Lens-Wrapped.html#t:Wrapped" title="Control.Lens.Wrapped">Wrapped</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-68" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:Wrapped:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../lens-4.17.1/Control-Lens-Wrapped.html#t:Unwrapped" title="Control.Lens.Wrapped">Unwrapped</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Unwrapped" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_Wrapped-39-">_Wrapped'</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Iso-39-" title="Control.Lens.Type">Iso'</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store) (<a href="../lens-4.17.1/Control-Lens-Wrapped.html#t:Unwrapped" title="Control.Lens.Wrapped">Unwrapped</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store)) <a href="#v:_Wrapped-39-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:IsoValue:4"></span> <a href="../lorentz-0.1.0/Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-66" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:IsoValue:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) :: <a href="../morley-1.0.0/Michelson-Typed-T.html#t:T" title="Michelson.Typed.T">T</a> <a href="#t:ToT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toVal">toVal</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> (<a href="../lorentz-0.1.0/Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)) <a href="#v:toVal" class="selflink">#</a></p><p class="src"><a href="#v:fromVal">fromVal</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> (<a href="../lorentz-0.1.0/Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)) -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg <a href="#v:fromVal" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:ShowUStoreField:5"></span> <span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:ShowUStoreField" title="Lorentz.UStore.Types">ShowUStoreField</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-97" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:ShowUStoreField:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="src"><span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:ShowUStoreField" title="Lorentz.UStore.Types">ShowUStoreField</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) = ((<a href="../base-4.12.0.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;entrypoint with argument &quot; <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> arg) <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; over storage &quot;) <a href="../base-4.12.0.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> store</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:Rep:6"></span> <span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-65" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:Rep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="src"><span class="keyword">type</span> <a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:Unwrapped:7"></span> <span class="keyword">type</span> <a href="../lens-4.17.1/Control-Lens-Wrapped.html#t:Unwrapped" title="Control.Lens.Wrapped">Unwrapped</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-68" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:Unwrapped:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="src"><span class="keyword">type</span> <a href="../lens-4.17.1/Control-Lens-Wrapped.html#t:Unwrapped" title="Control.Lens.Wrapped">Unwrapped</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store) = GUnwrapped (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> arg store))</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SduEntryPoint:ToT:8"></span> <span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg)</span> <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#line-66" class="link">Source</a> <a href="#t:SduEntryPoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SduEntryPoint:ToT:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html">Lorentz.Contracts.Upgradeable.StorageDriven</a></p> <div class="src"><span class="keyword">type</span> <a href="../lorentz-0.1.0/Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) = <a href="../morley-1.0.0/Michelson-Typed-Haskell-Value.html#t:GValueType" title="Michelson.Typed.Haskell.Value">GValueType</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkSduEntryPoint" class="def">mkSduEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceUnpackedValue" title="Lorentz.Constraints.Scopes">NiceUnpackedValue</a> arg =&gt; <a href="../lorentz-0.1.0/Lorentz-Common.html#t:Entrypoint" title="Lorentz.Common">Entrypoint</a> arg (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#mkSduEntryPoint" class="link">Source</a> <a href="#v:mkSduEntryPoint" class="selflink">#</a></p><div class="doc"><p>Construct public entrypoint.</p></div></div><div class="top"><p class="src"><a id="v:mkUStoreEntryPoint" class="def">mkUStoreEntryPoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceUnpackedValue" title="Lorentz.Constraints.Scopes">NiceUnpackedValue</a> arg =&gt; <a href="../lorentz-0.1.0/Lorentz-Common.html#t:Entrypoint" title="Lorentz.Common">Entrypoint</a> arg (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEntryPoint</a> store arg <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#mkUStoreEntryPoint" class="link">Source</a> <a href="#v:mkUStoreEntryPoint" class="selflink">#</a></p><div class="doc"><p>Construct public entrypoint for <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SduFallback" class="def">SduFallback</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> ((<a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a>, <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>), <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#SduFallback" class="link">Source</a> <a href="#t:SduFallback" class="selflink">#</a></p><div class="doc"><p>A helper type that defines a function being called in case
   no implementation matches the requested entrypoint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UStoreEpInterface" class="def">UStoreEpInterface</a> utemplate = ExtractInterface utemplate (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:PickMarkedFields" title="Lorentz.UStore.Types">PickMarkedFields</a> <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UMarkerEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UMarkerEntryPoint</a> utemplate) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#UStoreEpInterface" class="link">Source</a> <a href="#t:UStoreEpInterface" class="selflink">#</a></p><div class="doc"><p>Get the set of entrypoints (i.e. <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEntryPoint</a></code> entries) stored in UStore
 with given template.</p></div></div><div class="top"><p class="src"><a id="v:mkSduContract" class="def">mkSduContract</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver) -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a> ver <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#mkSduContract" class="link">Source</a> <a href="#v:mkSduContract" class="selflink">#</a></p><div class="doc"><p>Construct <code><a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a></code> which allows calling all entrypoints stored
 as <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEntryPoint</a></code> entries of <code><a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:callUStoreEntryPoint" class="def">callUStoreEntryPoint</a> :: (<a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NicePackedValue" title="Lorentz.Constraints.Scopes">NicePackedValue</a> arg, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> field (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a> store arg) store) =&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> field -&gt; (arg ': (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)) <a href="../lorentz-0.1.0/Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ': s) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#callUStoreEntryPoint" class="link">Source</a> <a href="#v:callUStoreEntryPoint" class="selflink">#</a></p><div class="doc"><p>Call an entrypoint stored under the given field.</p></div></div><div class="top"><p class="src"><a id="v:sduFallbackFail" class="def">sduFallbackFail</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a> store <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#sduFallbackFail" class="link">Source</a> <a href="#v:sduFallbackFail" class="selflink">#</a></p><div class="doc"><p>Default implementation for <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduFallback" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduFallback</a></code> reports an error just like its
   UParam counterpart.</p></div></div><a href="#g:1" id="g:1"><h1>Documentation</h1></a><div class="top"><p class="src"><a id="v:sduDocument" class="def">sduDocument</a> :: <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> '[<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a>] template =&gt; template -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#sduDocument" class="link">Source</a> <a href="#v:sduDocument" class="selflink">#</a></p><div class="doc"><p>Gather documentation of entrypoints kept in given storage.
 Unfortunatelly, this seems to be the only place where we can pick the code
 for documenting it.</p><p>Note: in most cases you want to use this function is couple with
 <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#v:sduAddEntrypointDoc" title="Lorentz.Contracts.Upgradeable.StorageDriven">sduAddEntrypointDoc</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:sduAddEntrypointDoc" class="def">sduAddEntrypointDoc</a> :: (<a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> [<a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a>, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a>, <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a>] template, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:DocItem" title="Lorentz.Doc">DocItem</a> (<a href="../lorentz-0.1.0/Lorentz-EntryPoints-Doc.html#t:DEntryPoint" title="Lorentz.EntryPoints.Doc">DEntryPoint</a> epKind)) =&gt; <a href="../base-4.12.0.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> epKind -&gt; template -&gt; template <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#sduAddEntrypointDoc" class="link">Source</a> <a href="#v:sduAddEntrypointDoc" class="selflink">#</a></p><div class="doc"><p>Mark all public code kept in given storage as atomic entrypoints.</p><p>Sometimes you want your <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a></code>s to contain multiple sub-entrypoints
 inside, in this case using <code><a href="../lorentz-0.1.0/Lorentz-EntryPoints-Doc.html#v:entryCase" title="Lorentz.EntryPoints.Doc">entryCase</a></code> function you get documentation for each
 of sub-entrypoints automatically and calling this function is not necessary.
 In case when this <strong>does not</strong> hold and <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:SduEntryPoint" title="Lorentz.Contracts.Upgradeable.StorageDriven">SduEntryPoint</a></code> keeps exactly one
 entrypoint, you still need to mark it as such in order for <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#v:sduDocument" title="Lorentz.Contracts.Upgradeable.StorageDriven">sduDocument</a></code>
 to handle it properly. This function does exactly that - it finds all
 UStore entrypoints and marks them for documentation.</p></div></div><div class="top"><p class="src"><a id="v:sduContractDoc" class="def">sduContractDoc</a> :: <span class="keyword">forall</span> utemplate ver. (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:KnownContractVersion" title="Lorentz.Contracts.Upgradeable.Common.Base">KnownContractVersion</a> ver, <a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#t:UStoreEpTraversal" title="Lorentz.Contracts.Upgradeable.StorageDriven">UStoreEpTraversal</a> '[<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a>] utemplate, <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="Lorentz-Contracts-Upgradeable-Common-Contract.html#t:PermConstraint" title="Lorentz.Contracts.Upgradeable.Common.Contract">PermConstraint</a> ver, <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ver) =&gt; utemplate -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:PermanentImpl" title="Lorentz.Contracts.Upgradeable.Common.Base">PermanentImpl</a> ver -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#sduContractDoc" class="link">Source</a> <a href="#v:sduContractDoc" class="selflink">#</a></p><div class="doc"><p>By given storage make up a fake contract which contains
 documentation of all entrypoints declared by this storage.</p><p>Note: in most cases you want to use this function in couple with
 <code><a href="Lorentz-Contracts-Upgradeable-StorageDriven.html#v:sduAddEntrypointDoc" title="Lorentz.Contracts.Upgradeable.StorageDriven">sduAddEntrypointDoc</a></code>.</p><p>Note: we intentionally allow accepted <code>UStore</code> template not to correspond
 to the contract version storage, this is useful when one does not want to
 provide the full storage (construction of which may require passing some
 parameters), rather only part of storage with entrypoints.</p></div></div><a href="#g:2" id="g:2"><h1>Internals</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UStoreEpTraversal" class="def">UStoreEpTraversal</a> c a = (<a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, GUStoreEpTraversal c (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a)) <a href="src/Lorentz.Contracts.Upgradeable.StorageDriven.html#UStoreEpTraversal" class="link">Source</a> <a href="#t:UStoreEpTraversal" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>