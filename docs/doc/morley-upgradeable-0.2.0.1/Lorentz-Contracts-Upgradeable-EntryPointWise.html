<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.Contracts.Upgradeable.EntryPointWise</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-upgradeable-0.2.0.1: Upgradeability infrastructure based on Morley.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.Contracts.Upgradeable.EntryPointWise</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:EntryPointImpl">EntryPointImpl</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> (<a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store)</li><li class="src short"><span class="keyword">type</span> <a href="#t:EpwFallback">EpwFallback</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> ((<a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a>, <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>), <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store)</li><li class="src short"><span class="keyword">data</span> <a href="#t:EpwContract">EpwContract</a> ver = <a href="#v:EpwContract">EpwContract</a> {<ul class="subs"><li><a href="#v:epwServe">epwServe</a> :: <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a> ver</li><li><a href="#v:epwCodeMigrations">epwCodeMigrations</a> :: <span class="keyword">forall</span> oldStore. [<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:MigrationScript" title="Lorentz.Contracts.Upgradeable.Common.Base">MigrationScript</a> oldStore (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver)]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:EpwCaseClause">EpwCaseClause</a> store (entry :: <a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:EpwCaseClause">EpwCaseClause</a> :: TypedEntryPointImpl arg store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store '(name, arg)</li></ul></li><li class="src short"><a href="#v:mkEpwContract">mkEpwContract</a> :: <span class="keyword">forall</span> (ver :: <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VersionKind" title="Lorentz.Contracts.Upgradeable.Common.Base">VersionKind</a>) (interface :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) store. (interface ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver, store ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver, CodeMigrations interface, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUStore" title="Lorentz.UStore.Instr">HasUStore</a> &quot;code&quot; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EntryPointImpl" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EntryPointImpl</a> store) store, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> &quot;fallback&quot; (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store) store) =&gt; <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) interface -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwContract" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwContract</a> ver</li><li class="src short"><a href="#v:mkEpwContractT">mkEpwContractT</a> :: <span class="keyword">forall</span> clauses ver (interface :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) store. (interface ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver, store ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver, clauses ~ <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) interface, <a href="../morley-1.0.0/Util-TypeTuple-Class.html#t:RecFromTuple" title="Util.TypeTuple.Class">RecFromTuple</a> clauses, CodeMigrations interface, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUStore" title="Lorentz.UStore.Instr">HasUStore</a> &quot;code&quot; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EntryPointImpl" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EntryPointImpl</a> store) store, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> &quot;fallback&quot; (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store) store) =&gt; <a href="../morley-1.0.0/Util-TypeTuple-Class.html#t:IsoRecTuple" title="Util.TypeTuple.Class">IsoRecTuple</a> clauses -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwContract" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwContract</a> ver</li><li class="src short"><a href="#v:epwFallbackFail">epwFallbackFail</a> :: <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store</li><li class="src short"><a href="#v:-47--61--61--62-">(/==&gt;)</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> (arg, <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store '(name, arg)</li><li class="src short"><a href="#v:removeEndpoint">removeEndpoint</a> :: <span class="keyword">forall</span> store name s. <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store &quot;code&quot; ~ <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> =&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="../lorentz-0.1.0/Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s)</li><li class="src short"><span class="keyword">class</span> <a href="#t:EpwDocumented">EpwDocumented</a> (entries :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:epwDocument">epwDocument</a> :: <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) entries -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () ()</li></ul></li><li class="src short"><a href="#v:epwContractDoc">epwContractDoc</a> :: <span class="keyword">forall</span> ver. (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:KnownContractVersion" title="Lorentz.Contracts.Upgradeable.Common.Base">KnownContractVersion</a> ver, <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwDocumented" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwDocumented</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver), <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="Lorentz-Contracts-Upgradeable-Common-Contract.html#t:PermConstraint" title="Lorentz.Contracts.Upgradeable.Common.Contract">PermConstraint</a> ver, <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ver) =&gt; <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver)) (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver) -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:PermanentImpl" title="Lorentz.Contracts.Upgradeable.Common.Base">PermanentImpl</a> ver -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EntryPointImpl" class="def">EntryPointImpl</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> (<a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#EntryPointImpl" class="link">Source</a> <a href="#t:EntryPointImpl" class="selflink">#</a></p><div class="doc"><p>A helper type that defines an entrypoint that receives
   a packed argument, i.e. it's basically an unpack instruction
   followed by a TypedEntryPoint code</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EpwFallback" class="def">EpwFallback</a> store = <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> ((<a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a>, <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>), <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#EpwFallback" class="link">Source</a> <a href="#t:EpwFallback" class="selflink">#</a></p><div class="doc"><p>A helper type that defines a function being called in case
   no implementation matches the requested entrypoint</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EpwContract" class="def">EpwContract</a> ver <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#EpwContract" class="link">Source</a> <a href="#t:EpwContract" class="selflink">#</a></p><div class="doc"><p>This data type represents the new contract code and migrations necessary
   to upgrade the contract endpoints to the new version.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EpwContract" class="def">EpwContract</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:epwServe" class="def">epwServe</a> :: <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:UContractRouter" title="Lorentz.Contracts.Upgradeable.Common.Base">UContractRouter</a> ver</dfn><div class="doc"><p><code><a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#v:epwServe" title="Lorentz.Contracts.Upgradeable.EntryPointWise">epwServe</a></code> does  the dispatching logic and is assumed to be used for
   the <code>code</code> lambda of the upgradeable contract.</p></div></li><li><dfn class="src"><a id="v:epwCodeMigrations" class="def">epwCodeMigrations</a> :: <span class="keyword">forall</span> oldStore. [<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:MigrationScript" title="Lorentz.Contracts.Upgradeable.Common.Base">MigrationScript</a> oldStore (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver)]</dfn><div class="doc"><p><code><a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#v:epwCodeMigrations" title="Lorentz.Contracts.Upgradeable.EntryPointWise">epwCodeMigrations</a></code> is a list of packed migrations the client ought to
   pass to the <code>EpwUpgrade</code> method in order to upgrade the implementation.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EpwCaseClause" class="def">EpwCaseClause</a> store (entry :: <a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>) <span class="keyword">where</span> <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#EpwCaseClause" class="link">Source</a> <a href="#t:EpwCaseClause" class="selflink">#</a></p><div class="doc"><p>A data type representing a full case clause with the name
   and implementation of an entrypoint.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EpwCaseClause" class="def">EpwCaseClause</a> :: TypedEntryPointImpl arg store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store '(name, arg)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:mkEpwContract" class="def">mkEpwContract</a> :: <span class="keyword">forall</span> (ver :: <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VersionKind" title="Lorentz.Contracts.Upgradeable.Common.Base">VersionKind</a>) (interface :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) store. (interface ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver, store ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver, CodeMigrations interface, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUStore" title="Lorentz.UStore.Instr">HasUStore</a> &quot;code&quot; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EntryPointImpl" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EntryPointImpl</a> store) store, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> &quot;fallback&quot; (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store) store) =&gt; <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) interface -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwContract" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwContract</a> ver <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#mkEpwContract" class="link">Source</a> <a href="#v:mkEpwContract" class="selflink">#</a></p><div class="doc"><p>Creates the EpwContract data structure from a Rec of case clauses</p></div></div><div class="top"><p class="src"><a id="v:mkEpwContractT" class="def">mkEpwContractT</a> :: <span class="keyword">forall</span> clauses ver (interface :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) store. (interface ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver, store ~ <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver, clauses ~ <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) interface, <a href="../morley-1.0.0/Util-TypeTuple-Class.html#t:RecFromTuple" title="Util.TypeTuple.Class">RecFromTuple</a> clauses, CodeMigrations interface, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUStore" title="Lorentz.UStore.Instr">HasUStore</a> &quot;code&quot; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EntryPointImpl" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EntryPointImpl</a> store) store, <a href="../lorentz-0.1.0/Lorentz-UStore-Instr.html#t:HasUField" title="Lorentz.UStore.Instr">HasUField</a> &quot;fallback&quot; (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store) store) =&gt; <a href="../morley-1.0.0/Util-TypeTuple-Class.html#t:IsoRecTuple" title="Util.TypeTuple.Class">IsoRecTuple</a> clauses -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwContract" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwContract</a> ver <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#mkEpwContractT" class="link">Source</a> <a href="#v:mkEpwContractT" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#v:mkEpwContract" title="Lorentz.Contracts.Upgradeable.EntryPointWise">mkEpwContract</a></code>, but accepts a tuple of clauses, not a <code><a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:epwFallbackFail" class="def">epwFallbackFail</a> :: <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a> store <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#epwFallbackFail" class="link">Source</a> <a href="#v:epwFallbackFail" class="selflink">#</a></p><div class="doc"><p>Default implementation for <code><a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwFallback" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwFallback</a></code> reports an error just like its
   UParam counterpart</p></div></div><div class="top"><p class="src"><a id="v:-47--61--61--62-" class="def">(/==&gt;)</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> (arg, <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) ([<a href="../lorentz-0.1.0/Lorentz-Value.html#t:Operation" title="Lorentz.Value">Operation</a>], <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store) -&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store '(name, arg) <span class="fixity">infixr 0</span><span class="rightedge"></span> <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#%2F%3D%3D%3E" class="link">Source</a> <a href="#v:-47--61--61--62-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:removeEndpoint" class="def">removeEndpoint</a> :: <span class="keyword">forall</span> store name s. <a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:GetUStoreKey" title="Lorentz.UStore.Types">GetUStoreKey</a> store &quot;code&quot; ~ <a href="../lorentz-0.1.0/Lorentz-Value.html#t:MText" title="Lorentz.Value">MText</a> =&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> name -&gt; (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="../lorentz-0.1.0/Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="../lorentz-0.1.0/Lorentz-UStore-Types.html#t:UStore" title="Lorentz.UStore.Types">UStore</a> store ': s) <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#removeEndpoint" class="link">Source</a> <a href="#v:removeEndpoint" class="selflink">#</a></p><div class="doc"><p>Removes an endpoint from the #code submap</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:EpwDocumented" class="def">EpwDocumented</a> (entries :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>]) <span class="keyword">where</span> <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#EpwDocumented" class="link">Source</a> <a href="#t:EpwDocumented" class="selflink">#</a></p><div class="doc"><p>Helper for documenting entrypoints with EPW interface.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:epwDocument" class="def">epwDocument</a> :: <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) entries -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#epwDocument" class="link">Source</a> <a href="#v:epwDocument" class="selflink">#</a></p><div class="doc"><p>Make up documentation for given entry points.</p><p>As result you get a fake contract from which you can later build desired
 documentation. Although, you may want to add contract name and
 description first.</p></div></div><div class="subs instances"><details id="i:EpwDocumented" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:EpwDocumented:EpwDocumented:1"></span> <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwDocumented" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwDocumented</a> ([] :: [<a href="../lorentz-0.1.0/Lorentz-UParam.html#t:EntryPointKind" title="Lorentz.UParam">EntryPointKind</a>])</span> <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#line-190" class="link">Source</a> <a href="#t:EpwDocumented" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:EpwDocumented:EpwDocumented:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html">Lorentz.Contracts.Upgradeable.EntryPointWise</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:epwDocument">epwDocument</a> :: <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) [] -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#epwDocument" class="link">Source</a> <a href="#v:epwDocument" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:EpwDocumented:EpwDocumented:2"></span> (<a href="../base-4.12.0.0/GHC-TypeLits.html#t:KnownSymbol" title="GHC.TypeLits">KnownSymbol</a> name, <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwDocumented" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwDocumented</a> es) =&gt; <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwDocumented" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwDocumented</a> (<a href="../ghc-prim-0.5.3/GHC-Tuple.html#v:-40--44--41-" title="GHC.Tuple">(,)</a> name a ': es)</span> <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#line-193" class="link">Source</a> <a href="#t:EpwDocumented" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:EpwDocumented:EpwDocumented:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html">Lorentz.Contracts.Upgradeable.EntryPointWise</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:epwDocument">epwDocument</a> :: <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> store) ((name, a) ': es) -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#epwDocument" class="link">Source</a> <a href="#v:epwDocument" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:epwContractDoc" class="def">epwContractDoc</a> :: <span class="keyword">forall</span> ver. (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:KnownContractVersion" title="Lorentz.Contracts.Upgradeable.Common.Base">KnownContractVersion</a> ver, <a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwDocumented" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwDocumented</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver), <a href="../lorentz-0.1.0/Lorentz-Doc.html#t:TypeHasDoc" title="Lorentz.Doc">TypeHasDoc</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-TypeAnns.html#t:HasTypeAnn" title="Lorentz.TypeAnns">HasTypeAnn</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:KnownValue" title="Lorentz.Constraints.Scopes">KnownValue</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerPermanent" title="Lorentz.Contracts.Upgradeable.Common.Base">VerPermanent</a> ver), <a href="Lorentz-Contracts-Upgradeable-Common-Contract.html#t:PermConstraint" title="Lorentz.Contracts.Upgradeable.Common.Contract">PermConstraint</a> ver, <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ver) =&gt; <a href="../lorentz-0.1.0/Lorentz-ADT.html#t:Rec" title="Lorentz.ADT">Rec</a> (<a href="Lorentz-Contracts-Upgradeable-EntryPointWise.html#t:EpwCaseClause" title="Lorentz.Contracts.Upgradeable.EntryPointWise">EpwCaseClause</a> (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerUStoreTemplate" title="Lorentz.Contracts.Upgradeable.Common.Base">VerUStoreTemplate</a> ver)) (<a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:VerInterface" title="Lorentz.Contracts.Upgradeable.Common.Base">VerInterface</a> ver) -&gt; <a href="Lorentz-Contracts-Upgradeable-Common-Base.html#t:PermanentImpl" title="Lorentz.Contracts.Upgradeable.Common.Base">PermanentImpl</a> ver -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:Lambda" title="Lorentz.Base">Lambda</a> () () <a href="src/Lorentz.Contracts.Upgradeable.EntryPointWise.html#epwContractDoc" class="link">Source</a> <a href="#v:epwContractDoc" class="selflink">#</a></p><div class="doc"><p>By given list of entrypoints make up a fake contract which contains
 documentation for the body of given upgradeable contract.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>