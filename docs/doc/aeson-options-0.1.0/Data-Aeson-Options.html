<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Aeson.Options</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data.Aeson.Options.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">aeson-options-0.1.0: Options to derive FromJSON/ToJSON instances</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Aeson.Options</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Custom options</a></li><li><a href="#g:2">Generic functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Options used to derive FromJSON/ToJSON instance. These options generally
comply to our style regarding names. Of course sometimes they don't fit one's
needs, so treat them as just sensible defaults.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a></li><li class="src short"><a href="#v:leaveTagOptions">leaveTagOptions</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a></li><li class="src short"><a href="#v:defaultOptionsPS">defaultOptionsPS</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a></li><li class="src short"><a href="#v:stripTypeOptions">stripTypeOptions</a> :: <span class="keyword">forall</span> a. <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a></li><li class="src short"><a href="#v:genericParseJSONStripType">genericParseJSONStripType</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:GFromJSON" title="Data.Aeson.Types">GFromJSON</a> <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Zero" title="Data.Aeson.Types">Zero</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a)) =&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> a</li><li class="src short"><a href="#v:genericToJSONStripType">genericToJSONStripType</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:GToJSON" title="Data.Aeson.Types">GToJSON</a> <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Zero" title="Data.Aeson.Types">Zero</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a)) =&gt; a -&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Custom options</h1></a><div class="top"><p class="src"><a id="v:defaultOptions" class="def">defaultOptions</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a> <a href="src/Data.Aeson.Options.html#defaultOptions" class="link">Source</a> <a href="#v:defaultOptions" class="selflink">#</a></p><div class="doc"><p>These options do the following transformations:
 1. Names of field
 records are assumed to be camelCased, <code>camel</code> part is removed,
 <code>Cased</code> part is converted to <code>cased</code>. So <code>camelCased</code> becomes
 <code>cased</code>. Also all punctuation symbols are dropped before doing it.
 2. Constructors are assumed to start with some capitalized prefix
 (which finished right before the last capital letter). This prefix
 is dropped and then the first letter is lowercased.</p></div></div><div class="top"><p class="src"><a id="v:leaveTagOptions" class="def">leaveTagOptions</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a> <a href="src/Data.Aeson.Options.html#leaveTagOptions" class="link">Source</a> <a href="#v:leaveTagOptions" class="selflink">#</a></p><div class="doc"><p>These options are the same as <code><a href="Data-Aeson-Options.html#v:defaultOptions" title="Data.Aeson.Options">defaultOptions</a></code>, but they don't
 modify constructor tags.</p></div></div><div class="top"><p class="src"><a id="v:defaultOptionsPS" class="def">defaultOptionsPS</a> :: <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a> <a href="src/Data.Aeson.Options.html#defaultOptionsPS" class="link">Source</a> <a href="#v:defaultOptionsPS" class="selflink">#</a></p><div class="doc"><p>Options used for communication with PureScript by default.</p></div></div><div class="top"><p class="src"><a id="v:stripTypeOptions" class="def">stripTypeOptions</a> :: <span class="keyword">forall</span> a. <a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Options" title="Data.Aeson.Types">Options</a> <a href="src/Data.Aeson.Options.html#stripTypeOptions" class="link">Source</a> <a href="#v:stripTypeOptions" class="selflink">#</a></p><div class="doc"><p>Options to strip type name from the field names. See
<code><a href="Data-Aeson-Options.html#v:genericParseJSONStripType" title="Data.Aeson.Options">genericParseJSONStripType</a></code> and <code><a href="Data-Aeson-Options.html#v:genericToJSONStripType" title="Data.Aeson.Options">genericToJSONStripType</a></code> for examples.</p></div></div><a href="#g:2" id="g:2"><h1>Generic functions</h1></a><div class="top"><p class="src"><a id="v:genericParseJSONStripType" class="def">genericParseJSONStripType</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:GFromJSON" title="Data.Aeson.Types">GFromJSON</a> <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Zero" title="Data.Aeson.Types">Zero</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a)) =&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> a <a href="src/Data.Aeson.Options.html#genericParseJSONStripType" class="link">Source</a> <a href="#v:genericParseJSONStripType" class="selflink">#</a></p><div class="doc"><p>Allows to create <code><a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a></code> instance that strips the data type name prefix
from every field. Doesn't change name of the fields that doesn't start with the
type name.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>data Foo = Foo { fooBar :: String, fooQuux :: Int } deriving (Generic, Show)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>instance FromJSON Foo where parseJSON = genericParseJSONStripType
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decode @Foo &quot;{ \&quot;bar\&quot;: \&quot;test\&quot;, \&quot;quux\&quot;: 42 }&quot;
</code></strong>Just (Foo {fooBar = &quot;test&quot;, fooQuux = 42})
</pre></div></div><div class="top"><p class="src"><a id="v:genericToJSONStripType" class="def">genericToJSONStripType</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:GToJSON" title="Data.Aeson.Types">GToJSON</a> <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Zero" title="Data.Aeson.Types">Zero</a> (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> a)) =&gt; a -&gt; <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> <a href="src/Data.Aeson.Options.html#genericToJSONStripType" class="link">Source</a> <a href="#v:genericToJSONStripType" class="selflink">#</a></p><div class="doc"><p>Allows to create <code><a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a></code> instance that strips the data type name prefix
from every field. Doesn't change name of the fields that doesn't start with the
type name.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>data Foo = Foo { fooBar :: String, fooQuux :: Int } deriving (Generic, Show)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>instance ToJSON Foo where toJSON = genericToJSONStripType
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encode $ Foo { fooBar = &quot;test&quot;, fooQuux = 42 }
</code></strong>&quot;{\&quot;quux\&quot;:42,\&quot;bar\&quot;:\&quot;test\&quot;}&quot;
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>