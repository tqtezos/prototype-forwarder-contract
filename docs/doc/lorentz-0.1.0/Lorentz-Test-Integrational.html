<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.Test.Integrational</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.Test.Integrational.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lorentz-0.1.0: EDSL for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.Test.Integrational</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Re-exports</a></li><li><a href="#g:2">More genesis addresses which can be used in tests</a></li><li><a href="#g:3">Testing engine for bare Typed primitives</a></li><li><a href="#g:4">Testing engine</a></li><li><a href="#g:5">Validators</a></li><li><a href="#g:6">Errors</a><ul><li><a href="#g:7">Consumer</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Mirrors <code><a href="../morley-1.0.0/Michelson-Test.html#v:Integrational" title="Michelson.Test">Integrational</a></code> module in a Lorentz way.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:TxData">TxData</a> = <a href="#v:TxData">TxData</a> {<ul class="subs"><li><a href="#v:tdSenderAddress">tdSenderAddress</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li><a href="#v:tdParameter">tdParameter</a> :: <a href="../morley-1.0.0/Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a></li><li><a href="#v:tdEntrypoint">tdEntrypoint</a> :: <a href="Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></li><li><a href="#v:tdAmount">tdAmount</a> :: <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a></li></ul>}</li><li class="src short"><a href="#v:genesisAddresses">genesisAddresses</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress">genesisAddress</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress1">genesisAddress1</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress2">genesisAddress2</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress3">genesisAddress3</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress4">genesisAddress4</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress5">genesisAddress5</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:genesisAddress6">genesisAddress6</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:tOriginate">tOriginate</a> :: (<a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:ParameterScope" title="Michelson.Typed.Scope">ParameterScope</a> cp, <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:StorageScope" title="Michelson.Typed.Scope">StorageScope</a> st) =&gt; <a href="../morley-1.0.0/Michelson-Typed-Instr.html#t:FullContract" title="Michelson.Typed.Instr">FullContract</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> st -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:tTransfer">tTransfer</a> :: <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:ParameterScope" title="Michelson.Typed.Scope">ParameterScope</a> arg =&gt; (&quot;from&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; (&quot;to&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> arg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:tExpectStorageConst">tExpectStorageConst</a> :: <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:StorageScope" title="Michelson.Typed.Scope">StorageScope</a> st =&gt; <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> st -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:IntegrationalValidator">IntegrationalValidator</a> = <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> (<a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:SuccessValidator">SuccessValidator</a> = InternalState -&gt; <a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GState" title="Michelson.Runtime.GState">GState</a> -&gt; [<a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>] -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:IntegrationalScenarioM">IntegrationalScenarioM</a> = <a href="../morley-prelude-0.3.0/Prelude.html#t:StateT" title="Prelude">StateT</a> InternalState (<a href="../mtl-2.2.2/Control-Monad-Except.html#t:Except" title="Control.Monad.Except">Except</a> ScenarioError)</li><li class="src short"><span class="keyword">type</span> <a href="#t:IntegrationalScenario">IntegrationalScenario</a> = <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> Validated</li><li class="src short"><span class="keyword">data</span> <a href="#t:ValidationError">ValidationError</a><ul class="subs"><li>= <a href="#v:UnexpectedExecutorError">UnexpectedExecutorError</a> IntegrationalExecutorError</li><li>| <a href="#v:UnexpectedTypeCheckError">UnexpectedTypeCheckError</a> <a href="../morley-1.0.0/Michelson-TypeCheck-Error.html#t:TCError" title="Michelson.TypeCheck.Error">TCError</a></li><li>| <a href="#v:ExpectingInterpreterToFail">ExpectingInterpreterToFail</a></li><li>| <a href="#v:IncorrectUpdates">IncorrectUpdates</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> [<a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>]</li><li>| <a href="#v:IncorrectStorageUpdate">IncorrectStorageUpdate</a> AddressName <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li>| <a href="#v:InvalidStorage">InvalidStorage</a> AddressName ExpectedStorage <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li>| <a href="#v:StoragePredicateMismatch">StoragePredicateMismatch</a> AddressName <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li>| <a href="#v:InvalidBalance">InvalidBalance</a> AddressName ExpectedBalance <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li>| <a href="#v:UnexpectedUpdates">UnexpectedUpdates</a> (<a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>)</li><li>| <a href="#v:CustomValidationError">CustomValidationError</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li></ul></li><li class="src short"><a href="#v:integrationalTestExpectation">integrationalTestExpectation</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="../hspec-expectations-0.8.2/Test-Hspec-Expectations.html#t:Expectation" title="Test.Hspec.Expectations">Expectation</a></li><li class="src short"><a href="#v:integrationalTestProperty">integrationalTestProperty</a> :: <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="../QuickCheck-2.13.2/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></li><li class="src short"><a href="#v:lOriginate">lOriginate</a> :: <span class="keyword">forall</span> cp st. (<a href="Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> (<a href="Lorentz-Address.html#t:TAddress" title="Lorentz.Address">TAddress</a> cp)</li><li class="src short"><a href="#v:lOriginateEmpty">lOriginateEmpty</a> :: (<a href="Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Value.html#t:Default" title="Lorentz.Value">Default</a> st) =&gt; <a href="Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> (<a href="Lorentz-Address.html#t:TAddress" title="Lorentz.Address">TAddress</a> cp)</li><li class="src short"><a href="#v:lTransfer">lTransfer</a> :: <span class="keyword">forall</span> cp epRef epArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasEntryPointArg" title="Lorentz.EntryPoints.Core">HasEntryPointArg</a> cp epRef epArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> epArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; (&quot;from&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; (&quot;to&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> addr) -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; epRef -&gt; epArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:lCall">lCall</a> :: <span class="keyword">forall</span> cp defEpName addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasDefEntryPointArg" title="Lorentz.EntryPoints.Core">HasDefEntryPointArg</a> cp defEpName cp, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> cp, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; cp -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:lCallEP">lCallEP</a> :: <span class="keyword">forall</span> cp epRef epArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasEntryPointArg" title="Lorentz.EntryPoints.Core">HasEntryPointArg</a> cp epRef epArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> epArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; epRef -&gt; epArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:EntryPointRef">EntryPointRef</a> (mname :: <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:CallDefault">CallDefault</a> :: <a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> <a href="Lorentz-Prelude.html#v:Nothing" title="Lorentz.Prelude">Nothing</a></li><li><a href="#v:Call">Call</a> :: <a href="Lorentz-EntryPoints-Core.html#t:NiceEntryPointName" title="Lorentz.EntryPoints.Core">NiceEntryPointName</a> name =&gt; <a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> (<a href="Lorentz-Prelude.html#v:Just" title="Lorentz.Prelude">Just</a> name)</li></ul></li><li class="src short"><a href="#v:lCallDef">lCallDef</a> :: <span class="keyword">forall</span> cp defEpName defArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasDefEntryPointArg" title="Lorentz.EntryPoints.Core">HasDefEntryPointArg</a> cp defEpName defArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> defArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; defArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:validate">validate</a> :: <a href="Lorentz-Test-Integrational.html#t:IntegrationalValidator" title="Lorentz.Test.Integrational">IntegrationalValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a></li><li class="src short"><a href="#v:integrationalFail">integrationalFail</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> anything</li><li class="src short"><a href="#v:setMaxSteps">setMaxSteps</a> :: <a href="../morley-1.0.0/Michelson-Interpret.html#t:RemainingSteps" title="Michelson.Interpret">RemainingSteps</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:setNow">setNow</a> :: <a href="Lorentz-Value.html#t:Timestamp" title="Lorentz.Value">Timestamp</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:rewindTime">rewindTime</a> :: <a href="Lorentz-Value.html#t:Integer" title="Lorentz.Value">Integer</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:withSender">withSender</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> a -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> a</li><li class="src short"><a href="#v:setChainId">setChainId</a> :: <a href="Lorentz-Value.html#t:ChainId" title="Lorentz.Value">ChainId</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:branchout">branchout</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> -&gt; [(<a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a>, <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a>)] -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a></li><li class="src short"><a href="#v:-63--45-">(?-)</a> :: <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; a -&gt; (<a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a>, a)</li><li class="src short"><a href="#v:offshoot">offshoot</a> :: <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> ()</li><li class="src short"><a href="#v:composeValidators">composeValidators</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:composeValidatorsList">composeValidatorsList</a> :: [<a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a>] -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:expectAnySuccess">expectAnySuccess</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:expectNoUpdates">expectNoUpdates</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:expectNoStorageUpdates">expectNoStorageUpdates</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectStorageUpdate">lExpectStorageUpdate</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr, <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectBalance">lExpectBalance</a> :: <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr =&gt; addr -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectStorage">lExpectStorage</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr, <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectStorageConst">lExpectStorageConst</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr) =&gt; addr -&gt; st -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectMichelsonFailed">lExpectMichelsonFailed</a> :: <span class="keyword">forall</span> addr. <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr =&gt; (<a href="../morley-1.0.0/Michelson-Interpret.html#t:MichelsonFailed" title="Michelson.Interpret">MichelsonFailed</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; addr -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectFailWith">lExpectFailWith</a> :: <span class="keyword">forall</span> e. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> e), <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> e) =&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectError">lExpectError</a> :: <span class="keyword">forall</span> e. <a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> e =&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectErrorNumeric">lExpectErrorNumeric</a> :: <span class="keyword">forall</span> e. <a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> e =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectCustomError">lExpectCustomError</a> :: <span class="keyword">forall</span> tag arg. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), arg ~ <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag, <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> arg) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; arg -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectCustomErrorNumeric">lExpectCustomErrorNumeric</a> :: <span class="keyword">forall</span> tag arg. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), arg ~ <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag, <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> arg) =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; arg -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectCustomError_">lExpectCustomError_</a> :: <span class="keyword">forall</span> tag. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag ~ ()) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectCustomErrorNumeric_">lExpectCustomErrorNumeric_</a> :: <span class="keyword">forall</span> tag. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag ~ ()) =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a></li><li class="src short"><a href="#v:lExpectConsumerStorage">lExpectConsumerStorage</a> :: <span class="keyword">forall</span> cp st addr. (st ~ [cp], <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li><li class="src short"><a href="#v:lExpectViewConsumerStorage">lExpectViewConsumerStorage</a> :: (st ~ [cp], <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> cp, <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; [cp] -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Re-exports</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxData" class="def">TxData</a> <a href="#t:TxData" class="selflink">#</a></p><div class="doc"><p>Data associated with a particular transaction.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxData" class="def">TxData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tdSenderAddress" class="def">tdSenderAddress</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tdParameter" class="def">tdParameter</a> :: <a href="../morley-1.0.0/Michelson-Untyped-Aliases.html#t:Value" title="Michelson.Untyped.Aliases">Value</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tdEntrypoint" class="def">tdEntrypoint</a> :: <a href="Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tdAmount" class="def">tdAmount</a> :: <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:TxData" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxData:Eq:1"></span> <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxData:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../morley-1.0.0/Michelson-Runtime-TxData.html">Michelson.Runtime.TxData</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxData:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxData:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../morley-1.0.0/Michelson-Runtime-TxData.html">Michelson.Runtime.TxData</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-Test-Integrational.html#t:TxData" title="Lorentz.Test.Integrational">TxData</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:genesisAddresses" class="def">genesisAddresses</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddresses" class="selflink">#</a></p><div class="doc"><p>Initially these addresses have a lot of money.</p></div></div><div class="top"><p class="src"><a id="v:genesisAddress" class="def">genesisAddress</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress" class="selflink">#</a></p><div class="doc"><p>One of genesis addresses.</p></div></div><a href="#g:2" id="g:2"><h1>More genesis addresses which can be used in tests</h1></a><div class="top"><p class="src"><a id="v:genesisAddress1" class="def">genesisAddress1</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress1" class="selflink">#</a></p><div class="doc"><p>More genesis addresses</p><p>We know size of <code>genesisAddresses</code>, so it is safe to use <code>!!</code></p></div></div><div class="top"><p class="src"><a id="v:genesisAddress2" class="def">genesisAddress2</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress2" class="selflink">#</a></p><div class="doc"><p>More genesis addresses</p><p>We know size of <code>genesisAddresses</code>, so it is safe to use <code>!!</code></p></div></div><div class="top"><p class="src"><a id="v:genesisAddress3" class="def">genesisAddress3</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress3" class="selflink">#</a></p><div class="doc"><p>More genesis addresses</p><p>We know size of <code>genesisAddresses</code>, so it is safe to use <code>!!</code></p></div></div><div class="top"><p class="src"><a id="v:genesisAddress4" class="def">genesisAddress4</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress4" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genesisAddress5" class="def">genesisAddress5</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress5" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genesisAddress6" class="def">genesisAddress6</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:genesisAddress6" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Testing engine for bare Typed primitives</h1></a><div class="top"><p class="src"><a id="v:tOriginate" class="def">tOriginate</a> :: (<a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:ParameterScope" title="Michelson.Typed.Scope">ParameterScope</a> cp, <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:StorageScope" title="Michelson.Typed.Scope">StorageScope</a> st) =&gt; <a href="../morley-1.0.0/Michelson-Typed-Instr.html#t:FullContract" title="Michelson.Typed.Instr">FullContract</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> st -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="#v:tOriginate" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:originate" title="Michelson.Test.Integrational">originate</a></code>, but for typed contract and value.</p></div></div><div class="top"><p class="src"><a id="v:tTransfer" class="def">tTransfer</a> :: <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:ParameterScope" title="Michelson.Typed.Scope">ParameterScope</a> arg =&gt; (&quot;from&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; (&quot;to&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> arg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:tTransfer" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:transfer" title="Michelson.Test.Integrational">transfer</a></code>, for typed values.
 Note that it works with untyped <code><a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></code> and does not check that
 entrypoint with given name is present and has the expected type.
 Passed value must correspond to the entrypoint argument type, not
 the parameter type of the contract (and must be unit for implicit
 accounts).</p></div></div><div class="top"><p class="src"><a id="v:tExpectStorageConst" class="def">tExpectStorageConst</a> :: <a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:StorageScope" title="Michelson.Typed.Scope">StorageScope</a> st =&gt; <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> -&gt; <a href="Lorentz-Value.html#t:Value" title="Lorentz.Value">Value</a> st -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:tExpectStorageConst" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:expectStorageConst" title="Michelson.Test.Integrational">expectStorageConst</a></code>, for typed stuff.</p></div></div><a href="#g:4" id="g:4"><h1>Testing engine</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IntegrationalValidator" class="def">IntegrationalValidator</a> = <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> (<a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#t:IntegrationalValidator" class="selflink">#</a></p><div class="doc"><p>Validator for integrational testing.
 If an error is expected, it should be <code><a href="Lorentz-Prelude.html#v:Left" title="Lorentz.Prelude">Left</a></code> with validator for errors.
 Otherwise it should check final global state and its updates.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SuccessValidator" class="def">SuccessValidator</a> = InternalState -&gt; <a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GState" title="Michelson.Runtime.GState">GState</a> -&gt; [<a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>] -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> () <a href="#t:SuccessValidator" class="selflink">#</a></p><div class="doc"><p>Validator for integrational testing that expects successful execution.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IntegrationalScenarioM" class="def">IntegrationalScenarioM</a> = <a href="../morley-prelude-0.3.0/Prelude.html#t:StateT" title="Prelude">StateT</a> InternalState (<a href="../mtl-2.2.2/Control-Monad-Except.html#t:Except" title="Control.Monad.Except">Except</a> ScenarioError) <a href="#t:IntegrationalScenarioM" class="selflink">#</a></p><div class="doc"><p>A monad inside which integrational tests can be described using
 do-notation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IntegrationalScenario" class="def">IntegrationalScenario</a> = <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> Validated <a href="#t:IntegrationalScenario" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValidationError" class="def">ValidationError</a> <a href="#t:ValidationError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnexpectedExecutorError" class="def">UnexpectedExecutorError</a> IntegrationalExecutorError</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnexpectedTypeCheckError" class="def">UnexpectedTypeCheckError</a> <a href="../morley-1.0.0/Michelson-TypeCheck-Error.html#t:TCError" title="Michelson.TypeCheck.Error">TCError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExpectingInterpreterToFail" class="def">ExpectingInterpreterToFail</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IncorrectUpdates" class="def">IncorrectUpdates</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> [<a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IncorrectStorageUpdate" class="def">IncorrectStorageUpdate</a> AddressName <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InvalidStorage" class="def">InvalidStorage</a> AddressName ExpectedStorage <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:StoragePredicateMismatch" class="def">StoragePredicateMismatch</a> AddressName <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InvalidBalance" class="def">InvalidBalance</a> AddressName ExpectedBalance <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnexpectedUpdates" class="def">UnexpectedUpdates</a> (<a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="../morley-1.0.0/Michelson-Runtime-GState.html#t:GStateUpdate" title="Michelson.Runtime.GState">GStateUpdate</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CustomValidationError" class="def">CustomValidationError</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:ValidationError" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../morley-1.0.0/Michelson-Test-Integrational.html">Michelson.Test.Integrational</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Exception:2"></span> <a href="../base-4.12.0.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../morley-1.0.0/Michelson-Test-Integrational.html">Michelson.Test.Integrational</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Buildable:3"></span> <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Buildable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../morley-1.0.0/Michelson-Test-Integrational.html">Michelson.Test.Integrational</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="../fmt-0.6.1.2/Fmt.html#t:Builder" title="Fmt">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:integrationalTestExpectation" class="def">integrationalTestExpectation</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="../hspec-expectations-0.8.2/Test-Hspec-Expectations.html#t:Expectation" title="Test.Hspec.Expectations">Expectation</a> <a href="#v:integrationalTestExpectation" class="selflink">#</a></p><div class="doc"><p>Integrational test that executes given operations and validates
 them using given validator. It can fail using <code><a href="../hspec-expectations-0.8.2/Test-Hspec-Expectations.html#t:Expectation" title="Test.Hspec.Expectations">Expectation</a></code>
 capability.
 It starts with <code><a href="../morley-1.0.0/Michelson-Runtime-GState.html#v:initGState" title="Michelson.Runtime.GState">initGState</a></code> and some reasonable dummy values for
 gas limit and current timestamp. You can update blockchain state
 by performing some operations.</p></div></div><div class="top"><p class="src"><a id="v:integrationalTestProperty" class="def">integrationalTestProperty</a> :: <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="../QuickCheck-2.13.2/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="#v:integrationalTestProperty" class="selflink">#</a></p><div class="doc"><p>Integrational test similar to <code><a href="Lorentz-Test-Integrational.html#v:integrationalTestExpectation" title="Lorentz.Test.Integrational">integrationalTestExpectation</a></code>.
 It can fail using <code><a href="../QuickCheck-2.13.2/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></code> capability.
 It can be used with QuickCheck's <code>forAll</code> to make a
 property-based test with arbitrary data.</p></div></div><div class="top"><p class="src"><a id="v:lOriginate" class="def">lOriginate</a> :: <span class="keyword">forall</span> cp st. (<a href="Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> (<a href="Lorentz-Address.html#t:TAddress" title="Lorentz.Address">TAddress</a> cp) <a href="src/Lorentz.Test.Integrational.html#lOriginate" class="link">Source</a> <a href="#v:lOriginate" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:originate" title="Michelson.Test.Integrational">originate</a></code>, but for Lorentz contracts.</p></div></div><div class="top"><p class="src"><a id="v:lOriginateEmpty" class="def">lOriginateEmpty</a> :: (<a href="Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Value.html#t:Default" title="Lorentz.Value">Default</a> st) =&gt; <a href="Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> cp st -&gt; <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> (<a href="Lorentz-Address.html#t:TAddress" title="Lorentz.Address">TAddress</a> cp) <a href="src/Lorentz.Test.Integrational.html#lOriginateEmpty" class="link">Source</a> <a href="#v:lOriginateEmpty" class="selflink">#</a></p><div class="doc"><p>Originate a contract with empty balance and default storage.</p></div></div><div class="top"><p class="src"><a id="v:lTransfer" class="def">lTransfer</a> :: <span class="keyword">forall</span> cp epRef epArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasEntryPointArg" title="Lorentz.EntryPoints.Core">HasEntryPointArg</a> cp epRef epArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> epArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; (&quot;from&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a>) -&gt; (&quot;to&quot; <a href="Lorentz-ADT.html#t::-33-" title="Lorentz.ADT">:!</a> addr) -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; epRef -&gt; epArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="src/Lorentz.Test.Integrational.html#lTransfer" class="link">Source</a> <a href="#v:lTransfer" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Runtime.html#v:transfer" title="Michelson.Runtime">transfer</a></code>, for Lorentz values.</p></div></div><div class="top"><p class="src"><a id="v:lCall" class="def">lCall</a> :: <span class="keyword">forall</span> cp defEpName addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasDefEntryPointArg" title="Lorentz.EntryPoints.Core">HasDefEntryPointArg</a> cp defEpName cp, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> cp, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; cp -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="src/Lorentz.Test.Integrational.html#lCall" class="link">Source</a> <a href="#v:lCall" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: <code><a href="Lorentz-Test-Integrational.html#v:lCall" title="Lorentz.Test.Integrational">lCall</a></code> will likely be replaced with <code><a href="Lorentz-Test-Integrational.html#v:lCallEP" title="Lorentz.Test.Integrational">lCallEP</a></code> in future version</p></div><p>Legacy version of <code><a href="Lorentz-Test-Integrational.html#v:lCallEP" title="Lorentz.Test.Integrational">lCallEP</a></code> function. Calls default entrypoint of
 a contract assuming its argument is the same as contract parameter
 (which is equivalent to absence of explicit default entrypoint).</p><p>This function is DEPRECATED and exists only for backwards compatibility.</p></div></div><div class="top"><p class="src"><a id="v:lCallEP" class="def">lCallEP</a> :: <span class="keyword">forall</span> cp epRef epArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasEntryPointArg" title="Lorentz.EntryPoints.Core">HasEntryPointArg</a> cp epRef epArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> epArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; epRef -&gt; epArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="src/Lorentz.Test.Integrational.html#lCallEP" class="link">Source</a> <a href="#v:lCallEP" class="selflink">#</a></p><div class="doc"><p>Call an entrypoint of a contract without caring about the source
 address. Transfers 0 mutez.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EntryPointRef" class="def">EntryPointRef</a> (mname :: <a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> <a href="../base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) <span class="keyword">where</span> <a href="src/Lorentz.EntryPoints.Core.html#EntryPointRef" class="link">Source</a> <a href="#t:EntryPointRef" class="selflink">#</a></p><div class="doc"><p>Which entrypoint to call.</p><p>We intentionally distinguish default and non-default cases because
 this makes API more details-agnostic.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CallDefault" class="def">CallDefault</a> :: <a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> <a href="Lorentz-Prelude.html#v:Nothing" title="Lorentz.Prelude">Nothing</a></td><td class="doc"><p>Call the default entrypoint, or root if no explicit default is assigned.</p></td></tr><tr><td class="src"><a id="v:Call" class="def">Call</a> :: <a href="Lorentz-EntryPoints-Core.html#t:NiceEntryPointName" title="Lorentz.EntryPoints.Core">NiceEntryPointName</a> name =&gt; <a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> (<a href="Lorentz-Prelude.html#v:Just" title="Lorentz.Prelude">Just</a> name)</td><td class="doc"><p>Call the given entrypoint; calling default is not treated specially.
 You have to provide entrypoint name via passing it as type argument.</p><p>Unfortunatelly, here we cannot accept a label because in most cases our
 entrypoints begin from capital letter (being derived from constructor name),
 while labels must start from a lower-case letter, and there is no way to
 make a conversion at type-level.</p></td></tr></table></div><div class="subs instances"><details id="i:EntryPointRef" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EntryPointRef:HasEntryPointArg:1"></span> (<a href="Lorentz-EntryPoints-Core.html#t:GetEntryPointArgCustom" title="Lorentz.EntryPoints.Core">GetEntryPointArgCustom</a> cp mname ~ arg, <a href="Lorentz-EntryPoints-Core.html#t:ParameterDeclaresEntryPoints" title="Lorentz.EntryPoints.Core">ParameterDeclaresEntryPoints</a> cp) =&gt; <a href="Lorentz-EntryPoints-Core.html#t:HasEntryPointArg" title="Lorentz.EntryPoints.Core">HasEntryPointArg</a> (cp :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (<a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> mname) arg</span> <a href="src/Lorentz.EntryPoints.Core.html#line-448" class="link">Source</a> <a href="#t:EntryPointRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EntryPointRef:HasEntryPointArg:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-EntryPoints-Core.html">Lorentz.EntryPoints.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:useHasEntryPointArg">useHasEntryPointArg</a> :: <a href="Lorentz-Test-Integrational.html#t:EntryPointRef" title="Lorentz.Test.Integrational">EntryPointRef</a> mname -&gt; (<a href="../constraints-0.11/Data-Constraint.html#t:Dict" title="Data.Constraint">Dict</a> (<a href="../morley-1.0.0/Michelson-Typed-Scope.html#t:ParameterScope" title="Michelson.Typed.Scope">ParameterScope</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> arg)), <a href="Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a>) <a href="src/Lorentz.EntryPoints.Core.html#useHasEntryPointArg" class="link">Source</a> <a href="#v:useHasEntryPointArg" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:lCallDef" class="def">lCallDef</a> :: <span class="keyword">forall</span> cp defEpName defArg addr. (<a href="Lorentz-EntryPoints-Core.html#t:HasDefEntryPointArg" title="Lorentz.EntryPoints.Core">HasDefEntryPointArg</a> cp defEpName defArg, <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> defArg, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; defArg -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="src/Lorentz.Test.Integrational.html#lCallDef" class="link">Source</a> <a href="#v:lCallDef" class="selflink">#</a></p><div class="doc"><p><code><a href="Lorentz-Test-Integrational.html#v:lCallEP" title="Lorentz.Test.Integrational">lCallEP</a></code> for default entrypoint.</p></div></div><div class="top"><p class="src"><a id="v:validate" class="def">validate</a> :: <a href="Lorentz-Test-Integrational.html#t:IntegrationalValidator" title="Lorentz.Test.Integrational">IntegrationalValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> <a href="#v:validate" class="selflink">#</a></p><div class="doc"><p>Validate the execution result.</p></div></div><div class="top"><p class="src"><a id="v:integrationalFail" class="def">integrationalFail</a> :: <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> anything <a href="#v:integrationalFail" class="selflink">#</a></p><div class="doc"><p>Just fail with given error.</p></div></div><div class="top"><p class="src"><a id="v:setMaxSteps" class="def">setMaxSteps</a> :: <a href="../morley-1.0.0/Michelson-Interpret.html#t:RemainingSteps" title="Michelson.Interpret">RemainingSteps</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:setMaxSteps" class="selflink">#</a></p><div class="doc"><p>Make all further interpreter calls (which are triggered by the
 <code><a href="Lorentz-Test-Integrational.html#v:validate" title="Lorentz.Test.Integrational">validate</a></code> function) use given gas limit.</p></div></div><div class="top"><p class="src"><a id="v:setNow" class="def">setNow</a> :: <a href="Lorentz-Value.html#t:Timestamp" title="Lorentz.Value">Timestamp</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:setNow" class="selflink">#</a></p><div class="doc"><p>Make all further interpreter calls (which are triggered by the
 <code><a href="Lorentz-Test-Integrational.html#v:validate" title="Lorentz.Test.Integrational">validate</a></code> function) use given timestamp as the current one.</p></div></div><div class="top"><p class="src"><a id="v:rewindTime" class="def">rewindTime</a> :: <a href="Lorentz-Value.html#t:Integer" title="Lorentz.Value">Integer</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:rewindTime" class="selflink">#</a></p><div class="doc"><p>Increase current time by the given number of seconds.</p></div></div><div class="top"><p class="src"><a id="v:withSender" class="def">withSender</a> :: <a href="Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> a -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> a <a href="#v:withSender" class="selflink">#</a></p><div class="doc"><p>Pretend that given address initiates all the transfers within the
 code block (i.e. <code>SENDER</code> instruction will return this address).</p></div></div><div class="top"><p class="src"><a id="v:setChainId" class="def">setChainId</a> :: <a href="Lorentz-Value.html#t:ChainId" title="Lorentz.Value">ChainId</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:setChainId" class="selflink">#</a></p><div class="doc"><p>Make all further interpreter calls (which are triggered by the
 <code><a href="Lorentz-Test-Integrational.html#v:validate" title="Lorentz.Test.Integrational">validate</a></code> function) use given chain id.</p></div></div><div class="top"><p class="src"><a id="v:branchout" class="def">branchout</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> -&gt; [(<a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a>, <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a>)] -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> <a href="#v:branchout" class="selflink">#</a></p><div class="doc"><p>Execute multiple testing scenarios independently, basing
 them on scenario built till this point.</p><p>The following property holds for this function:</p><p><code> pre &gt;&gt; branchout [a, b, c] = branchout [pre &gt;&gt; a, pre &gt;&gt; b, pre &gt;&gt; c] </code>.</p><p>In case of property failure in one of the branches no following branch is
 executed.</p><p>Providing empty list of scenarios to this function causes error;
 we do not require <code><a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a></code> here though for convenience.</p></div></div><div class="top"><p class="src"><a id="v:-63--45-" class="def">(?-)</a> :: <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; a -&gt; (<a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a>, a) <span class="fixity">infixr 0</span><span class="rightedge"></span> <a href="#v:-63--45-" class="selflink">#</a></p><div class="doc"><p>Make a tuple with name without extra syntactic noise.</p></div></div><div class="top"><p class="src"><a id="v:offshoot" class="def">offshoot</a> :: <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:IntegrationalScenarioM" title="Lorentz.Test.Integrational">IntegrationalScenarioM</a> () <a href="#v:offshoot" class="selflink">#</a></p><div class="doc"><p>Test given scenario with the state gathered till this moment;
 if this scenario passes, go on as if it never happened.</p></div></div><a href="#g:5" id="g:5"><h1>Validators</h1></a><div class="top"><p class="src"><a id="v:composeValidators" class="def">composeValidators</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:composeValidators" class="selflink">#</a></p><div class="doc"><p>Compose two success validators.</p><p>For example:</p><p>expectBalance bal addr <code><a href="Lorentz-Test-Integrational.html#v:composeValidators" title="Lorentz.Test.Integrational">composeValidators</a></code>
 expectStorageUpdateConst addr2 ValueUnit</p></div></div><div class="top"><p class="src"><a id="v:composeValidatorsList" class="def">composeValidatorsList</a> :: [<a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a>] -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:composeValidatorsList" class="selflink">#</a></p><div class="doc"><p>Compose a list of success validators.</p></div></div><div class="top"><p class="src"><a id="v:expectAnySuccess" class="def">expectAnySuccess</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:expectAnySuccess" class="selflink">#</a></p><div class="doc"><p><code><a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a></code> that always passes.</p></div></div><div class="top"><p class="src"><a id="v:expectNoUpdates" class="def">expectNoUpdates</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:expectNoUpdates" class="selflink">#</a></p><div class="doc"><p>Check that there were no updates.</p></div></div><div class="top"><p class="src"><a id="v:expectNoStorageUpdates" class="def">expectNoStorageUpdates</a> :: <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="#v:expectNoStorageUpdates" class="selflink">#</a></p><div class="doc"><p>Check that there were no storage updates.</p></div></div><div class="top"><p class="src"><a id="v:lExpectStorageUpdate" class="def">lExpectStorageUpdate</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr, <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectStorageUpdate" class="link">Source</a> <a href="#v:lExpectStorageUpdate" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:expectStorageUpdate" title="Michelson.Test.Integrational">expectStorageUpdate</a></code>, but for Lorentz values.</p></div></div><div class="top"><p class="src"><a id="v:lExpectBalance" class="def">lExpectBalance</a> :: <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr =&gt; addr -&gt; <a href="Lorentz-Value.html#t:Mutez" title="Lorentz.Value">Mutez</a> -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectBalance" class="link">Source</a> <a href="#v:lExpectBalance" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:expectBalance" title="Michelson.Test.Integrational">expectBalance</a></code>, for Lorentz values.</p></div></div><div class="top"><p class="src"><a id="v:lExpectStorage" class="def">lExpectStorage</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr, <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectStorage" class="link">Source</a> <a href="#v:lExpectStorage" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:expectStorage" title="Michelson.Test.Integrational">expectStorage</a></code>, but for Lorentz values.</p></div></div><div class="top"><p class="src"><a id="v:lExpectStorageConst" class="def">lExpectStorageConst</a> :: <span class="keyword">forall</span> st addr. (<a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr) =&gt; addr -&gt; st -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectStorageConst" class="link">Source</a> <a href="#v:lExpectStorageConst" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="../morley-1.0.0/Michelson-Test-Integrational.html#v:expectStorageConst" title="Michelson.Test.Integrational">expectStorageConst</a></code>, for Lorentz values.</p></div></div><a href="#g:6" id="g:6"><h1>Errors</h1></a><div class="top"><p class="src"><a id="v:lExpectMichelsonFailed" class="def">lExpectMichelsonFailed</a> :: <span class="keyword">forall</span> addr. <a href="Lorentz-Address.html#t:ToAddress" title="Lorentz.Address">ToAddress</a> addr =&gt; (<a href="../morley-1.0.0/Michelson-Interpret.html#t:MichelsonFailed" title="Michelson.Interpret">MichelsonFailed</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; addr -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectMichelsonFailed" class="link">Source</a> <a href="#v:lExpectMichelsonFailed" class="selflink">#</a></p><div class="doc"><p>Expect that interpretation of contract with given address ended
 with [FAILED].</p></div></div><div class="top"><p class="src"><a id="v:lExpectFailWith" class="def">lExpectFailWith</a> :: <span class="keyword">forall</span> e. (<a href="../base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> (<a href="Lorentz-Value.html#t:ToT" title="Lorentz.Value">ToT</a> e), <a href="Lorentz-Value.html#t:IsoValue" title="Lorentz.Value">IsoValue</a> e) =&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectFailWith" class="link">Source</a> <a href="#v:lExpectFailWith" class="selflink">#</a></p><div class="doc"><p>Expect contract to fail with <a href="FAILWITH.html">FAILWITH</a> instruction and provided value
 to match against the given predicate.</p></div></div><div class="top"><p class="src"><a id="v:lExpectError" class="def">lExpectError</a> :: <span class="keyword">forall</span> e. <a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> e =&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectError" class="link">Source</a> <a href="#v:lExpectError" class="selflink">#</a></p><div class="doc"><p>Expect contract to fail with given error.</p></div></div><div class="top"><p class="src"><a id="v:lExpectErrorNumeric" class="def">lExpectErrorNumeric</a> :: <span class="keyword">forall</span> e. <a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> e =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; (e -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a>) -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectErrorNumeric" class="link">Source</a> <a href="#v:lExpectErrorNumeric" class="selflink">#</a></p><div class="doc"><p>Version of <code><a href="Lorentz-Test-Integrational.html#v:lExpectError" title="Lorentz.Test.Integrational">lExpectError</a></code> for the case when numeric
 representation of errors is used.</p></div></div><div class="top"><p class="src"><a id="v:lExpectCustomError" class="def">lExpectCustomError</a> :: <span class="keyword">forall</span> tag arg. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), arg ~ <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag, <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> arg) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; arg -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectCustomError" class="link">Source</a> <a href="#v:lExpectCustomError" class="selflink">#</a></p><div class="doc"><p>Expect contract to fail with given <code>CustomError</code>.</p></div></div><div class="top"><p class="src"><a id="v:lExpectCustomErrorNumeric" class="def">lExpectCustomErrorNumeric</a> :: <span class="keyword">forall</span> tag arg. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), arg ~ <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag, <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> arg) =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; arg -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectCustomErrorNumeric" class="link">Source</a> <a href="#v:lExpectCustomErrorNumeric" class="selflink">#</a></p><div class="doc"><p>Version of <code><a href="Lorentz-Test-Integrational.html#v:lExpectCustomError" title="Lorentz.Test.Integrational">lExpectCustomError</a></code> for the case when numeric
 representation of errors is used.</p></div></div><div class="top"><p class="src"><a id="v:lExpectCustomError_" class="def">lExpectCustomError_</a> :: <span class="keyword">forall</span> tag. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag ~ ()) =&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectCustomError_" class="link">Source</a> <a href="#v:lExpectCustomError_" class="selflink">#</a></p><div class="doc"><p>Specialization of <code><a href="Lorentz-Test-Integrational.html#v:lExpectCustomError" title="Lorentz.Test.Integrational">lExpectCustomError</a></code> for non-arg error case.</p></div></div><div class="top"><p class="src"><a id="v:lExpectCustomErrorNumeric_" class="def">lExpectCustomErrorNumeric_</a> :: <span class="keyword">forall</span> tag. (<a href="Lorentz-Errors.html#t:IsError" title="Lorentz.Errors">IsError</a> (<a href="Lorentz-Errors.html#t:CustomError" title="Lorentz.Errors">CustomError</a> tag), <a href="Lorentz-Errors.html#t:ErrorArg" title="Lorentz.Errors">ErrorArg</a> tag ~ ()) =&gt; <a href="Lorentz-Errors-Numeric-Contract.html#t:ErrorTagMap" title="Lorentz.Errors.Numeric.Contract">ErrorTagMap</a> -&gt; <a href="Lorentz-Value.html#t:Label" title="Lorentz.Value">Label</a> tag -&gt; <a href="../morley-1.0.0/Michelson-Runtime.html#t:ExecutorError" title="Michelson.Runtime">ExecutorError</a> -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="src/Lorentz.Test.Integrational.html#lExpectCustomErrorNumeric_" class="link">Source</a> <a href="#v:lExpectCustomErrorNumeric_" class="selflink">#</a></p><div class="doc"><p>Version of <code><a href="Lorentz-Test-Integrational.html#v:lExpectCustomError_" title="Lorentz.Test.Integrational">lExpectCustomError_</a></code> for the case when numeric
 representation of errors is used.</p></div></div><a href="#g:7" id="g:7"><h2>Consumer</h2></a><div class="top"><p class="src"><a id="v:lExpectConsumerStorage" class="def">lExpectConsumerStorage</a> :: <span class="keyword">forall</span> cp st addr. (st ~ [cp], <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; (st -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Test-Integrational.html#t:ValidationError" title="Lorentz.Test.Integrational">ValidationError</a> ()) -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectConsumerStorage" class="link">Source</a> <a href="#v:lExpectConsumerStorage" class="selflink">#</a></p><div class="doc"><p>Version of <code><a href="Lorentz-Test-Integrational.html#v:lExpectStorageUpdate" title="Lorentz.Test.Integrational">lExpectStorageUpdate</a></code> specialized to &quot;consumer&quot; contract
 (see <code><a href="Lorentz-Contracts-Consumer.html#v:contractConsumer" title="Lorentz.Contracts.Consumer">contractConsumer</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:lExpectViewConsumerStorage" class="def">lExpectViewConsumerStorage</a> :: (st ~ [cp], <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> cp, <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> cp, <a href="Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st, <a href="Lorentz-Address.html#t:ToTAddress" title="Lorentz.Address">ToTAddress</a> cp addr) =&gt; addr -&gt; [cp] -&gt; <a href="Lorentz-Test-Integrational.html#t:SuccessValidator" title="Lorentz.Test.Integrational">SuccessValidator</a> <a href="src/Lorentz.Test.Integrational.html#lExpectViewConsumerStorage" class="link">Source</a> <a href="#v:lExpectViewConsumerStorage" class="selflink">#</a></p><div class="doc"><p>Assuming that &quot;consumer&quot; contract receives a value from <code>View</code>, expect
 this view return value to be the given one.</p><p>Despite consumer stores parameters it was called with in reversed order,
 this function cares about it, so you should provide a list of expected values
 in the same order in which the corresponding events were happenning.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>