<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-comment">-- This is needed because ErrorT is deprecated.</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-warnings-deprecations #-}</span><span>
</span><a name="line-11"></a><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-comment">{- |
Module      :  Lens.Micro.Mtl
Copyright   :  (C) 2013-2016 Edward Kmett, 2015-2016 Artyom
License     :  BSD-style (see the file LICENSE)
-}</span><span>
</span><a name="line-18"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lens.Micro.Mtl</span><span>
</span><a name="line-19"></a><span class="hs-special">(</span><span>
</span><a name="line-20"></a><span>  </span><span class="hs-comment">-- * Getting</span><span>
</span><a name="line-21"></a><span>  </span><a href="Lens.Micro.Mtl.html#view"><span class="hs-identifier hs-var">view</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#preview"><span class="hs-identifier hs-var">preview</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>  </span><a href="Lens.Micro.Mtl.html#use"><span class="hs-identifier hs-var">use</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#preuse"><span class="hs-identifier hs-var">preuse</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>
</span><a name="line-24"></a><span>  </span><span class="hs-comment">-- * Setting</span><span>
</span><a name="line-25"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#modifying"><span class="hs-identifier hs-var">modifying</span></a><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator hs-var">.=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#assign"><span class="hs-identifier hs-var">assign</span></a><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3F%3D"><span class="hs-operator hs-var">?=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C~"><span class="hs-operator hs-var">&lt;~</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span>  </span><span class="hs-comment">-- * Convenience</span><span>
</span><a name="line-31"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%26~"><span class="hs-operator hs-var">&amp;~</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span>  </span><span class="hs-comment">-- * Specialised modifying operators</span><span>
</span><a name="line-34"></a><span>  </span><span class="hs-comment">-- $arith-note</span><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%2B%3D"><span class="hs-operator hs-var">+=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#-%3D"><span class="hs-operator hs-var">-=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%2A%3D"><span class="hs-operator hs-var">*=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%2F%2F%3D"><span class="hs-operator hs-var">//=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span>  </span><span class="hs-comment">-- * Setting with passthrough</span><span>
</span><a name="line-38"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C%25%3D"><span class="hs-operator hs-var">&lt;%=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C.%3D"><span class="hs-operator hs-var">&lt;.=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C%3F%3D"><span class="hs-operator hs-var">&lt;?=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>  </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C%3C%25%3D"><span class="hs-operator hs-var">&lt;&lt;%=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#%3C%3C.%3D"><span class="hs-operator hs-var">&lt;&lt;.=</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-40"></a><span>
</span><a name="line-41"></a><span>  </span><span class="hs-comment">-- * Zooming</span><span>
</span><a name="line-42"></a><span>  </span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a><span class="hs-special">,</span><span>
</span><a name="line-43"></a><span>  </span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var">magnify</span></a><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span class="hs-special">)</span><span>
</span><a name="line-45"></a><span class="hs-keyword">where</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span>
</span><a name="line-49"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span>
</span><a name="line-50"></a><span>
</span><a name="line-51"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Reader</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Reader</span><span>
</span><a name="line-52"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.State</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">State</span><span>
</span><a name="line-53"></a><span class="hs-comment">-- microlens</span><span>
</span><a name="line-54"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Lens.Micro</span><span>
</span><a name="line-55"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Lens.Micro.Internal</span><span>
</span><a name="line-56"></a><span class="hs-comment">-- Internal modules</span><span>
</span><a name="line-57"></a><span class="hs-keyword">import</span><span> </span><a href="Lens.Micro.Mtl.Internal.html"><span class="hs-identifier">Lens.Micro.Mtl.Internal</span></a><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span>
</span><a name="line-60"></a><span class="hs-comment">{- |
'view' is a synonym for ('^.'), generalised for 'MonadReader' (we are able to use it instead of ('^.') since functions are instances of the 'MonadReader' class):

&gt;&gt;&gt; view _1 (1, 2)
1

When you're using 'Reader.Reader' for config and your config type has lenses generated for it, most of the time you'll be using 'view' instead of 'Reader.asks':

@
doSomething :: ('MonadReader' Config m) =&gt; m Int
doSomething = do
  thingy        &lt;- 'view' setting1  -- same as &#8220;'Reader.asks' ('^.' setting1)&#8221;
  anotherThingy &lt;- 'view' setting2
  ...
@
-}</span><span>
</span><a name="line-76"></a><span class="hs-identifier">view</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadReader</span><span> </span><a href="#local-6989586621679043144"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043145"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Getting</span><span> </span><a href="#local-6989586621679043146"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043144"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043146"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043145"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043146"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-77"></a><a name="view"><a href="Lens.Micro.Mtl.html#view"><span class="hs-identifier">view</span></a></a><span> </span><a name="local-6989586621679043147"><a href="#local-6989586621679043147"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Reader.asks</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">getConst</span><span> </span><span class="hs-operator hs-var">#.</span><span> </span><a href="#local-6989586621679043147"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-identifier hs-var">Const</span><span class="hs-special">)</span><span>
</span><a name="line-78"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">view</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-comment">{- |
'preview' is a synonym for ('^?'), generalised for 'MonadReader' (just like 'view', which is a synonym for ('^.')).

&gt;&gt;&gt; preview each [1..5]
Just 1
-}</span><span>
</span><a name="line-86"></a><span class="hs-identifier">preview</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadReader</span><span> </span><a href="#local-6989586621679043141"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043142"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Getting</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">First</span><span> </span><a href="#local-6989586621679043143"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043141"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043143"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043142"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679043143"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-87"></a><a name="preview"><a href="Lens.Micro.Mtl.html#preview"><span class="hs-identifier">preview</span></a></a><span> </span><a name="local-6989586621679043148"><a href="#local-6989586621679043148"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Reader.asks</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">getFirst</span><span> </span><span class="hs-operator hs-var">#.</span><span> </span><span class="hs-identifier hs-var">foldMapOf</span><span> </span><a href="#local-6989586621679043148"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">First</span><span> </span><span class="hs-operator hs-var">#.</span><span> </span><span class="hs-identifier hs-var">Just</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-88"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">preview</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-comment">{- |
'use' is ('^.') (or 'view') which implicitly operates on the state; for instance, if your state is a record containing a field @foo@, you can write

@
x \&lt;- 'use' foo
@

to extract @foo@ from the state. In other words, 'use' is the same as 'State.gets', but for getters instead of functions.

The implementation of 'use' is straightforward:

@
'use' l = 'State.gets' ('view' l)
@

If you need to extract something with a fold or traversal, you need 'preuse'.
-}</span><span>
</span><a name="line-107"></a><span class="hs-identifier">use</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043138"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043139"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Getting</span><span> </span><a href="#local-6989586621679043140"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043138"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043140"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043139"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043140"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-108"></a><a name="use"><a href="Lens.Micro.Mtl.html#use"><span class="hs-identifier">use</span></a></a><span> </span><a name="local-6989586621679043149"><a href="#local-6989586621679043149"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">State.gets</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#view"><span class="hs-identifier hs-var">view</span></a><span> </span><a href="#local-6989586621679043149"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span>
</span><a name="line-109"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">use</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-comment">{- |
'preuse' is ('^?') (or 'preview') which implicitly operates on the state &#8211; it takes the state and applies a traversal (or fold) to it to extract the 1st element the traversal points at.

@
'preuse' l = 'State.gets' ('preview' l)
@
-}</span><span>
</span><a name="line-118"></a><span class="hs-identifier">preuse</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043135"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043136"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Getting</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">First</span><span> </span><a href="#local-6989586621679043137"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043135"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043137"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043136"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679043137"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-119"></a><a name="preuse"><a href="Lens.Micro.Mtl.html#preuse"><span class="hs-identifier">preuse</span></a></a><span> </span><a name="local-6989586621679043150"><a href="#local-6989586621679043150"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">State.gets</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Mtl.html#preview"><span class="hs-identifier hs-var">preview</span></a><span> </span><a href="#local-6989586621679043150"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span>
</span><a name="line-120"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">preuse</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-keyword">infix</span><span>  </span><span class="hs-number">4</span><span> </span><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator hs-var">.=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%3F%3D"><span class="hs-operator hs-var">?=</span></a><span>
</span><a name="line-124"></a><span class="hs-keyword">infix</span><span>  </span><span class="hs-number">4</span><span> </span><a href="Lens.Micro.Mtl.html#%3C%3C.%3D"><span class="hs-operator hs-var">&lt;&lt;.=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%3C%3C%25%3D"><span class="hs-operator hs-var">&lt;&lt;%=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%3C%25%3D"><span class="hs-operator hs-var">&lt;%=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%3C.%3D"><span class="hs-operator hs-var">&lt;.=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%3C%3F%3D"><span class="hs-operator hs-var">&lt;?=</span></a><span>
</span><a name="line-125"></a><span class="hs-keyword">infix</span><span>  </span><span class="hs-number">4</span><span> </span><a href="Lens.Micro.Mtl.html#%2B%3D"><span class="hs-operator hs-var">+=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#-%3D"><span class="hs-operator hs-var">-=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%2A%3D"><span class="hs-operator hs-var">*=</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Mtl.html#%2F%2F%3D"><span class="hs-operator hs-var">//=</span></a><span>
</span><a name="line-126"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><a href="Lens.Micro.Mtl.html#%3C~"><span class="hs-operator hs-var">&lt;~</span></a><span>
</span><a name="line-127"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">1</span><span> </span><a href="Lens.Micro.Mtl.html#%26~"><span class="hs-operator hs-var">&amp;~</span></a><span>
</span><a name="line-128"></a><span>
</span><a name="line-129"></a><span class="hs-comment">{- |
This can be used to chain lens operations using @op=@ syntax
rather than @op~@ syntax for simple non-type-changing cases.
&gt;&gt;&gt; (10,20) &amp; _1 .~ 30 &amp; _2 .~ 40
(30,40)

&gt;&gt;&gt; (10,20) &amp;~ do _1 .= 30; _2 .= 40
(30,40)

This does not support type-changing assignment, /e.g./

&gt;&gt;&gt; (10,20) &amp; _1 .~ &quot;hello&quot;
(&quot;hello&quot;,20)
-}</span><span>
</span><a name="line-143"></a><span class="hs-special">(</span><span class="hs-operator">&amp;~</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679043133"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">State</span><span> </span><a href="#local-6989586621679043133"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043134"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043133"><span class="hs-identifier hs-type">s</span></a><span>
</span><a name="line-144"></a><a name="local-6989586621679043151"><a href="#local-6989586621679043151"><span class="hs-identifier">s</span></a></a><span> </span><a name="%26~"><a href="Lens.Micro.Mtl.html#%26~"><span class="hs-operator">&amp;~</span></a></a><span> </span><a name="local-6989586621679043152"><a href="#local-6989586621679043152"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">execState</span><span> </span><a href="#local-6989586621679043152"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="#local-6989586621679043151"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-145"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&amp;~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-146"></a><span>
</span><a name="line-147"></a><span class="hs-comment">{- |
Modify state by &#8220;assigning&#8221; a value to a part of the state.

This is merely ('.~') which works in 'MonadState':

@
l '.=' x = 'State.modify' (l '.~' x)
@

If you also want to know the value that was replaced by ('.='), use ('&lt;&lt;.=').
-}</span><span>
</span><a name="line-158"></a><span class="hs-special">(</span><span class="hs-operator">.=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043129"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043130"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043129"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043129"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043131"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043132"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043132"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043130"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-159"></a><a name="local-6989586621679043153"><a href="#local-6989586621679043153"><span class="hs-identifier">l</span></a></a><span> </span><a name=".%3D"><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator">.=</span></a></a><span> </span><a name="local-6989586621679043154"><a href="#local-6989586621679043154"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">State.modify</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043153"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-operator hs-var">.~</span><span> </span><a href="#local-6989586621679043154"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-160"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-161"></a><span>
</span><a name="line-162"></a><span class="hs-comment">{- |
A synonym for ('.=').
-}</span><span>
</span><a name="line-165"></a><span class="hs-identifier">assign</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043125"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043126"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043125"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043125"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043127"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043128"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043128"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043126"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-166"></a><a name="assign"><a href="Lens.Micro.Mtl.html#assign"><span class="hs-identifier">assign</span></a></a><span> </span><a name="local-6989586621679043155"><a href="#local-6989586621679043155"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621679043156"><a href="#local-6989586621679043156"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043155"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator hs-var">.=</span></a><span> </span><a href="#local-6989586621679043156"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-167"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">assign</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-168"></a><span>
</span><a name="line-169"></a><span class="hs-comment">{- |
('?=') is a version of ('.=') that wraps the value into 'Just' before setting.

@
l '?=' b = l '.=' Just b
@

It can be useful in combination with 'at'.
-}</span><span>
</span><a name="line-178"></a><span class="hs-special">(</span><span class="hs-operator">?=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043121"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043122"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043121"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043121"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043123"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679043124"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043124"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043122"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-179"></a><a name="local-6989586621679043157"><a href="#local-6989586621679043157"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3F%3D"><a href="Lens.Micro.Mtl.html#%3F%3D"><span class="hs-operator">?=</span></a></a><span> </span><a name="local-6989586621679043158"><a href="#local-6989586621679043158"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043157"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator hs-var">.=</span></a><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679043158"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-180"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">?=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-181"></a><span>
</span><a name="line-182"></a><span class="hs-comment">{- |
('&lt;~') is a version of ('.=') that takes a monadic value (and then executes it and assigns the result to the lens).

@
l '&lt;~' mb = do
  b &lt;- mb
  l '.=' b
@
-}</span><span>
</span><a name="line-191"></a><span class="hs-special">(</span><span class="hs-operator">&lt;~</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043117"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043118"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043117"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043117"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043119"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043120"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043118"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043120"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043118"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-192"></a><a name="local-6989586621679043159"><a href="#local-6989586621679043159"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C~"><a href="Lens.Micro.Mtl.html#%3C~"><span class="hs-operator">&lt;~</span></a></a><span> </span><a name="local-6989586621679043160"><a href="#local-6989586621679043160"><span class="hs-identifier">mb</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043160"><span class="hs-identifier hs-var">mb</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043159"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#.%3D"><span class="hs-operator hs-var">.=</span></a><span class="hs-special">)</span><span>
</span><a name="line-193"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;~</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-194"></a><span>
</span><a name="line-195"></a><span class="hs-comment">{- |
Modify state by applying a function to a part of the state. An example:

&gt;&gt;&gt; execState (do _1 %= (+1); _2 %= reverse) (1,&quot;hello&quot;)
(2,&quot;olleh&quot;)

Implementation:

@
l '%=' f = 'State.modify' (l '%~' f)
@

If you also want to get the value before\/after the modification, use ('&lt;&lt;%=')\/('&lt;%=').

There are a few specialised versions of ('%=') which mimic C operators:

* ('+=') for addition
* ('-=') for substraction
* ('*=') for multiplication
* ('//=') for division
-}</span><span>
</span><a name="line-216"></a><span class="hs-special">(</span><span class="hs-operator">%=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043113"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043114"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043113"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043113"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043115"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043116"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043115"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043116"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043114"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-217"></a><a name="local-6989586621679043161"><a href="#local-6989586621679043161"><span class="hs-identifier">l</span></a></a><span> </span><a name="%25%3D"><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator">%=</span></a></a><span> </span><a name="local-6989586621679043162"><a href="#local-6989586621679043162"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">State.modify</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043161"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-operator hs-var">%~</span><span> </span><a href="#local-6989586621679043162"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-218"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">%=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-219"></a><span>
</span><a name="line-220"></a><span class="hs-comment">{- |
A synonym for ('%=').
-}</span><span>
</span><a name="line-223"></a><span class="hs-identifier">modifying</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043109"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043110"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043109"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043109"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043111"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043112"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043111"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043112"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043110"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-224"></a><a name="modifying"><a href="Lens.Micro.Mtl.html#modifying"><span class="hs-identifier">modifying</span></a></a><span> </span><a name="local-6989586621679043163"><a href="#local-6989586621679043163"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621679043164"><a href="#local-6989586621679043164"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043163"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span> </span><a href="#local-6989586621679043164"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-225"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">modifying</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-226"></a><span>
</span><a name="line-227"></a><span class="hs-comment">{- $arith-note

The following operators mimic well-known C operators ('+=', '-=', etc). ('//=') stands for division.

They're implemented like this:

@
l '+=' x = l '%=' (+x)
l '-=' x = l '%=' ('subtract' x)
...
@
-}</span><span>
</span><a name="line-239"></a><span>
</span><a name="line-240"></a><span class="hs-special">(</span><span class="hs-operator">+=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043106"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043107"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><a href="#local-6989586621679043108"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043106"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043106"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043108"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043108"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043108"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043107"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-241"></a><a name="local-6989586621679043165"><a href="#local-6989586621679043165"><span class="hs-identifier">l</span></a></a><span> </span><a name="%2B%3D"><a href="Lens.Micro.Mtl.html#%2B%3D"><span class="hs-operator">+=</span></a></a><span> </span><a name="local-6989586621679043166"><a href="#local-6989586621679043166"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043165"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><a href="#local-6989586621679043166"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-242"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">+=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-243"></a><span>
</span><a name="line-244"></a><span class="hs-special">(</span><span class="hs-operator">-=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043103"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043104"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><a href="#local-6989586621679043105"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043103"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043103"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043105"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043105"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043105"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043104"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-245"></a><a name="local-6989586621679043167"><a href="#local-6989586621679043167"><span class="hs-identifier">l</span></a></a><span> </span><a name="-%3D"><a href="Lens.Micro.Mtl.html#-%3D"><span class="hs-operator">-=</span></a></a><span> </span><a name="local-6989586621679043168"><a href="#local-6989586621679043168"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043167"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">subtract</span><span> </span><a href="#local-6989586621679043168"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-246"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">-=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span class="hs-special">(</span><span class="hs-operator">*=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043100"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043101"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Num</span><span> </span><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043100"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043100"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043101"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-249"></a><a name="local-6989586621679043169"><a href="#local-6989586621679043169"><span class="hs-identifier">l</span></a></a><span> </span><a name="%2A%3D"><a href="Lens.Micro.Mtl.html#%2A%3D"><span class="hs-operator">*=</span></a></a><span> </span><a name="local-6989586621679043170"><a href="#local-6989586621679043170"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043169"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621679043170"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-250"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">*=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-251"></a><span>
</span><a name="line-252"></a><span class="hs-special">(</span><span class="hs-operator">//=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043097"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043098"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Fractional</span><span> </span><a href="#local-6989586621679043099"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">ASetter</span><span> </span><a href="#local-6989586621679043097"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043097"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043099"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043099"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043099"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043098"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-253"></a><a name="local-6989586621679043171"><a href="#local-6989586621679043171"><span class="hs-identifier">l</span></a></a><span> </span><a name="%2F%2F%3D"><a href="Lens.Micro.Mtl.html#%2F%2F%3D"><span class="hs-operator">//=</span></a></a><span> </span><a name="local-6989586621679043172"><a href="#local-6989586621679043172"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043171"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%3D"><span class="hs-operator hs-var">%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">/</span><a href="#local-6989586621679043172"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-254"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">//=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-255"></a><span>
</span><a name="line-256"></a><span class="hs-comment">{- |
Modify state and return the modified (new) value.

@
l '&lt;%=' f = do
  l '%=' f
  'use' l
@
-}</span><span>
</span><a name="line-265"></a><span class="hs-special">(</span><span class="hs-operator">&lt;%=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043093"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043094"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043095"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043093"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043093"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043096"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043095"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043096"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043095"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043094"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043095"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-266"></a><a name="local-6989586621679043173"><a href="#local-6989586621679043173"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C%25%3D"><a href="Lens.Micro.Mtl.html#%3C%25%3D"><span class="hs-operator">&lt;%=</span></a></a><span> </span><a name="local-6989586621679043174"><a href="#local-6989586621679043174"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043173"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679043175"><a href="#local-6989586621679043175"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043175"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679043175"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679043174"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-267"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;%=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-268"></a><span>
</span><a name="line-269"></a><span class="hs-comment">{- |
Modify state and return the old value (i.e. as it was before the modificaton).

@
l '&lt;&lt;%=' f = do
  old &lt;- 'use' l
  l '%=' f
  return old
@
-}</span><span>
</span><a name="line-279"></a><span class="hs-special">(</span><span class="hs-operator">&lt;&lt;%=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043089"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043090"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043089"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043089"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043092"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043092"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043090"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-280"></a><a name="local-6989586621679043176"><a href="#local-6989586621679043176"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C%3C%25%3D"><a href="Lens.Micro.Mtl.html#%3C%3C%25%3D"><span class="hs-operator">&lt;&lt;%=</span></a></a><span> </span><a name="local-6989586621679043177"><a href="#local-6989586621679043177"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043176"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679043178"><a href="#local-6989586621679043178"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043178"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679043177"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679043178"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-281"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;%=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-282"></a><span>
</span><a name="line-283"></a><span class="hs-comment">{- |
Set state and return the old value.

@
l '&lt;&lt;.=' b = do
  old &lt;- 'use' l
  l '.=' b
  return old
@
-}</span><span>
</span><a name="line-293"></a><span class="hs-special">(</span><span class="hs-operator">&lt;&lt;.=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043085"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043086"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043087"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043085"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043085"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043087"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043088"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043088"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043086"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043087"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-294"></a><a name="local-6989586621679043179"><a href="#local-6989586621679043179"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C%3C.%3D"><a href="Lens.Micro.Mtl.html#%3C%3C.%3D"><span class="hs-operator">&lt;&lt;.=</span></a></a><span> </span><a name="local-6989586621679043180"><a href="#local-6989586621679043180"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043179"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679043181"><a href="#local-6989586621679043181"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043181"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679043180"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-295"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&lt;.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-296"></a><span>
</span><a name="line-297"></a><span class="hs-comment">{- |
Set state and return new value.

@
l '&lt;.=' b = do
  l '.=' b
  return b
@
-}</span><span>
</span><a name="line-306"></a><span class="hs-special">(</span><span class="hs-operator">&lt;.=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043081"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043082"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043083"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043081"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043081"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043084"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043083"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043083"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043082"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043083"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-307"></a><a name="local-6989586621679043182"><a href="#local-6989586621679043182"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C.%3D"><a href="Lens.Micro.Mtl.html#%3C.%3D"><span class="hs-operator">&lt;.=</span></a></a><span> </span><a name="local-6989586621679043183"><a href="#local-6989586621679043183"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043182"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%3C%25%3D"><span class="hs-operator hs-var">&lt;%=</span></a><span> </span><span class="hs-identifier hs-var">const</span><span> </span><a href="#local-6989586621679043183"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-308"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;.=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-309"></a><span>
</span><a name="line-310"></a><span class="hs-comment">{- |
('&lt;?=') is a version of ('&lt;.=') that wraps the value into 'Just' before setting.

@
l '&lt;?=' b = do
  l '.=' Just b
  'return' b
@

It can be useful in combination with 'at'.
-}</span><span>
</span><a name="line-321"></a><span class="hs-special">(</span><span class="hs-operator">&lt;?=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043077"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043078"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043079"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043077"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043077"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043080"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621679043079"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043079"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043078"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043079"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-322"></a><a name="local-6989586621679043184"><a href="#local-6989586621679043184"><span class="hs-identifier">l</span></a></a><span> </span><a name="%3C%3F%3D"><a href="Lens.Micro.Mtl.html#%3C%3F%3D"><span class="hs-operator">&lt;?=</span></a></a><span> </span><a name="local-6989586621679043185"><a href="#local-6989586621679043185"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679043184"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a><span> </span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043185"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621679043185"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-323"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;?=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-324"></a><span>
</span><a name="line-325"></a><span class="hs-special">(</span><span class="hs-operator">%%=</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="#local-6989586621679043072"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043073"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LensLike</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043074"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679043072"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043072"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679043075"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679043076"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043075"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043074"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679043076"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679043073"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679043074"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-326"></a><span class="hs-cpp">#if MIN_VERSION_mtl(2,1,1)
</span><a name="local-6989586621679043186"><a href="#local-6989586621679043186"><span class="hs-identifier">l</span></a></a><span> </span><a name="%25%25%3D"><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator">%%=</span></a></a><span> </span><a name="local-6989586621679043187"><a href="#local-6989586621679043187"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">State.state</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679043186"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="#local-6989586621679043187"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span class="hs-cpp">#else
</span><span class="hs-identifier">l</span><span> </span><span class="hs-operator">%%=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-330"></a><span>  </span><span class="hs-special">(</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">State.gets</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">l</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><a name="line-331"></a><span>  </span><span class="hs-identifier">State.put</span><span> </span><span class="hs-identifier">s</span><span>
</span><a name="line-332"></a><span>  </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-333"></a><span class="hs-cpp">#endif
</span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">%%=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-335"></a><span>
</span><a name="line-336"></a><span class="hs-keyword">infix</span><span> </span><span class="hs-number">4</span><span> </span><a href="Lens.Micro.Mtl.html#%25%25%3D"><span class="hs-operator hs-var">%%=</span></a><span>
</span><a name="line-337"></a></pre></body></html>