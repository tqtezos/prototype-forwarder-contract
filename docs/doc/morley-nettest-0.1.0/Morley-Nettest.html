<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Morley.Nettest</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Morley.Nettest.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-nettest-0.1.0: Network testing infrastructure based on Morley.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Morley.Nettest</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Constant address</a></li><li><a href="#g:2">Actions</a></li><li><a href="#g:3">Helpers</a></li><li><a href="#g:4">Validation</a></li><li><a href="#g:5">Real network implementation based on <code>tezos-client</code></a></li><li><a href="#g:6"><code>caps</code>-based commands</a></li><li><a href="#g:7">Integration with integrational testing engine (pun intended)</a></li><li><a href="#g:8">CLI</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Michelson contracts testing on a real Tezos network.</p><p>It defines an interface for writing network testing scenarios and provides
 two implementations: one of them talks to reference Tezos software and
 submits operations to real network, the other one converts scenario to
 the existing integrational testing eDSL.</p><p>Expected usage is the following:
 1. Write a scenario using abstract nettest interface.
 2. Make an executable (i. e. something that can be executed:
 executable or test-suite in .cabal file, normally the latter) which
 runs this scenario via pure integrational testing engine first (as
 a quick check for correctness) and then via <code>Client</code> implementation.
 This executable is supposed to run periodically, but not in each
 MR on each change.
 3. Also run this scenario in existing test-suite using pure implementation.
 So pure implementation will be used twice: in normal test-suite that
 runs on each change (which proves that it is <em>likely</em> correct) and in
 real network test to prevent that test from starting if the scenario
 is <em>most likely</em> <strong>not</strong> correct.
 4. Note that in order to run it on a real network you should have
 an address with <code>nettest</code> alias and it should have sufficient
 balance to run the scenario.</p><p>TODO:
 &#9733; [#50] Collect gas and other statistics in nettest.
 &#9733; [#52] Use RPC directly except for signing and key management, use features such as batching.
 &#9733; [#53] Maybe somehow merge with testing eDSL.
 &#9733; [#54] tezos-client internals should be wrapped into some API and moved somewhere into reusable place.
 &#9733; [#55] Add command line options parsing.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:AddrOrAlias">AddrOrAlias</a><ul class="subs"><li>= <a href="#v:AddrResolved">AddrResolved</a> <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li>| <a href="#v:AddrAlias">AddrAlias</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:OriginateData">OriginateData</a> = (<a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="#v:OriginateData">OriginateData</a> {<ul class="subs"><li><a href="#v:odFrom">odFrom</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></li><li><a href="#v:odName">odName</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li><a href="#v:odBalance">odBalance</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:odStorage">odStorage</a> :: st</li><li><a href="#v:odContract">odContract</a> :: <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:TransferData">TransferData</a> = (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a href="#v:TransferData">TransferData</a> {<ul class="subs"><li><a href="#v:tdFrom">tdFrom</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></li><li><a href="#v:tdTo">tdTo</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></li><li><a href="#v:tdAmount">tdAmount</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:tdEntrypoint">tdEntrypoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></li><li><a href="#v:tdParameter">tdParameter</a> :: v</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NettestImpl">NettestImpl</a> m = <a href="#v:NettestImpl">NettestImpl</a> {<ul class="subs"><li><a href="#v:niResolveAddr">niResolveAddr</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li><a href="#v:niGenKey">niGenKey</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li><a href="#v:niGenFreshKey">niGenFreshKey</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li><a href="#v:niOriginate">niOriginate</a> :: <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li><a href="#v:niTransfer">niTransfer</a> :: <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m ()</li><li><a href="#v:niComment">niComment</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m ()</li><li><a href="#v:niExpectFailure">niExpectFailure</a> :: <span class="keyword">forall</span> a. m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m ()</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:NettestScenario">NettestScenario</a> = <span class="keyword">forall</span> m. <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m ()</li><li class="src short"><a href="#v:nettestAddr">nettestAddr</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></li><li class="src short"><a href="#v:resolveAddrAction">resolveAddrAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:resolveNettestAddrAction">resolveNettestAddrAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:newAddressAction">newAddressAction</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:originateAction">originateAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:originateSimpleAction">originateSimpleAction</a> :: (<a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:transferAction">transferAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m ()</li><li class="src short"><a href="#v:callAction">callAction</a> :: (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m ()</li><li class="src short"><a href="#v:callFromAction">callFromAction</a> :: (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m ()</li><li class="src short"><a href="#v:commentAction">commentAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m ()</li><li class="src short"><a href="#v:expectFailureAction">expectFailureAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m ()</li><li class="src short"><a href="#v:ep">ep</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:NettestFailure">NettestFailure</a><ul class="subs"><li>= <a href="#v:NettestFailedWith">NettestFailedWith</a></li><li>| <a href="#v:NettestMutezArithError">NettestMutezArithError</a> <a href="../morley-1.0.0/Michelson-Typed-Arith.html#t:ArithErrorType" title="Michelson.Typed.Arith">ArithErrorType</a></li><li>| <a href="#v:NettestShiftArithError">NettestShiftArithError</a></li><li>| <a href="#v:NettestGasExhaustion">NettestGasExhaustion</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:NettestClientConfig">NettestClientConfig</a> = <a href="#v:NettestClientConfig">NettestClientConfig</a> {<ul class="subs"><li><a href="#v:nccScenarioName">nccScenarioName</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li><a href="#v:nccNodeAddress">nccNodeAddress</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></li><li><a href="#v:nccNodePort">nccNodePort</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a></li><li><a href="#v:nccTezosClient">nccTezosClient</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li><a href="#v:nccNodeUseHttps">nccNodeUseHttps</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:nccVerbose">nccVerbose</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:runNettestClient">runNettestClient</a> :: <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:nettestImplClient">nettestImplClient</a> :: <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadNettest">MonadNettest</a> caps base m = (<a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> base, m ~ <a href="../caps-0/Monad-Capabilities.html#t:CapsT" title="Monad.Capabilities">CapsT</a> caps base, <a href="../caps-0/Monad-Capabilities.html#t:HasCap" title="Monad.Capabilities">HasCap</a> <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> caps)</li><li class="src short"><span class="keyword">type</span> <a href="#t:NettestT">NettestT</a> m = <a href="../caps-0/Monad-Capabilities.html#t:CapsT" title="Monad.Capabilities">CapsT</a> '[<a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a>] m</li><li class="src short"><a href="#v:resolveAddr">resolveAddr</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:resolveNettestAddr">resolveNettestAddr</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:newAddress">newAddress</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:originate">originate</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:originateSimple">originateSimple</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></li><li class="src short"><a href="#v:transfer">transfer</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m ()</li><li class="src short"><a href="#v:call">call</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v, <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v) =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m ()</li><li class="src short"><a href="#v:callFrom">callFrom</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v, <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v) =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m ()</li><li class="src short"><a href="#v:comment">comment</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m ()</li><li class="src short"><a href="#v:expectFailure">expectFailure</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m ()</li><li class="src short"><a href="#v:uncapsNettest">uncapsNettest</a> :: <span class="keyword">forall</span> m a. <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestT" title="Morley.Nettest">NettestT</a> m a -&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m a</li><li class="src short"><a href="#v:runNettestViaIntegrational">runNettestViaIntegrational</a> :: <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:nettestToIntegrational">nettestToIntegrational</a> :: <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a></li><li class="src short"><a href="#v:getClientConfig">getClientConfig</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a></li><li class="src short"><a href="#v:clientConfigParser">clientConfigParser</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AddrOrAlias" class="def">AddrOrAlias</a> <a href="src/Morley.Nettest.Abstract.html#AddrOrAlias" class="link">Source</a> <a href="#t:AddrOrAlias" class="selflink">#</a></p><div class="doc"><p>Representation of an address that <code>tezos-client</code> uses. It can be
 an address itself or a textual alias.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AddrResolved" class="def">AddrResolved</a> <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></td><td class="doc"><p>Address itself, can be used as is.</p></td></tr><tr><td class="src"><a id="v:AddrAlias" class="def">AddrAlias</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></td><td class="doc"><p>Address alias, should be resolved by <code>tezos-client</code>.</p></td></tr></table></div><div class="subs instances"><details id="i:AddrOrAlias" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AddrOrAlias:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></span> <a href="src/Morley.Nettest.Abstract.html#line-76" class="link">Source</a> <a href="#t:AddrOrAlias" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AddrOrAlias:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AddrOrAlias:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></span> <a href="src/Morley.Nettest.Abstract.html#line-76" class="link">Source</a> <a href="#t:AddrOrAlias" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AddrOrAlias:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AddrOrAlias:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></span> <a href="src/Morley.Nettest.Abstract.html#line-76" class="link">Source</a> <a href="#t:AddrOrAlias" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AddrOrAlias:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AddrOrAlias:Buildable:4"></span> <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></span> <a href="src/Morley.Nettest.Abstract.html#line-78" class="link">Source</a> <a href="#t:AddrOrAlias" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AddrOrAlias:Buildable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../fmt-0.6.1.2/Fmt.html#t:Builder" title="Fmt">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OriginateData" class="def">OriginateData</a> <a href="src/Morley.Nettest.Abstract.html#OriginateData" class="link">Source</a> <a href="#t:OriginateData" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">(<a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a id="v:OriginateData" class="def">OriginateData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:odFrom" class="def">odFrom</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></dfn><div class="doc"><p>The address from which contract will be originated (must have some XTZ).</p></div></li><li><dfn class="src"><a id="v:odName" class="def">odName</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></dfn><div class="doc"><p>Alias for the originated contract.</p></div></li><li><dfn class="src"><a id="v:odBalance" class="def">odBalance</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc"><p>Initial balance.</p></div></li><li><dfn class="src"><a id="v:odStorage" class="def">odStorage</a> :: st</dfn><div class="doc"><p>Initial storage.</p></div></li><li><dfn class="src"><a id="v:odContract" class="def">odContract</a> :: <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st</dfn><div class="doc"><p>The contract itself.</p><p>We are using Lorentz version here which is convenient. However, keep in
 mind that:</p><ol><li>If someone wants to test a contract from `.tz` file, they will have to
 convert it to Lorentz somehow, which sounds bad, so in this case we'll
 have to provide another version that takes typed contract. Let's do it
 only if the need arises.</li><li>In TM-366 we want to move optimizer call and other preprocessing to
 Lorentz compilation. So conversion to typed contract will require an
 additional argument. Note that we'll have the same problem in
 integrational testing eDSL as well, so let's handle them both at once.
 I think that usually we'll want to apply the same compilation options
 to all contracts, so we can simply add them to some runner.
 Or we can use default options and add a command that modifies them for
 further calls.</li></ol></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TransferData" class="def">TransferData</a> <a href="src/Morley.Nettest.Abstract.html#TransferData" class="link">Source</a> <a href="#t:TransferData" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">(<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a id="v:TransferData" class="def">TransferData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tdFrom" class="def">tdFrom</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></dfn><div class="doc"><p>Sender address for this transaction.</p></div></li><li><dfn class="src"><a id="v:tdTo" class="def">tdTo</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a></dfn><div class="doc"><p>Receiver address for this transaction.</p></div></li><li><dfn class="src"><a id="v:tdAmount" class="def">tdAmount</a> :: <a href="../base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc"><p>Amount to be transferred.</p></div></li><li><dfn class="src"><a id="v:tdEntrypoint" class="def">tdEntrypoint</a> :: <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></dfn><div class="doc"><p>An entrypoint to be called. Consider using <code><a href="Morley-Nettest.html#v:ep" title="Morley.Nettest">ep</a></code> in testing
 scenarios.</p></div></li><li><dfn class="src"><a id="v:tdParameter" class="def">tdParameter</a> :: v</dfn><div class="doc"><p>Parameter that will be used for a contract call. Set to <code>()</code>
 for transfers to key addresses.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:TransferData" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransferData:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a></span> <a href="src/Morley.Nettest.Abstract.html#line-134" class="link">Source</a> <a href="#t:TransferData" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransferData:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NettestImpl" class="def">NettestImpl</a> m <a href="src/Morley.Nettest.Abstract.html#NettestImpl" class="link">Source</a> <a href="#t:NettestImpl" class="selflink">#</a></p><div class="doc"><p>A record data type with all base methods one can use during nettest.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NettestImpl" class="def">NettestImpl</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:niResolveAddr" class="def">niResolveAddr</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></dfn><div class="doc"><p>Unwrap an <code><a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></code> or get an <code><a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></code> corresponding to an alias.</p></div></li><li><dfn class="src"><a id="v:niGenKey" class="def">niGenKey</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></dfn><div class="doc"><p>Generate a secret key and store it with given alias.
 If a key with this alias already exists, the corresponding address
 will be returned and no state will be changed.</p></div></li><li><dfn class="src"><a id="v:niGenFreshKey" class="def">niGenFreshKey</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></dfn><div class="doc"><p>Generate a secret key and store it with given alias.
 Unlike <code><a href="Morley-Nettest.html#v:niGenKey" title="Morley.Nettest">niGenKey</a></code> this function overwrites the existing key when
 given alias is already stored.</p></div></li><li><dfn class="src"><a id="v:niOriginate" class="def">niOriginate</a> :: <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></dfn><div class="doc"><p>Originate a new contract with given data.</p></div></li><li><dfn class="src"><a id="v:niTransfer" class="def">niTransfer</a> :: <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m ()</dfn><div class="doc"><p>Send a transaction with given data.</p></div></li><li><dfn class="src"><a id="v:niComment" class="def">niComment</a> :: <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m ()</dfn><div class="doc"><p>Print given string verbatim as a comment.</p></div></li><li><dfn class="src"><a id="v:niExpectFailure" class="def">niExpectFailure</a> :: <span class="keyword">forall</span> a. m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m ()</dfn><div class="doc"><p>Expect a failure while running another action</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NettestScenario" class="def">NettestScenario</a> = <span class="keyword">forall</span> m. <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m () <a href="src/Morley.Nettest.Abstract.html#NettestScenario" class="link">Source</a> <a href="#t:NettestScenario" class="selflink">#</a></p><div class="doc"><p>Any monadic computation that can only access nettest methods.</p></div></div><a href="#g:1" id="g:1"><h1>Constant address</h1></a><div class="top"><p class="src"><a id="v:nettestAddr" class="def">nettestAddr</a> :: <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> <a href="src/Morley.Nettest.Abstract.html#nettestAddr" class="link">Source</a> <a href="#v:nettestAddr" class="selflink">#</a></p><div class="doc"><p>This address will be used as source by default. Some
 functionality in this module assumes that this address has
 <em>sufficient</em> amount of XTZ in advance (required amount depends on scenario).</p></div></div><a href="#g:2" id="g:2"><h1>Actions</h1></a><div class="top"><p class="src"><a id="v:resolveAddrAction" class="def">resolveAddrAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Abstract.html#resolveAddrAction" class="link">Source</a> <a href="#v:resolveAddrAction" class="selflink">#</a></p><div class="doc"><p>Alias for <code><a href="Morley-Nettest.html#v:niResolveAddr" title="Morley.Nettest">niResolveAddr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:resolveNettestAddrAction" class="def">resolveNettestAddrAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Abstract.html#resolveNettestAddrAction" class="link">Source</a> <a href="#v:resolveNettestAddrAction" class="selflink">#</a></p><div class="doc"><p>Get <code><a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a></code> corresponding to <code><a href="Morley-Nettest.html#v:nettestAddr" title="Morley.Nettest">nettestAddr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:newAddressAction" class="def">newAddressAction</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Abstract.html#newAddressAction" class="link">Source</a> <a href="#v:newAddressAction" class="selflink">#</a></p><div class="doc"><p>Generate a new secret key and record it with given alias. Also
 transfer small amount of XTZ to it from <code><a href="Morley-Nettest.html#v:nettestAddr" title="Morley.Nettest">nettestAddr</a></code>. Does not
 override an existing address.</p></div></div><div class="top"><p class="src"><a id="v:originateAction" class="def">originateAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Abstract.html#originateAction" class="link">Source</a> <a href="#v:originateAction" class="selflink">#</a></p><div class="doc"><p>Alias for <code><a href="Morley-Nettest.html#v:niOriginate" title="Morley.Nettest">niOriginate</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:originateSimpleAction" class="def">originateSimpleAction</a> :: (<a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Abstract.html#originateSimpleAction" class="link">Source</a> <a href="#v:originateSimpleAction" class="selflink">#</a></p><div class="doc"><p>A simplified version of the originate command. Uses default
 address (<code><a href="Morley-Nettest.html#v:nettestAddr" title="Morley.Nettest">nettestAddr</a></code>). The contract will have 0 balance.</p></div></div><div class="top"><p class="src"><a id="v:transferAction" class="def">transferAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m () <a href="src/Morley.Nettest.Abstract.html#transferAction" class="link">Source</a> <a href="#v:transferAction" class="selflink">#</a></p><div class="doc"><p>Alias for <code><a href="Morley-Nettest.html#v:niTransfer" title="Morley.Nettest">niTransfer</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:callAction" class="def">callAction</a> :: (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m () <a href="src/Morley.Nettest.Abstract.html#callAction" class="link">Source</a> <a href="#v:callAction" class="selflink">#</a></p><div class="doc"><p>Call a certain entrypoint of a contract referred to by some
 address.  The sender is <code><a href="Morley-Nettest.html#v:nettestAddr" title="Morley.Nettest">nettestAddr</a></code>, so it should have sufficient
 XTZ to pay tx fee.</p></div></div><div class="top"><p class="src"><a id="v:callFromAction" class="def">callFromAction</a> :: (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v) =&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m () <a href="src/Morley.Nettest.Abstract.html#callFromAction" class="link">Source</a> <a href="#v:callFromAction" class="selflink">#</a></p><div class="doc"><p>Call a certain entrypoint of a contract referred to by the second
 address from the first address.</p></div></div><div class="top"><p class="src"><a id="v:commentAction" class="def">commentAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m () <a href="src/Morley.Nettest.Abstract.html#commentAction" class="link">Source</a> <a href="#v:commentAction" class="selflink">#</a></p><div class="doc"><p>Alias for <code><a href="Morley-Nettest.html#v:niComment" title="Morley.Nettest">niComment</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:expectFailureAction" class="def">expectFailureAction</a> :: <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m () <a href="src/Morley.Nettest.Abstract.html#expectFailureAction" class="link">Source</a> <a href="#v:expectFailureAction" class="selflink">#</a></p><div class="doc"><p>Alias for <code><a href="Morley-Nettest.html#v:niExpectFailure" title="Morley.Nettest">niExpectFailure</a></code>.</p></div></div><a href="#g:3" id="g:3"><h1>Helpers</h1></a><div class="top"><p class="src"><a id="v:ep" class="def">ep</a> :: <a href="../base-4.12.0.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> <a href="src/Morley.Nettest.Abstract.html#ep" class="link">Source</a> <a href="#v:ep" class="selflink">#</a></p><div class="doc"><p>A short partial constructor for <code><a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a></code>. It is supposed to be
 applied to string constants, so programmer is responsible for
 validity. And this code is for tests anyway, so each failure is a
 programmer mistake.</p><p>It is intentionally here and not in some deeper module because the
 name is really short and more suitable for writing scenarios.</p></div></div><a href="#g:4" id="g:4"><h1>Validation</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NettestFailure" class="def">NettestFailure</a> <a href="src/Morley.Nettest.Abstract.html#NettestFailure" class="link">Source</a> <a href="#t:NettestFailure" class="selflink">#</a></p><div class="doc"><p>Failures that could be expected in the execution of a <code><a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a></code> action</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NettestFailedWith" class="def">NettestFailedWith</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NettestMutezArithError" class="def">NettestMutezArithError</a> <a href="../morley-1.0.0/Michelson-Typed-Arith.html#t:ArithErrorType" title="Michelson.Typed.Arith">ArithErrorType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NettestShiftArithError" class="def">NettestShiftArithError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NettestGasExhaustion" class="def">NettestGasExhaustion</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:NettestFailure" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NettestFailure:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a></span> <a href="src/Morley.Nettest.Abstract.html#line-281" class="link">Source</a> <a href="#t:NettestFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NettestFailure:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NettestFailure:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a></span> <a href="src/Morley.Nettest.Abstract.html#line-281" class="link">Source</a> <a href="#t:NettestFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NettestFailure:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NettestFailure:Exception:3"></span> <a href="../base-4.12.0.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a></span> <a href="src/Morley.Nettest.Abstract.html#line-283" class="link">Source</a> <a href="#t:NettestFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NettestFailure:Exception:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NettestFailure:Buildable:4"></span> <a href="../fmt-0.6.1.2/Fmt.html#t:Buildable" title="Fmt">Buildable</a> <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a></span> <a href="src/Morley.Nettest.Abstract.html#line-286" class="link">Source</a> <a href="#t:NettestFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NettestFailure:Buildable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Abstract.html">Morley.Nettest.Abstract</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; <a href="../fmt-0.6.1.2/Fmt.html#t:Builder" title="Fmt">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h1>Real network implementation based on <code>tezos-client</code></h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NettestClientConfig" class="def">NettestClientConfig</a> <a href="src/Morley.Nettest.Client.html#NettestClientConfig" class="link">Source</a> <a href="#t:NettestClientConfig" class="selflink">#</a></p><div class="doc"><p>Configuration of nettest implementation for real network.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NettestClientConfig" class="def">NettestClientConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nccScenarioName" class="def">nccScenarioName</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nccNodeAddress" class="def">nccNodeAddress</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nccNodePort" class="def">nccNodePort</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nccTezosClient" class="def">nccTezosClient</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nccNodeUseHttps" class="def">nccNodeUseHttps</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:nccVerbose" class="def">nccVerbose</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:NettestClientConfig" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NettestClientConfig:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a></span> <a href="src/Morley.Nettest.Client.html#line-32" class="link">Source</a> <a href="#t:NettestClientConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NettestClientConfig:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Morley-Nettest-Client.html">Morley.Nettest.Client</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runNettestClient" class="def">runNettestClient</a> :: <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Morley.Nettest.Client.html#runNettestClient" class="link">Source</a> <a href="#v:runNettestClient" class="selflink">#</a></p><div class="doc"><p>Run <code><a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a></code> using implementation for real network.
 Throws an error if an unexpected failure occurs or if an expected one doesn't</p></div></div><div class="top"><p class="src"><a id="v:nettestImplClient" class="def">nettestImplClient</a> :: <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> -&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="src/Morley.Nettest.Client.html#nettestImplClient" class="link">Source</a> <a href="#v:nettestImplClient" class="selflink">#</a></p><div class="doc"><p>Implementation that works with real network and uses `tezos-node`
 RPC and `tezos-client`.</p></div></div><a href="#g:6" id="g:6"><h1><code>caps</code>-based commands</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadNettest" class="def">MonadNettest</a> caps base m = (<a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> base, m ~ <a href="../caps-0/Monad-Capabilities.html#t:CapsT" title="Monad.Capabilities">CapsT</a> caps base, <a href="../caps-0/Monad-Capabilities.html#t:HasCap" title="Monad.Capabilities">HasCap</a> <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> caps) <a href="src/Morley.Nettest.Caps.html#MonadNettest" class="link">Source</a> <a href="#t:MonadNettest" class="selflink">#</a></p><div class="doc"><p>Constraint for a monad in which we can do nettest actions.
 It requires <code><a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a></code> capability.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NettestT" class="def">NettestT</a> m = <a href="../caps-0/Monad-Capabilities.html#t:CapsT" title="Monad.Capabilities">CapsT</a> '[<a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a>] m <a href="src/Morley.Nettest.Caps.html#NettestT" class="link">Source</a> <a href="#t:NettestT" class="selflink">#</a></p><div class="doc"><p>Monad transformer that adds only <code><a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a></code> capability.</p></div></div><div class="top"><p class="src"><a id="v:resolveAddr" class="def">resolveAddr</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Caps.html#resolveAddr" class="link">Source</a> <a href="#v:resolveAddr" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:resolveAddrAction" title="Morley.Nettest">resolveAddrAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:resolveNettestAddr" class="def">resolveNettestAddr</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Caps.html#resolveNettestAddr" class="link">Source</a> <a href="#v:resolveNettestAddr" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:resolveAddrAction" title="Morley.Nettest">resolveAddrAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:newAddress" class="def">newAddress</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Caps.html#newAddress" class="link">Source</a> <a href="#v:newAddress" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:newAddressAction" title="Morley.Nettest">newAddressAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:originate" class="def">originate</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:OriginateData" title="Morley.Nettest">OriginateData</a> -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Caps.html#originate" class="link">Source</a> <a href="#v:originate" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:originateAction" title="Morley.Nettest">originateAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:originateSimple" class="def">originateSimple</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Derivative.html#t:NiceParameterFull" title="Lorentz.Constraints.Derivative">NiceParameterFull</a> param, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceStorage" title="Lorentz.Constraints.Scopes">NiceStorage</a> st) =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; st -&gt; <a href="../lorentz-0.1.0/Lorentz-Base.html#t:ContractCode" title="Lorentz.Base">ContractCode</a> param st -&gt; m <a href="../lorentz-0.1.0/Lorentz-Address.html#t:Address" title="Lorentz.Address">Address</a> <a href="src/Morley.Nettest.Caps.html#originateSimple" class="link">Source</a> <a href="#v:originateSimple" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:originateSimpleAction" title="Morley.Nettest">originateSimpleAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:transfer" class="def">transfer</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="Morley-Nettest.html#t:TransferData" title="Morley.Nettest">TransferData</a> -&gt; m () <a href="src/Morley.Nettest.Caps.html#transfer" class="link">Source</a> <a href="#v:transfer" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:transferAction" title="Morley.Nettest">transferAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:call" class="def">call</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v, <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v) =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m () <a href="src/Morley.Nettest.Caps.html#call" class="link">Source</a> <a href="#v:call" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:callAction" title="Morley.Nettest">callAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:callFrom" class="def">callFrom</a> :: (<a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m, <a href="../lorentz-0.1.0/Lorentz-Constraints-Scopes.html#t:NiceParameter" title="Lorentz.Constraints.Scopes">NiceParameter</a> v, <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v) =&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="Morley-Nettest.html#t:AddrOrAlias" title="Morley.Nettest">AddrOrAlias</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Value.html#t:EpName" title="Lorentz.Value">EpName</a> -&gt; v -&gt; m () <a href="src/Morley.Nettest.Caps.html#callFrom" class="link">Source</a> <a href="#v:callFrom" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:callFromAction" title="Morley.Nettest">callFromAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:comment" class="def">comment</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; m () <a href="src/Morley.Nettest.Caps.html#comment" class="link">Source</a> <a href="#v:comment" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:commentAction" title="Morley.Nettest">commentAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:expectFailure" class="def">expectFailure</a> :: <a href="Morley-Nettest.html#t:MonadNettest" title="Morley.Nettest">MonadNettest</a> caps base m =&gt; m a -&gt; <a href="Morley-Nettest.html#t:NettestFailure" title="Morley.Nettest">NettestFailure</a> -&gt; m () <a href="src/Morley.Nettest.Caps.html#expectFailure" class="link">Source</a> <a href="#v:expectFailure" class="selflink">#</a></p><div class="doc"><p><code><a href="Morley-Nettest.html#v:expectFailureAction" title="Morley.Nettest">expectFailureAction</a></code> adapted to <code>caps</code>.</p></div></div><div class="top"><p class="src"><a id="v:uncapsNettest" class="def">uncapsNettest</a> :: <span class="keyword">forall</span> m a. <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Morley-Nettest.html#t:NettestT" title="Morley.Nettest">NettestT</a> m a -&gt; <a href="Morley-Nettest.html#t:NettestImpl" title="Morley.Nettest">NettestImpl</a> m -&gt; m a <a href="src/Morley.Nettest.Caps.html#uncapsNettest" class="link">Source</a> <a href="#v:uncapsNettest" class="selflink">#</a></p><div class="doc"><p>Adapt <code>caps</code>-based interface back to argument passing style.</p></div></div><a href="#g:7" id="g:7"><h1>Integration with integrational testing engine (pun intended)</h1></a><div class="top"><p class="src"><a id="v:runNettestViaIntegrational" class="def">runNettestViaIntegrational</a> :: <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Morley.Nettest.Pure.html#runNettestViaIntegrational" class="link">Source</a> <a href="#v:runNettestViaIntegrational" class="selflink">#</a></p><div class="doc"><p>Run a <code><a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a></code> by converting it to integrational
 scenario and then passing to HUnit engine.
 Throws an exception in case of an unexpected failure.</p><p>It is suitable for very simple test-suites where we just want to
 test scenario quickly first and then run it on real network in case
 we consider it valid.</p></div></div><div class="top"><p class="src"><a id="v:nettestToIntegrational" class="def">nettestToIntegrational</a> :: <a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a> -&gt; <a href="../lorentz-0.1.0/Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a> <a href="src/Morley.Nettest.Pure.html#nettestToIntegrational" class="link">Source</a> <a href="#v:nettestToIntegrational" class="selflink">#</a></p><div class="doc"><p>Build <code><a href="../lorentz-0.1.0/Lorentz-Test-Integrational.html#t:IntegrationalScenario" title="Lorentz.Test.Integrational">IntegrationalScenario</a></code> out of <code><a href="Morley-Nettest.html#t:NettestScenario" title="Morley.Nettest">NettestScenario</a></code>.
 Also accepts a <code>NettestExpectation</code> to validate the result of the scenario</p></div></div><a href="#g:8" id="g:8"><h1>CLI</h1></a><div class="top"><p class="src"><a id="v:getClientConfig" class="def">getClientConfig</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> <a href="src/Morley.Nettest.CLI.html#getClientConfig" class="link">Source</a> <a href="#v:getClientConfig" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clientConfigParser" class="def">clientConfigParser</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../lorentz-0.1.0/Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> -&gt; <a href="../optparse-applicative-0.14.3.0/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a> <a href="src/Morley.Nettest.CLI.html#clientConfigParser" class="link">Source</a> <a href="#v:clientConfigParser" class="selflink">#</a></p><div class="doc"><p>Standard command line options parser for <code><a href="Morley-Nettest.html#t:NettestClientConfig" title="Morley.Nettest">NettestClientConfig</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>